{"version":3,"sources":["store/actions/cartBuilder.js","store/actions/actionTypes.js","store/actions/products.js","store/actions/Order.js","store/actions/auth.js","components/headerCart.js","useSearch.js","components/Auth.js","components/Drawer.js","utils/slug.js","utils/SkeletonComponent.js","components/Header.js","components/productCategory.js","containers/HomePage.js","components/cartPageButton.js","components/cartProduct.js","components/modal.js","components/clearCart.js","containers/CartPage.js","components/subCategoryHeader.js","components/BackDrop.js","components/cartButton.js","components/product.js","components/ProductContainer.js","components/ProductFilter.js","components/BrandFilter.js","components/Filters.js","containers/SubCategory.js","components/Infinite.js","components/addressSelect.js","utils/Spinner/spinner.js","containers/PlaceOrder.js","containers/OrderConfirm.js","components/loginInput.js","containers/LoginPage.js","utils/CustomInput.js","components/addProduct.js","components/addCategory.js","components/addProductCategory.js","components/product_choice.js","containers/Product.js","containers/SearchProduct.js","components/editProductTypes.js","ProtectedRoute.js","components/addAddress.js","containers/Profile.js","containers/Orders.js","containers/Order.js","components/editAddress.js","containers/ErrorPage.js","components/addProductTypes.js","components/WishListProduct.js","containers/WishListPage.js","App.js","store/actions/Category.js","store/reducer/cart.js","store/reducer/category.js","store/reducer/products.js","store/reducer/search.js","serviceWorker.js","store/reducer/auth.js","store/reducer/order.js","index.js"],"names":["Axios","defaults","withCredentials","incrementProduct","id","sku_id","type","decrementProduct","setCart","cart","getCart","dispatch","getState","a","get","data","setProducts","products","setHasMore","fetchProductsStart","addAddress","payload","addressLoading","HeaderCart","state","useSelector","cartBuilder","length","className","xmlns","width","height","viewBox","d","useSearch","query","useState","response","setResponse","error","setError","loading","setLoading","useEffect","cancel","timeout","setTimeout","axios","cancelToken","CancelToken","c","then","res","r","catch","err","isCancel","clearTimeout","Auth","auth","authBuilder","isSignedIn","history","useHistory","onSignInClick","push","onClick","fill","fillRule","clipRule","Drawer","toggle","onToggle","theme","document","body","classList","contains","root","getElementById","darkTheme","setDarkTheme","add","remove","classes","phoneNumber","isAdmin","useDispatch","x","y","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeDashoffset","fontFamily","fontWeight","fontSize","textAnchor","e","stopPropagation","localStorage","setItem","cx","cy","removeItem","string_to_slug","str","replace","toLowerCase","from","i","l","RegExp","charAt","SkeletonComponent","SkeletonLines","Header","setToggle","open","setOpen","t","value","setValue","Close","to","onChange","target","placeholder","map","key","name","ProductCategory","category","console","log","window","outerWidth","subCat","index","pathname","slug","search","src","image_url","alt","array_word","word","join","outerHeight","substring","concat","truncate","style","aria-hidden","role","focusable","HomePage","categoryBuilder","backdrop","CartPageButton","product","sku","quantity","increment","decrement","setState","mounted","post","product_id","cart_id","actions","constraint","toast","position","autoClose","hideProgressBar","closeOnClick","message","request","dismiss","class","stroke-width","CartProduct","q","findIndex","images","image","sp","discount","mrp","toFixed","modal","Modal","children","rootElemRef","isOn","React","useRef","querySelector","ReactDOM","createPortal","ref","ClearCart","initialValue","v","useToggle","toggleIsOn","dispatchClear","CartPage","props","goBack","total_price","amount","skuId","newestOnTop","rtl","pauseOnFocusLoss","draggable","pauseOnHover","total_initialPrice","productId","animationFillMode","animationDelay","render","SubCategoryHeader","useParams","subCategory","split","pop","categoryClass","categoryFind","find","scrollIntoView","behaviour","block","current","BackDrop","CartButton","userId","addToCart","stock","item","Product","setSku","skus","selectedType","selectedChoice","parseFloat","disabled","WebkitTapHighlightColor","queryString","require","ProductContainer","brandParams","location","useLocation","parsed","parse","arrayFormat","brand","currentPage","URLSearchParams","pagination","order","sort","updatedPage","page","stringify","skipEmptyString","skipNull","category_id","product_category_id","useQuery","url","source","promise","params","token","refetchOnMount","refetchOnWindowFocus","cacheTime","staleTime","status","results","total","hasMore","ProductFilter","setToggleProductFilter","toggleProductFilter","filter","sorting","dispatchSort","checked","BrandFilter","toggleBrandFilter","setToggleBrandFilter","selectedBrands","setSelectedBrands","applyFilter","selectedBrandsStringify","handleChange","Array","isArray","options","label","isMulti","includes","isClearable","hideSelectedOptions","autoFocus","closeMenuOnSelect","Filters","showFilters","onDrawerClick","openBackDrop","SubCategory","memo","showDrawer","setshowDrawer","setshowFilters","cssClass","show","Infinite","setQuery","setPage","lastBookElementRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","p","observe","AddressSelect","setshowAddress","address","addresses","setAddress","noEdit","selected","house_no","address_detail","delivery_area","city","pincode","Spinner","Component","PlaceOrder","store","date","Date","today","toLocaleDateString","tom","setDate","getDate","tomorrow","showAddress","user_id","orderBuilder","orderId","purchased","backDrop","calc","property","total_selling_price","total_bill","step","setStep","validationSchema","Yup","delivery_slot","required","delivery_time","payment_type","initialValues","delivery_instructions","onSubmit","values","setSubmitting","setErrors","delivery_date","delivery_charges","order_items","order_id","handleSubmit","setFieldValue","errors","touched","isSubmitting","validateForm","opt","action","isSearchable","openMenuOnClick","minMenuHeight","menuPlacement","Object","keys","htmlFor","getUTCDate","toLocaleString","OrderConfirm","LoginInput","useField","field","meta","Symbol","Button","text","LoginPage","formRef","moreThan","lessThan","otp","sendOtp","setValues","isValid","Retry","userData","innerRef","resend","CustomInput","CustomTextArea","AddProduct","desc","brand_id","brandName","categoryOptions","productCategoryOptions","forEach","shape","test","this","parent","when","is","val","editProduct","patch","resetForm","JSON","setStatus","details","_handleSubmit","parseAndHandleChange","parseInt","isNaN","symbol","event","selectCategory","selectSubCat","AddCategory","AddProductCategory","ProductChoice","types","file","setFile","match","setProduct","setType","fetchData","addProductskus","uploadImage","fileName","uploadConfig","put","headers","files","accept","SearchProduct","productBuilder","EditProductType","PrivateRoute","rest","Addaddress","min","typeError","positive","integer","max","Profile","user","strokeWdth","delete","Order","orders","setFilter","toString","order_status","orderDetail","setOrderDetails","price","EditAddress","defaultaddress","defaultAddress","updateAddress","CustomTextInput","ErrorPage","href","AddProductType","WishListProduct","App","getItem","onInit","ProtectedRoute","path","exact","Orders","WishListPage","component","updateObject","oldObject","updatedProperties","initialState","cartDetail","productIndex","clearCart","validatedCart","reducer","setCategory","brand_filters","fetchProductStart","setBrand","resetProducts","resetPage","fetchMoreProducts","setMoreSearch","fetchProductsSuccess","fetchProductsFailed","incrementPage","setBrandFilter","setSort","resetFilters","fetchSearchStart","setSearch","resetSearch","fetchSearchFailed","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initial_state","purchaseInit","purchasing","purchaseReset","orderStart","orderSuccess","orderFail","fetchOrdersStart","fetchOrdersSuccess","fetchOrdersFail","queryClient","QueryClient","middlewares","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","searchBuilder","createStore","applyMiddleware","client","URL","process","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.85b2664d.chunk.js","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\nimport Axios from \"axios\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nexport const addToCart = (item) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: actionTypes.ADD_TO_CART,\r\n      item: item,\r\n      loading: false,\r\n    });\r\n  };\r\n};\r\n\r\nexport const removeFromCart = (id) => {\r\n  return {\r\n    type: actionTypes.REMOVE_FROM_CART,\r\n    id: id,\r\n  };\r\n};\r\n\r\nexport const incrementProduct = (id, sku_id) => {\r\n  return {\r\n    type: actionTypes.INCREMENT_PRODUCT,\r\n    id,\r\n    sku_id,\r\n  };\r\n};\r\n\r\nexport const decrementProduct = (id, sku_id) => {\r\n  return {\r\n    type: actionTypes.DECREMENT_PRODUCT,\r\n    id,\r\n    sku_id,\r\n  };\r\n};\r\nconst setCart = (cart) => {\r\n  return {\r\n    type: actionTypes.SET_CART,\r\n    cart: cart,\r\n  };\r\n};\r\n\r\nexport const loading = (cart) => {\r\n  return {\r\n    type: actionTypes.CART_LOADING,\r\n  };\r\n};\r\n\r\nexport const validatedCart = (data) => {\r\n  return {\r\n    type: actionTypes.VALIDATED_CART,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const getCart = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loading());\r\n\r\n    try {\r\n      const { data } = await Axios.get(\r\n        \"https://frozen-reef-15026.herokuapp.com/api/cart\"\r\n      );\r\n      dispatch(setCart(data));\r\n    } catch (err) {\r\n      dispatch(setCart([]));\r\n    }\r\n  };\r\n};\r\n\r\nexport const clearCart = () => {\r\n  return { type: actionTypes.CLEAR_CART };\r\n};\r\n\r\nexport const initCart = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(loading());\r\n    try {\r\n      const { data } = await Axios.get(\r\n        \"https://frozen-reef-15026.herokuapp.com/api/cart\"\r\n      );\r\n      dispatch(setCart(data));\r\n    } catch (err) {\r\n      dispatch(setCart([]));\r\n    }\r\n  };\r\n};\r\n","export const FETCH_PRODUCTS_SUCCESS = \"FETCH_PRODUCTS_SUCCESS\";\r\nexport const FETCH_PRODUCTS_FAILED = \"FETCH_PRODUCTS_FAILED\";\r\nexport const FETCH_PRODUCTS_START = \"FETCH_PRODUCTS_START\";\r\nexport const INCREMENT_PAGE = \"INCREMENT_PAGE\";\r\nexport const SET_MORE_PRODUCTS = \"SET_MORE_PRODUCTS\";\r\nexport const RESET_PAGE = \"RESET_PAGE\";\r\nexport const SET_HAS_MORE = \"SET_HAS_MORE\";\r\nexport const SET_LOADING = \"SET_LOADING\";\r\nexport const VALIDATED_CART = \"VALIDATED_CART\";\r\nexport const RESET_PRODUCTS = \"RESET_PRODUCTS\";\r\nexport const SET_QUERY = \"SET_QUERY\";\r\nexport const SET_MORE_SEARCH = \"SET_MORE_SEARCH\";\r\nexport const INIT_PRODUCT = \"INIT_PRODUCT\";\r\nexport const SET_BRAND = \"SET_BRAND\";\r\nexport const SET_BRAND_FILTER = \"SET_BRAND_FILTER\";\r\nexport const FETCH_BY_BRAND = \"FETCH_BY_BRAND\";\r\nexport const RESET_FILTERS = \"RESET_FILTERS\";\r\nexport const SET_SORT = \"SET_SORT\";\r\nexport const FETCH_PRODUCT_CATEGORY = \"SET_PRODUCT_CATEGORY\";\r\nexport const FETCH_PRODUCT_CATEGORY_FAILED = \"FETCH_PRODUCT_CATEGORY_FAILED\";\r\n\r\nexport const FETCH_ORDERS_START = \"FETCH_ORDERS_START\";\r\nexport const FETCH_ORDERS_SUCCESS = \"FETCH_ORDERS_SUCCESS\";\r\nexport const FETCH_ORDERS_FAIL = \"FETCH_ORDERS_FAIL\";\r\n\r\nexport const CREATE_ORDER = \"ORDER_CREATE\";\r\nexport const CREATE_ORDER_FAILED = \"CREATE_ORDER_FAILED\";\r\nexport const CREATE_ORDER_SUCCESS = \"CREATE_ORDER_SUCCESS\";\r\nexport const CREATE_ORDER_START = \"CREATE_ORDER_START\";\r\nexport const PURCHASE_INIT = \"PURCHASE_INIT\";\r\nexport const PURCHASE_RESET = \"PURCHASE_RESET\";\r\n\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const INCREMENT_PRODUCT = \"INCREMENT_PRODUCT\";\r\nexport const DECREMENT_PRODUCT = \"DECREMENT_PRODUCT\";\r\nexport const SET_CART = \"SET_CART\";\r\nexport const CART_LOADING = \"CART_LOADING\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\n\r\nexport const FETCH_SEARCH_LOADING = \"FETCH_SEARCH_LOADING\";\r\nexport const SET_SEARCH = \"SET_SEARCH\";\r\nexport const RESET_SEARCH = \"RESET_SEARCH\";\r\nexport const FETCH_SEARCH_SUCCESS = \"FETCH_SEARCH_SUCCESS\";\r\nexport const FETCH_SEARCH_FAILED = \"FETCH_SEARCH_FAILED\";\r\n\r\nexport const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const CURRENT_USER = \"CURRENT_USER\";\r\nexport const SIGN_IN_SUCCESS = \"SIGN_IN_SUCCESS\";\r\nexport const SIGN_IN_FAILED = \"SIGN_IN_FAILED\";\r\nexport const AUTH_LOADING = \"AUTH_LOADING\";\r\nexport const FETCH_ADDRESS = \"FETCH_ADDRESS\";\r\nexport const SET_ADDRESS = \"SET_ADDRESS\";\r\nexport const FETCH_ADDRESS_LOADING = \"FETCH_ADDRESS_LOADING\";\r\nexport const DELETE_ADDRESS = \"DELETE_ADDRESS\";\r\nexport const ADD_ADDRESS = \"ADD_ADDRESS\";\r\n","import Axios from \"axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\n\r\nexport const setProducts = (data) => {\r\n  return {\r\n    type: actionTypes.FETCH_PRODUCTS_SUCCESS,\r\n    products: data,\r\n  };\r\n};\r\n\r\nexport const setHasMore = (data) => {\r\n  return {\r\n    type: actionTypes.SET_HAS_MORE,\r\n    data,\r\n  };\r\n};\r\nexport const fetchMoreProducts = (category_id, product_category_id, page) => {\r\n  return (dispatch, getState) => {\r\n    const brand_filters = getState().productBuilder.brand_filters;\r\n    let brand = [];\r\n\r\n    brand = brand_filters.map((i) => {\r\n      return i.value;\r\n    });\r\n    let sort = getState().productBuilder.sort;\r\n    brand = [...new Set([...brand])];\r\n    dispatch(incrementPage());\r\n\r\n    dispatch(fetchProductsStart());\r\n    const page = getState().productBuilder.page;\r\n    Axios.post(\"https://frozen-reef-15026.herokuapp.com/api/products\", {\r\n      category_id,\r\n      product_category_id,\r\n      page,\r\n      brand_filters: brand,\r\n      sort,\r\n    })\r\n      .then((response) => {\r\n        if (response.data.products.length > 0) {\r\n          dispatch(setHasMore(response.data.products.length > 0));\r\n          dispatch(setMoreProducts(response.data.products));\r\n        } else {\r\n          dispatch(setLoading(false));\r\n          dispatch(setHasMore(response.data.products.length > 0));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(setHasMore(false));\r\n        dispatch(fetchProductsFailed());\r\n      });\r\n  };\r\n};\r\nexport const fetchMoreSearch = () => {\r\n  return (dispatch, getState) => {\r\n    dispatch(incrementPage());\r\n    dispatch(fetchProductsStart());\r\n    Axios.get(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/product_suggestions\",\r\n      {\r\n        params: {\r\n          q: getState().productBuilder.query,\r\n          page: getState().productBuilder.page,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => {\r\n        if (response.data.length > 0) {\r\n          dispatch(setHasMore(response.data.length > 0));\r\n          dispatch(setMoreSearch(response.data));\r\n        } else {\r\n          dispatch(setLoading(false));\r\n          dispatch(setHasMore(response.data.length > 0));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchProductsFailed());\r\n      });\r\n  };\r\n};\r\n\r\nexport const setMoreSearch = (data) => {\r\n  return {\r\n    type: actionTypes.SET_MORE_SEARCH,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const setMoreProducts = (data) => {\r\n  return {\r\n    type: actionTypes.SET_MORE_PRODUCTS,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const setQuery = (query) => {\r\n  return {\r\n    type: actionTypes.SET_QUERY,\r\n    query,\r\n  };\r\n};\r\nexport const setLoading = (data) => {\r\n  return {\r\n    type: actionTypes.SET_LOADING,\r\n    data,\r\n  };\r\n};\r\nexport const fetchProductsFailed = () => {\r\n  return {\r\n    type: actionTypes.FETCH_PRODUCTS_FAILED,\r\n  };\r\n};\r\n\r\nexport const fetchProductsStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_PRODUCTS_START,\r\n  };\r\n};\r\nexport const incrementPage = () => {\r\n  return {\r\n    type: actionTypes.INCREMENT_PAGE,\r\n  };\r\n};\r\nexport const resetPage = () => {\r\n  return {\r\n    type: actionTypes.RESET_PAGE,\r\n  };\r\n};\r\nexport const resetProducts = () => {\r\n  return {\r\n    type: actionTypes.RESET_PRODUCTS,\r\n  };\r\n};\r\n\r\nexport const initSearchProduct = (query) => {\r\n  return (dispatch, getState) => {\r\n    dispatch(resetProducts());\r\n\r\n    dispatch(resetPage());\r\n    dispatch(fetchProductsStart());\r\n    Axios.get(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/product_suggestions\",\r\n      {\r\n        params: {\r\n          q: getState().productBuilder.query,\r\n          page: 0,\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        dispatch(setProducts(res.data));\r\n        dispatch(setHasMore(res.data.length > 0));\r\n      })\r\n\r\n      .catch((err) => {\r\n        if (Axios.isCancel(err)) {\r\n          return;\r\n        } else {\r\n          console.log(err);\r\n        }\r\n      });\r\n  };\r\n};\r\nexport const products = (category_id, product_category_id) => {\r\n  return {\r\n    type: actionTypes.INIT_PRODUCT,\r\n    payload: {\r\n      category_id,\r\n      product_category_id,\r\n    },\r\n  };\r\n};\r\nexport const setBrand = (data) => {\r\n  return {\r\n    type: actionTypes.SET_BRAND,\r\n    payload: {\r\n      brand: data,\r\n    },\r\n  };\r\n};\r\nexport const setBrandFilter = (data) => {\r\n  return { type: actionTypes.SET_BRAND_FILTER, data };\r\n};\r\nexport const setSort = (data) => {\r\n  return { type: actionTypes.SET_SORT, data };\r\n};\r\n\r\nexport const fetchBrandFilter = (category_id, product_category_id) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const brand_filters = getState().productBuilder.brand_filters;\r\n  let brand = [];\r\n\r\n  brand = brand_filters.map((i) => {\r\n    return i.value;\r\n  });\r\n  let sort = getState().productBuilder.sort;\r\n  brand = [...new Set([...brand])];\r\n  dispatch(resetProducts());\r\n  dispatch(resetPage());\r\n  dispatch(fetchProductsStart());\r\n\r\n  try {\r\n    const { data } = await Axios.post(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/products\",\r\n      {\r\n        category_id,\r\n        product_category_id,\r\n        page: 0,\r\n        brand_filters: brand,\r\n        sort,\r\n      }\r\n    );\r\n    dispatch(setProducts(data.products));\r\n    dispatch(setHasMore(data.products.length > 0));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\nconst resetFilters = () => {\r\n  return { type: actionTypes.RESET_FILTERS };\r\n};\r\nexport const initProducts = (category_id, product_category_id, cancelToken) => {\r\n  return async (dispatch) => {\r\n    dispatch(resetProducts());\r\n    dispatch(resetFilters());\r\n    dispatch(resetPage());\r\n    dispatch(fetchProductsStart());\r\n\r\n    try {\r\n      const { data } = await Axios.get(\r\n        \"https://frozen-reef-15026.herokuapp.com/api/products\",\r\n        {\r\n          params: {\r\n            category_id,\r\n            product_category_id,\r\n            page: 0,\r\n          },\r\n        },\r\n        {\r\n          cancelToken: cancelToken,\r\n        }\r\n      );\r\n\r\n      dispatch(setProducts(data.products));\r\n      dispatch(setBrand(data.brand));\r\n      dispatch(setHasMore(data.products.length > 0));\r\n    } catch (error) {\r\n      console.log(error);\r\n      if (Axios.isCancel(error)) return;\r\n      dispatch(fetchProductsFailed());\r\n    }\r\n  };\r\n};\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport Axios from \"axios\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nexport const OrderSuccess = (id) => {\r\n  return {\r\n    type: actionTypes.CREATE_ORDER_SUCCESS,\r\n    orderId: id,\r\n  };\r\n};\r\n\r\nexport const OrderFail = (error) => {\r\n  return {\r\n    type: actionTypes.CREATE_ORDER_FAILED,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const OrderStart = () => {\r\n  return {\r\n    type: actionTypes.CREATE_ORDER_START,\r\n  };\r\n};\r\n\r\nexport const Order = (orderData, token) => {\r\n  return (dispatch) => {\r\n    dispatch(OrderStart());\r\n\r\n    Axios.post(\"https://frozen-reef-15026.herokuapp.com/api/order\", orderData)\r\n      .then((response) => {\r\n        dispatch(OrderSuccess(response.data.id));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(OrderFail(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const purchaseInit = () => {\r\n  return {\r\n    type: actionTypes.PURCHASE_INIT,\r\n  };\r\n};\r\nexport const purchaseReset = () => {\r\n  return {\r\n    type: actionTypes.PURCHASE_RESET,\r\n  };\r\n};\r\n\r\nexport const fetchOrdersSuccess = (orders) => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS_SUCCESS,\r\n    orders: orders,\r\n  };\r\n};\r\n\r\nexport const fetchOrdersFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const fetchOrdersStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_ORDERS_START,\r\n  };\r\n};\r\n\r\nexport const fetchOrders = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(fetchOrdersStart());\r\n    const userId = getState().authBuilder.userId;\r\n    const { data } = await Axios.get(\r\n      `https://frozen-reef-15026.herokuapp.com/api/orders?q=${userId}`\r\n    );\r\n    dispatch(fetchOrdersSuccess(data));\r\n  };\r\n};\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport Axios from \"axios\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nexport const signIn = (userData) => {\r\n  console.log(userData);\r\n  return { type: actionTypes.SIGN_IN, payload: userData };\r\n};\r\nexport const currentUser = () => {\r\n  return async (dispatch) => {\r\n    // const token = JSON.parse(localStorage.getItem(\"jwt\"));\r\n    try {\r\n      const { data } = await Axios.get(\r\n        \"https://frozen-reef-15026.herokuapp.com/api/current\"\r\n      );\r\n      if (data.response.id)\r\n        dispatch({ type: actionTypes.CURRENT_USER, payload: data });\r\n    } catch (err) {\r\n      dispatch({ type: actionTypes.SIGN_OUT });\r\n    }\r\n  };\r\n};\r\n\r\nconst setAddress = (data) => {\r\n  return { type: actionTypes.SET_ADDRESS, payload: data };\r\n};\r\nexport const addAddress = (data) => {\r\n  return { type: actionTypes.ADD_ADDRESS, payload: data };\r\n};\r\n\r\nexport const deleteAddress = (data) => {\r\n  console.log(data);\r\n  return async (dispatch) => {\r\n    dispatch(addressLoading());\r\n    await Axios.delete(\"https://frozen-reef-15026.herokuapp.com/api/address\", {\r\n      data: { id: data },\r\n    });\r\n    return dispatch({ type: actionTypes.DELETE_ADDRESS, payload: data });\r\n  };\r\n};\r\nconst addressLoading = () => {\r\n  return { type: actionTypes.FETCH_ADDRESS_LOADING };\r\n};\r\n\r\nexport const fetchAddress = () => {\r\n  return async (dispatch) => {\r\n    dispatch(addressLoading());\r\n    const { data } = await Axios.get(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/address\"\r\n    );\r\n    if (data.length) dispatch(setAddress(data));\r\n    else dispatch(setAddress([]));\r\n  };\r\n};\r\nexport const signOut = () => {\r\n  localStorage.removeItem(\"jwt\");\r\n  return async (dispatch) => {\r\n    await Axios.get(\"https://frozen-reef-15026.herokuapp.com/api/logout\", {\r\n      withCredentials: true,\r\n    });\r\n    dispatch({ type: actionTypes.SIGN_OUT });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction HeaderCart() {\r\n  const state = useSelector((state) => {\r\n    if (state.cartBuilder.cart && state.cartBuilder.cart.length)\r\n      return state.cartBuilder.cart.length;\r\n    return 0;\r\n  });\r\n  return (\r\n    <>\r\n      <div className=\"relative \">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path d=\"M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-2.937-7h11.162l-1.412 5h2.078l1.977-7h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z\" />\r\n        </svg>\r\n        {state > 0 && (\r\n          <span className=\"absolute top-0 text-xs leading-none text-white bg-black rounded-md left-1\">\r\n            {state}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HeaderCart;\r\n","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction useSearch(query) {\r\n  const [response, setResponse] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setResponse([]);\r\n    let cancel;\r\n    setLoading(true);\r\n    setError(false);\r\n    const search = () => {\r\n      axios\r\n        .get(`https://frozen-reef-15026.herokuapp.com/api/tags?q=${query}`, {\r\n          cancelToken: new axios.CancelToken((c) => (cancel = c)),\r\n        })\r\n        .then((res) => {\r\n          setResponse((r) => {\r\n            return [...r, ...res.data];\r\n          });\r\n          setLoading(false);\r\n        })\r\n\r\n        .catch((err) => {\r\n          if (axios.isCancel(err)) return;\r\n\r\n          setLoading(false);\r\n        });\r\n    };\r\n\r\n    const timeout = setTimeout(() => {\r\n      if (query) {\r\n        search();\r\n      }\r\n    }, 500);\r\n\r\n    return () => {\r\n      if (cancel) {\r\n        cancel();\r\n      }\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [query]);\r\n\r\n  return { response, error, loading };\r\n}\r\nexport default useSearch;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nfunction Auth() {\r\n  const auth = useSelector((state) => state.authBuilder.isSignedIn);\r\n  const history = useHistory();\r\n  const onSignInClick = () => {\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  const authButton = () => {\r\n    if (auth === null) {\r\n      return null;\r\n    } else if (!auth) {\r\n      return (\r\n        <div\r\n          onClick={onSignInClick}\r\n          className=\"flex items-center justify-between px-2 py-2 mt-4 mb-2 font-bold tracking-tighter text-white bg-green-600 outline-none\"\r\n        >\r\n          <div className=\"flex items-center space-x-3\">\r\n            <svg\r\n              fill=\"currentColor\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                d=\"M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z\"\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n            <span className=\"leading-3\">Login / Register</span>\r\n          </div>\r\n          <svg\r\n            fill=\"white\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z\" />\r\n          </svg>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return <div className=\"\">{authButton()}</div>;\r\n}\r\n\r\nexport default Auth;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Auth from \"./Auth\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions/index\";\r\nfunction Drawer({ toggle, onToggle }) {\r\n  let theme = document.body.classList.contains(\"dark\");\r\n\r\n  const root = document.getElementById(\"root\");\r\n  const [darkTheme, setDarkTheme] = useState(theme);\r\n  const onClick = () => {\r\n    onToggle();\r\n  };\r\n\r\n  useEffect(() => {\r\n    toggle && document.body.classList.add(\"overflow-hidden\");\r\n    root.classList.add(\"static\");\r\n\r\n    return () => {\r\n      document.body.classList.remove(\"overflow-hidden\");\r\n      root.classList.remove(\"static\");\r\n    };\r\n  });\r\n  const history = useHistory();\r\n\r\n  const auth = useSelector((state) => state.authBuilder.isSignedIn);\r\n  const phoneNumber = useSelector((state) => state.authBuilder.phoneNumber);\r\n  const isAdmin = useSelector((state) => state.authBuilder.isAdmin);\r\n  let dispatch = useDispatch();\r\n  const onSignOutClick = () => {\r\n    dispatch(actions.clearCart());\r\n    dispatch(actions.signOut());\r\n  };\r\n\r\n  let classes;\r\n  if (toggle) {\r\n    classes =\r\n      \"fixed z-30 h-screen  transition-all  duration-300 ease-out bg-white  dark:bg-mine-shaft-700 dark:text-gray-300   transform translate-x-0  w-60\";\r\n  } else {\r\n    classes =\r\n      \"fixed z-30 h-screen transition-all   duration-300  ease-out bg-white transform -translate-x-full dark:bg-mine-shaft-700 dark:text-gray-300   w-60\";\r\n  }\r\n  return (\r\n    <>\r\n      {toggle && (\r\n        <div\r\n          className=\"absolute inset-0 z-10 bg-black opacity-25 dark:bg-white dark:opacity-70\"\r\n          onClick={onToggle}\r\n        ></div>\r\n      )}\r\n      <div className={` ${classes}`}>\r\n        <div className=\"flex flex-col h-full \">\r\n          <div className=\"ease-out border-b-2 border-gray-500 transit \">\r\n            {auth && (\r\n              <div className=\"flex items-center justify-between py-2 shadow-md dark:bg-mine-shaft-500\">\r\n                <span className=\"pl-2 font-bold\">{phoneNumber}</span>\r\n                <span\r\n                  className=\"pr-2 text-green-400 cursor-pointer \"\r\n                  onClick={() => {\r\n                    history.push(\"/profile\");\r\n                  }}\r\n                >\r\n                  Profile\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div className=\"flex flex-col px-2 pb-6 pt- \">\r\n              <div className=\"font-bold leading-7\">STORE</div>\r\n              <div className=\"\"> KURNOOL</div>\r\n            </div>\r\n            <Auth></Auth>\r\n          </div>\r\n          <div className=\"flex flex-col py-2 bg-gray-100 border-b border-gray-200 dark:bg-mine-shaft-400 dark:text-gray-100\">\r\n            <div\r\n              className=\"flex items-center py-2 cursor-pointer\"\r\n              onClick={onClick}\r\n            >\r\n              <span className=\"pl-2 pr-2\">\r\n                <svg\r\n                  className=\"text-black dark:text-white\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  x=\"0px\"\r\n                  y=\"0px\"\r\n                  width=\"24\"\r\n                  fill=\"currentColor\"\r\n                  height=\"24\"\r\n                  viewBox=\"0 0 172 172\"\r\n                >\r\n                  <g\r\n                    fill=\"none\"\r\n                    fillRule=\"nonzero\"\r\n                    stroke=\"none\"\r\n                    strokeWidth=\"none\"\r\n                    strokeLinecap=\"butt\"\r\n                    strokeLinejoin=\"none\"\r\n                    strokeMiterlimit=\"10\"\r\n                    strokeDasharray=\"\"\r\n                    strokeDashoffset=\"0\"\r\n                    fontFamily=\"none\"\r\n                    fontWeight=\"none\"\r\n                    fontSize=\"none\"\r\n                    textAnchor=\"none\"\r\n                  >\r\n                    <path\r\n                      d=\"M0,172v-172h172v172z\"\r\n                      stroke=\"none\"\r\n                      strokeWidth=\"1\"\r\n                      strokeLinejoin=\"miter\"\r\n                    ></path>\r\n                    <g\r\n                      stroke=\"#cccccc\"\r\n                      strokeWidth=\"6.88\"\r\n                      strokeLinejoin=\"round\"\r\n                    >\r\n                      <path d=\"M17.2,17.2h58.48v58.48h-58.48zM96.32,17.2h58.48v58.48h-58.48zM17.2,96.32h58.48v58.48h-58.48zM96.32,96.32h58.48v58.48h-58.48z\"></path>\r\n                    </g>\r\n                  </g>\r\n                </svg>\r\n              </span>\r\n              <span>Browse</span>\r\n            </div>\r\n            <div\r\n              className=\"flex items-center py-2 cursor-pointer \"\r\n              onClick={() => history.push(\"/cart\")}\r\n            >\r\n              <span className=\"pl-2 pr-2 dark:text-white\">\r\n                <svg\r\n                  className=\"dark:text-white\"\r\n                  width=\"24\"\r\n                  fill=\"currentColor\"\r\n                  height=\"24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fillRule=\"evenodd\"\r\n                  clipRule=\"evenodd\"\r\n                >\r\n                  <path d=\"M13.5 21c-.276 0-.5-.224-.5-.5s.224-.5.5-.5.5.224.5.5-.224.5-.5.5m0-2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m-6 2c-.276 0-.5-.224-.5-.5s.224-.5.5-.5.5.224.5.5-.224.5-.5.5m0-2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m16.5-16h-2.964l-3.642 15h-13.321l-4.073-13.003h19.522l.728-2.997h3.75v1zm-22.581 2.997l3.393 11.003h11.794l2.674-11.003h-17.861z\" />\r\n                </svg>\r\n              </span>\r\n              <span>Shopping Cart</span>\r\n            </div>\r\n            <div\r\n              className=\"flex items-center py-2 cursor-pointer\"\r\n              onClick={() => history.push(\"/orders\")}\r\n            >\r\n              <span className=\"pl-2 pr-2 \">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"w-6 h-6\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\"\r\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n              <span>Order History</span>\r\n            </div>\r\n            <div\r\n              className=\"flex items-center py-2 cursor-pointer\"\r\n              onClick={() => history.push(\"/wishlist\")}\r\n            >\r\n              <span className=\"pl-2 pr-2 \">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  className=\"w-6 h-6\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n              <span>Wish List</span>\r\n            </div>\r\n\r\n            <div\r\n              className=\"flex items-center py-2 cursor-pointer\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {!darkTheme && (\r\n                <span className=\"px-2\">\r\n                  <svg\r\n                    onClick={() => {\r\n                      localStorage.setItem(\"theme\", \"dark\");\r\n                      document.body.classList.add(\"dark\");\r\n                      setDarkTheme(true);\r\n                    }}\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    className=\"inline feather feather-moon\"\r\n                  >\r\n                    <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" />\r\n                  </svg>\r\n                </span>\r\n              )}\r\n              {darkTheme && (\r\n                <span className=\"px-2\">\r\n                  <svg\r\n                    onClick={() => {\r\n                      localStorage.setItem(\"theme\", \"light\");\r\n\r\n                      document.body.classList.remove(\"dark\");\r\n                      setDarkTheme(false);\r\n                    }}\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    className=\"inline feather feather-sun\"\r\n                  >\r\n                    <circle cx=\"12\" cy=\"12\" r=\"5\" />\r\n                    <path d=\"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\" />\r\n                  </svg>\r\n                </span>\r\n              )}\r\n\r\n              <span\r\n                onClick={() => {\r\n                  if (darkTheme) {\r\n                    localStorage.setItem(\"theme\", \"light\");\r\n\r\n                    document.body.classList.remove(\"dark\");\r\n                    setDarkTheme(false);\r\n                  } else {\r\n                    localStorage.setItem(\"theme\", \"dark\");\r\n                    document.body.classList.add(\"dark\");\r\n                    setDarkTheme(true);\r\n                  }\r\n                }}\r\n              >\r\n                {\" \"}\r\n                Toggle Theme\r\n              </span>\r\n            </div>\r\n            {isAdmin && (\r\n              <>\r\n                {\" \"}\r\n                <div\r\n                  className=\"flex items-center py-2 cursor-pointer\"\r\n                  onClick={() => history.push(\"/add-product\")}\r\n                >\r\n                  <span className=\"pl-2 pr-2\">\r\n                    <svg\r\n                      className=\"dark:text-white \"\r\n                      fill=\"currentColor\"\r\n                      width=\"24\"\r\n                      height=\"24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fillRule=\"evenodd\"\r\n                      clipRule=\"evenodd\"\r\n                    >\r\n                      <path d=\"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z\" />\r\n                    </svg>\r\n                  </span>\r\n                  <span>Add Product</span>\r\n                </div>\r\n                <div\r\n                  className=\"flex items-center py-2 cursor-pointer\"\r\n                  onClick={() => history.push(\"/add-product-category\")}\r\n                >\r\n                  <span className=\"pl-2 pr-2\">\r\n                    <svg\r\n                      className=\"dark:text-white \"\r\n                      fill=\"currentColor\"\r\n                      width=\"24\"\r\n                      height=\"24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fillRule=\"evenodd\"\r\n                      clipRule=\"evenodd\"\r\n                    >\r\n                      <path d=\"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z\" />\r\n                    </svg>\r\n                  </span>\r\n                  <span>Add Product Category</span>\r\n                </div>\r\n                <div\r\n                  className=\"flex items-center py-2 cursor-pointer\"\r\n                  onClick={() => history.push(\"/add-category\")}\r\n                >\r\n                  <span className=\"pl-2 pr-2\">\r\n                    <svg\r\n                      className=\"dark:text-white \"\r\n                      fill=\"currentColor\"\r\n                      width=\"24\"\r\n                      height=\"24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fillRule=\"evenodd\"\r\n                      clipRule=\"evenodd\"\r\n                    >\r\n                      <path d=\"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z\" />\r\n                    </svg>\r\n                  </span>\r\n                  <span>Add Category</span>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n          {auth && (\r\n            <span\r\n              onClick={onSignOutClick}\r\n              className=\"pt-4 pl-2 text-red-400 cursor-pointer\"\r\n            >\r\n              Log Out\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","function string_to_slug(str) {\r\n  str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\r\n  str = str.toLowerCase();\r\n\r\n  // remove accents, swap ñ for n, etc\r\n  var from = \"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\";\r\n  var to = \"aaaaeeeeiiiioooouuuunc------\";\r\n  for (var i = 0, l = from.length; i < l; i++) {\r\n    str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\r\n  }\r\n\r\n  str = str\r\n    // .replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\r\n    .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\r\n    .replace(/-+/g, \"-\"); // collapse dashes\r\n\r\n  return str;\r\n}\r\nexport default string_to_slug;\r\n","import React from \"react\";\r\nexport const SkeletonComponent = ({ type = \"short\" }) => {\r\n  return (\r\n    <div className=\"flex\">\r\n      <div className=\"w-24 h-20 mr-3 bg-gray-400 rounded\" />\r\n      <div className=\"flex flex-col flex-1 min-w-0\">\r\n        {\" \"}\r\n        <div className=\"w-1/3 h-4 mt-1 bg-gray-400 rounded-full\" />\r\n        <div className=\"mt-1 mb-1 space-y-1\">\r\n          {type === \"short\" ? (\r\n            <div className=\"w-1/2 h-4 pt-1 \">\r\n              <div className=\"h-full bg-gray-400 rounded\"></div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"w-11/12 h-4 pt-1 \">\r\n                {\" \"}\r\n                <div className=\"h-full bg-gray-400 rounded\"></div>\r\n              </div>\r\n              <div className=\"w-2/3 h-4 pt-1 \">\r\n                {\" \"}\r\n                <div className=\"h-full bg-gray-400 rounded\"></div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className=\"flex justify-between h-5 mt-3\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SkeletonLines = () => {\r\n  return (\r\n    <div className=\"flex\">\r\n      <div className=\"flex flex-col flex-1 min-w-0\">\r\n        <div className=\"mt-1 mb-1 space-y-1\">\r\n          <>\r\n            <div className=\"w-2/3 h-4 pt-1 mx-4 \">\r\n              {\" \"}\r\n              <div className=\"h-full bg-gray-400 rounded\"></div>\r\n            </div>\r\n          </>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport HeaderCart from \"./headerCart\";\r\nimport useSearch from \"../useSearch\";\r\nimport Drawer from \"./Drawer\";\r\nimport string_to_slug from \"../utils/slug\";\r\nimport { SkeletonLines } from \"../utils/SkeletonComponent\";\r\nfunction Header() {\r\n  const [toggle, setToggle] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const onClick = () => {\r\n    setToggle((t) => !t);\r\n  };\r\n  let history = useHistory();\r\n  const [value, setValue] = useState(\"\");\r\n  const { response, loading } = useSearch(value);\r\n  const Close = () => {\r\n    setValue(\"\");\r\n    setOpen(false);\r\n  };\r\n  const onChange = (e) => {\r\n    if (e.target.value.length > 0) {\r\n      setOpen(true);\r\n      setValue(e.target.value);\r\n    } else {\r\n      setValue(\"\");\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Drawer toggle={toggle} onToggle={onClick}></Drawer>\r\n\r\n      <div className=\"sticky top-0 z-20 px-4 bg-red-200 dark:bg-gradient-to-br bg-gradient-to-r from-green-400 to-blue-500 dark:from-lightBlue-500 dark:to-blue-900 \">\r\n        <div className=\"flex items-center justify-between px-2 py-2 \">\r\n          <div className=\"flex items-center justify-center\">\r\n            <button className=\" focus:shadow\" onClick={onClick}>\r\n              <svg\r\n                width=\"20\"\r\n                height=\"20\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n              >\r\n                <path\r\n                  d=\"M24 18v1h-24v-1h24zm0-6v1h-24v-1h24zm0-6v1h-24v-1h24z\"\r\n                  fill=\"#1040e2\"\r\n                />\r\n                <path d=\"M24 19h-24v-1h24v1zm0-6h-24v-1h24v1zm0-6h-24v-1h24v1z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <Link to=\"/\">\r\n            <div className=\"flex \">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"30\"\r\n                height=\"30\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  d=\"M13.958 10.09c0 1.232.029 2.256-.591 3.351-.502.891-1.301 1.438-2.186 1.438-1.214 0-1.922-.924-1.922-2.292 0-2.692 2.415-3.182 4.7-3.182v.685zm3.186 7.705c-.209.189-.512.201-.745.074-1.052-.872-1.238-1.276-1.814-2.106-1.734 1.767-2.962 2.297-5.209 2.297-2.66 0-4.731-1.641-4.731-4.925 0-2.565 1.391-4.309 3.37-5.164 1.715-.754 4.11-.891 5.942-1.095v-.41c0-.753.06-1.642-.383-2.294-.385-.579-1.124-.82-1.775-.82-1.205 0-2.277.618-2.54 1.897-.054.285-.261.567-.549.582l-3.061-.333c-.259-.056-.548-.266-.472-.66.704-3.716 4.06-4.838 7.066-4.838 1.537 0 3.547.41 4.758 1.574 1.538 1.436 1.392 3.352 1.392 5.438v4.923c0 1.481.616 2.13 1.192 2.929.204.287.247.63-.01.839-.647.541-1.794 1.537-2.423 2.099l-.008-.007zm3.559 1.988c-2.748 1.472-5.735 2.181-8.453 2.181-4.027 0-7.927-1.393-11.081-3.706-.277-.202-.481.154-.251.416 2.925 3.326 6.786 5.326 11.076 5.326 3.061 0 6.614-1.214 9.066-3.494.406-.377.058-.945-.357-.723zm.67 2.216c-.091.227.104.32.31.147 1.339-1.12 1.685-3.466 1.411-3.804-.272-.336-2.612-.626-4.04.377-.22.154-.182.367.062.337.805-.096 2.595-.312 2.913.098.319.41-.355 2.094-.656 2.845z\"\r\n                  fillRule=\"evenodd\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </Link>\r\n\r\n          <Link to=\"/cart\">\r\n            <HeaderCart></HeaderCart>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"relative flex flex-col items-center justify-center mt-2 text-black\">\r\n        <div className=\"relative\">\r\n          <span className=\"absolute inset-y-0 flex items-center pl-2\">\r\n            <svg\r\n              className=\"absolute \"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"16\"\r\n              height=\"16\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path d=\"M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z\" />\r\n            </svg>\r\n          </span>\r\n\r\n          <input\r\n            onChange={onChange}\r\n            value={value}\r\n            type=\"text\"\r\n            placeholder=\"Search Our Products\"\r\n            className=\"w-64 pl-8 pr-8 transition-all duration-100 ease-in-out rounded dark:bg-gray-700 dark:text-white focus:shadow-outline focus:w-80 focus:bg-gray-100 \"\r\n          />\r\n          {open && (\r\n            <span className=\"absolute inset-y-0 right-0 flex items-center pr-2\">\r\n              <svg\r\n                onClick={Close}\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\" />\r\n              </svg>\r\n            </span>\r\n          )}\r\n        </div>\r\n        {open && response.length > 0 && (\r\n          <div className=\"absolute z-20 flex flex-col overflow-y-auto bg-gray-100 border border-orange-300 divide-y-2 rounded-md dark:bg-gray-800 dark:text-white top-12 w-80 overscroll-contain \">\r\n            {response.map((i) => {\r\n              return (\r\n                <div\r\n                  className=\"px-4 py-2 \"\r\n                  key={i.id}\r\n                  onClick={() => {\r\n                    Close();\r\n                    history.push(\r\n                      `/product-suggestion/${string_to_slug(i.name)}`\r\n                    );\r\n                  }}\r\n                >\r\n                  {i.name}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n        {open && loading && (\r\n          <div className=\"absolute z-20 flex flex-col overflow-y-auto bg-gray-100 border border-orange-300 divide-y-2 rounded-md dark:bg-gray-800 dark:text-white top-12 w-80 overscroll-contain \">\r\n            <SkeletonLines></SkeletonLines>\r\n            <SkeletonLines></SkeletonLines>\r\n            <SkeletonLines></SkeletonLines>\r\n            <SkeletonLines></SkeletonLines>\r\n            <SkeletonLines></SkeletonLines>\r\n          </div>\r\n        )}\r\n        {open && response.length === 0 && !loading && (\r\n          <div className=\"absolute z-20 flex-col overflow-y-auto bg-gray-100 border border-orange-300 divide-y-2 rounded-md lex top-12 w-80 overscroll-contain \">\r\n            No Responses\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction ProductCategory({ category }) {\r\n  console.log(window.outerWidth);\r\n  const subCat = category.map((i) => i.subCat.map((i) => i.name));\r\n  const truncate = (array_word) => {\r\n    const word = array_word.join(\", \");\r\n    if (word.length > (window.outerHeight * 0.5) / 8) {\r\n      return word.substring(0, (window.outerHeight * 0.5) / 8).concat(\"...\");\r\n    } else return word;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"py-4 font-bold\">Shop by Category</div>\r\n      <div className=\"flex flex-col space-y-2\">\r\n        {\" \"}\r\n        {category.map((i, index) => (\r\n          <Link\r\n            to={{\r\n              pathname: `/products/${i.slug}-${i.id}/all`,\r\n              search: `?page=0`,\r\n            }}\r\n            key={index}\r\n            className=\"flex px-1 py-2 space-x-1 border border-gray-400 rounded shadow-md\"\r\n          >\r\n            <div className=\"w-3/12 h-24 \">\r\n              <img src={i.image_url} alt={i.name} className=\"h-24 \" />\r\n            </div>\r\n            <div className=\"flex flex-col w-3/5 right \">\r\n              <div className=\"pb-2 font-bold\">{i.name}</div>\r\n              <div className=\"flex-grow-0 h-8\">{truncate(subCat[index])}</div>\r\n            </div>\r\n            <div className=\"flex items-center justify-center text-gray-700 border-solid rounded-lg cursor-pointer w-3/20 \">\r\n              <span className=\"px-2 py-2 bg-white rounded-lg shadow-lg dark:bg-gray-200\">\r\n                <svg\r\n                  className=\"block w-3 h-3 overflow-hidden shadow-lg stroke-current \"\r\n                  style={{ strokeWidth: 4 }}\r\n                  viewBox=\"0 0 32 32\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  aria-hidden=\"true\"\r\n                  role=\"presentation\"\r\n                  focusable=\"false\"\r\n                >\r\n                  <g fill=\"none\">\r\n                    <path d=\"m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932\"></path>\r\n                  </g>\r\n                </svg>\r\n              </span>\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductCategory;\r\n","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport ProductCategory from \"../components/productCategory\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction HomePage() {\r\n  // const backDropClick = () => {\r\n  //   setToggle(false);\r\n  // };\r\n  const category = useSelector((state) => state.categoryBuilder.category);\r\n\r\n  let backdrop;\r\n  // if (toggle) {\r\n  //   backdrop = <BackDrop onClick={backDropClick}></BackDrop>;\r\n  // }\r\n  // let cssClass = toggle\r\n  //   ? \"relative flex flex-col h-screen overflow-hidden\"\r\n  //   : \"relative flex flex-col\";\r\n\r\n  return (\r\n    <div className=\"relative flex flex-col dark:bg-mine-shaft-500 dark:text-gray-300\">\r\n      {backdrop}\r\n      <Header></Header>\r\n      <div className=\"flex-1 px-2 home\" style={{ height: 3000000 }}>\r\n        <div className=\"flex flex-col space-y-3 categories\">\r\n          <ProductCategory category={category}></ProductCategory>\r\n        </div>\r\n      </div>\r\n      <div className=\"sticky bottom-0 flex items-center justify-between py-2 text-white bg-black border-t border-gray-500 divide-x-2 divide-red-900 footer\">\r\n        <div className=\"flex justify-center w-1/2\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill={\"currentColor\"}\r\n          >\r\n            <path d=\"M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z\" />\r\n          </svg>\r\n        </div>\r\n\r\n        <div className=\"flex justify-center w-1/2 \">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill={\"currentColor\"}\r\n          >\r\n            <path d=\"M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-2.937-7h11.162l-1.412 5h2.078l1.977-7h-16.813l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport { toast } from \"react-toastify\";\r\nimport Axios from \"axios\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nconst CartPageButton = ({ product, sku, quantity }) => {\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n\r\n    increment: false,\r\n    decrement: false,\r\n  });\r\n  const decrementProduct = () => {\r\n    if (quantity === 1) {\r\n      // toast(\"Removed From Cart\", {\r\n      //   position: \"top-center\",\r\n      //   autoClose: 2000,\r\n      //   type: \"info\",\r\n      //   hideProgressBar: false,\r\n      //   closeOnClick: true,\r\n      // });\r\n      dispatch(actions.decrementProduct(product.id, sku.id));\r\n    } else {\r\n      // toast(\"-1 Quantity\", {\r\n      //   position: \"top-center\",\r\n      //   autoClose: 2000,\r\n      //   type: \"info\",\r\n      //   hideProgressBar: false,\r\n      //   closeOnClick: true,\r\n      // });\r\n      dispatch(actions.decrementProduct(product.id, sku.id));\r\n    }\r\n  };\r\n  const incrementProduct = () => {\r\n    // toast(\"+1 Quantity\", {\r\n    //   position: \"top-center\",\r\n    //   autoClose: 2000,\r\n    //   type: \"info\",\r\n    //   hideProgressBar: false,\r\n    //   closeOnClick: true,\r\n    // });\r\n    dispatch(actions.incrementProduct(product.id, sku.id));\r\n  };\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const request = async () => {\r\n      if (state.loading && state.increment && mounted) {\r\n        try {\r\n          await Axios.post(\r\n            \"https://frozen-reef-15026.herokuapp.com/api/increment-cart\",\r\n            {\r\n              sku_id: sku.id,\r\n              product_id: product.id,\r\n              cart_id: 1,\r\n              quantity: 1,\r\n            }\r\n          );\r\n          incrementProduct();\r\n        } catch (err) {\r\n          if (\r\n            err.response.data.data &&\r\n            err.response.data.data.constraint === \"greater than zero\"\r\n          ) {\r\n            toast(\"Out Of Stock\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"info\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n          } else\r\n            toast(\"Error. Try Again Later\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"error\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n        }\r\n        setState((e) => ({ ...e, loading: false, increment: false }));\r\n      }\r\n      if (state.loading && state.decrement && mounted) {\r\n        try {\r\n          await Axios.post(\r\n            \"https://frozen-reef-15026.herokuapp.com/api/decrement-cart\",\r\n            {\r\n              sku_id: sku.id,\r\n              product_id: product.id,\r\n              cart_id: 1,\r\n              quantity: 1,\r\n            }\r\n          );\r\n          decrementProduct();\r\n        } catch (err) {\r\n          if (err.response.data && err.response.data.message) {\r\n            toast(err.response.data.message, {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"info\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n          } else\r\n            toast(\"Error. Try Again Later\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"error\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n        }\r\n        setState((e) => ({ ...e, loading: false, decrement: false }));\r\n      }\r\n    };\r\n    request();\r\n    return () => (mounted = false);\r\n  }, [state]);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    return () => {\r\n      toast.dismiss();\r\n    };\r\n  });\r\n\r\n  //   const quantity = useSelector((state) => {\r\n  //     if (!state.cartBuilder.cart.length) {\r\n  //       return 0;\r\n  //     } else {\r\n  //       if (sku) {\r\n  //         let q = state.cartBuilder.cart.findIndex((i) => i.sku_id === sku.id);\r\n  //         if (q === -1) {\r\n  //           return 0;\r\n  //         } else {\r\n  //           return state.cartBuilder.cart[q].quantity;\r\n  //         }\r\n  //       } else {\r\n  //         return;\r\n  //       }\r\n  //     }\r\n  //   });\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {state.loading ? (\r\n        <>\r\n          <button className=\"inline-flex items-center px-3 py-2 mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-indigo-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-indigo-300 hover:bg-indigo-300 active:bg-indigo-700 \">\r\n            <svg\r\n              class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <circle\r\n                class=\"opacity-25\"\r\n                cx=\"12\"\r\n                cy=\"12\"\r\n                r=\"10\"\r\n                stroke=\"currentColor\"\r\n                stroke-width=\"4\"\r\n              ></circle>\r\n              <path\r\n                class=\"opacity-75\"\r\n                fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n              ></path>\r\n            </svg>\r\n            Processing\r\n          </button>\r\n        </>\r\n      ) : (\r\n        <div className=\"flex items-center justify-between h-8 border border-gray-400 rounded-md \">\r\n          <button\r\n            onClick={() => {\r\n              setState((e) => ({ ...e, loading: true, decrement: true }));\r\n            }}\r\n            className=\"py-1 leading-none text-gray-700 bg-gray-400 \"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/200s0/svg\"\r\n              className=\"w-8 h-6 px-2\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path d=\"M0 10h24v4h-24z\" />\r\n            </svg>\r\n          </button>\r\n          <div className=\"px-3 py-1 text-blue-500 \">{quantity}</div>\r\n          <div\r\n            className=\"py-1 leading-none text-gray-700 bg-gray-400 \"\r\n            onClick={() => {\r\n              if (quantity === 5) {\r\n                toast(\"Max Quantity\", {\r\n                  position: \"top-center\",\r\n                  autoClose: 2000,\r\n                  type: \"info\",\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                });\r\n              } else\r\n                setState((e) => ({ ...e, loading: true, increment: true }));\r\n            }}\r\n          >\r\n            <svg\r\n              // onClick={incrementProduct}\r\n              className=\"w-8 h-6 px-2\"\r\n              fill=\"currentColor\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth=\"2\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path d=\"M12 4v16m8-8H4\"></path>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default CartPageButton;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CartPageButton from \"./cartPageButton\";\r\nfunction CartProduct({ product, sku }) {\r\n  // const decrementProduct = () => {\r\n  //   dispatch(actions.decrementProduct(item.id, item.sku_id));\r\n  // };\r\n  // console.log(loading, item);\r\n  // useEffect(() => {\r\n  //   return () => toast.dismiss(\"Out Of Stock\");\r\n  // });\r\n  // const incrementProduct = () => {\r\n  //   setloading(() => true);\r\n  //   if (item.stock === item.quantity) {\r\n  //     toast(\"Out Of Stock\", {\r\n  //       position: \"top-center\",\r\n  //       autoClose: 3000,\r\n  //       type: \"info\",\r\n  //       hideProgressBar: false,\r\n  //       closeOnClick: true,\r\n  //     });\r\n  //     return;\r\n  //   }\r\n  //   dispatch(actions.incrementProduct(item.id, item.sku_id));\r\n  // };\r\n  const quantity = useSelector((state) => {\r\n    if (!state.cartBuilder.cart.length) {\r\n      return 0;\r\n    } else {\r\n      if (sku) {\r\n        let q = state.cartBuilder.cart.findIndex((i) => i.sku_id === sku.id);\r\n        if (q === -1) {\r\n          return 0;\r\n        } else {\r\n          return state.cartBuilder.cart[q].quantity;\r\n        }\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  });\r\n  return (\r\n    <div className=\"flex flex-col space-y-1 overflow-auto\">\r\n      <div className=\"flex px-2 pt-1 pb-2 mt-2 space-x-2 border-b border-gray-500 product-detail\">\r\n        <div className=\"w-1/3 image relative pb-0.5 \">\r\n          <img\r\n            src={sku.images[0].image}\r\n            alt={product.name}\r\n            className=\"absolute object-contain w-full h-full\"\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col w-3/4 space-y-1\">\r\n          <div className=\"flex flex-wrap flex-grow-0 font-semibold \">\r\n            {product.name}\r\n          </div>\r\n\r\n          <div className=\"flex space-x-2 text-gray-900\">\r\n            <span>{sku.sp}</span>\r\n            <span>&#215; {quantity}</span>\r\n            <span className=\"px-1 text-gray-700 bg-gray-400 rounded-lg\">\r\n              {quantity}\r\n            </span>\r\n          </div>\r\n\r\n          {sku.discount > 0 ? (\r\n            <div className=\"flex items-center initial-price\">\r\n              <span className=\"\"> &#8377; </span>\r\n              <span className=\"line-through text\">{sku.mrp}</span>\r\n              <div className=\"flex px-1 ml-1 space-x-1 text-white bg-red-400\">\r\n                <span>{sku.discount.toFixed(2)}%</span>\r\n                <span>OFF</span>\r\n              </div>{\" \"}\r\n            </div>\r\n          ) : null}\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center ml-4 font-extrabold\">\r\n              <span> &#8377; </span>\r\n              <span>{sku.sp}</span>\r\n            </div>{\" \"}\r\n            <CartPageButton product={product} sku={sku} quantity={quantity} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartProduct;\r\n","import React, { useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst modal = document.getElementById(\"modal\");\r\nconst root = document.getElementById(\"root\");\r\n\r\nconst Modal = ({ onClick, children, isOn }) => {\r\n  const rootElemRef = React.useRef(document.querySelector(\"#portal-content\"));\r\n  useEffect(() => {\r\n    document.body.classList.add(\"overflow-hidden\");\r\n    root.classList.add(\"static\");\r\n    modal.classList.add(\r\n      \"h-screen\",\r\n      \"fixed\",\r\n      \"flex\",\r\n      \"items-center\",\r\n      \"inset-0\",\r\n      \"justify-center\"\r\n    );\r\n    return () => {\r\n      document.body.classList.remove(\"overflow-hidden\");\r\n      root.classList.remove(\"static\");\r\n      modal.classList.remove(\r\n        \"h-screen\",\r\n        \"fixed\",\r\n        \"flex\",\r\n        \"items-center\",\r\n        \"inset-0\",\r\n        \"justify-center\"\r\n      );\r\n    };\r\n  });\r\n\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      id=\"portal-content\"\r\n      ref={rootElemRef}\r\n      onClick={(e) => e.stopPropagation()}\r\n    >\r\n      {children}\r\n    </div>,\r\n    document.getElementById(\"modal\")\r\n  );\r\n};\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions/index\";\r\n\r\nimport Modal from \"./modal\";\r\nfunction useToggle(initialValue = false) {\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const toggle = () => {\r\n    setValue((v) => !v);\r\n  };\r\n  return [value, toggle];\r\n}\r\nconst ClearCart = () => {\r\n  const [isOn, toggleIsOn] = useToggle();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const children = () => {\r\n    return (\r\n      <>\r\n        {\" \"}\r\n        <div\r\n          className=\"absolute inset-0 bg-black opacity-25\"\r\n          onClick={toggleIsOn}\r\n        ></div>\r\n        <div className=\"absolute inset-0 z-10 h-32 m-auto bg-white shadow-md\">\r\n          <div className=\"px-4 py-4\">Are you sure you want to clear ?</div>\r\n          <div className=\"flex justify-end px-4 py-4 space-x-4\">\r\n            <span\r\n              onClick={toggleIsOn}\r\n              className=\"px-4 py-2 font-bold text-white bg-black rounded-full hover:text-black hover:bg-white\"\r\n            >\r\n              Cancel\r\n            </span>\r\n            <span\r\n              onClick={() => {\r\n                toggleIsOn();\r\n                dispatchClear();\r\n              }}\r\n              className=\"px-4 py-2 font-bold text-white bg-red-600 rounded-full hover:bg-red-400\"\r\n            >\r\n              Clear\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  const dispatchClear = () => {\r\n    dispatch(actions.clearCart());\r\n    // setShow(false);\r\n  };\r\n  return (\r\n    <div className=\"px-3 font-semibold\" onClick={toggleIsOn}>\r\n      Clear\r\n      {isOn ? <Modal children={children()} isOn={isOn}></Modal> : null}\r\n    </div>\r\n  );\r\n};\r\nexport default ClearCart;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CartProduct from \"../components/cartProduct\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as actions from \"../store/actions/index\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport { SkeletonComponent } from \"../utils/SkeletonComponent\";\r\nimport ClearCart from \"../components/clearCart\";\r\nfunction CartPage(props) {\r\n  let history = useHistory();\r\n\r\n  const dispatch = useDispatch();\r\n  console.log(history);\r\n  const onClick = () => {\r\n    dispatch(actions.purchaseInit());\r\n    history.push({ pathname: \"/place_order\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.getCart());\r\n  }, [dispatch]);\r\n  const state = useSelector((state) => state.cartBuilder.cart);\r\n  const loading = useSelector((state) => state.cartBuilder.loading);\r\n  const render = () => {\r\n    if (state && state.length > 0 && !loading) {\r\n      const total_price = () => {\r\n        let amount = 0;\r\n        state.map((i) => (amount += i.skuId.sp * i.quantity));\r\n        return amount.toFixed(2);\r\n      };\r\n      const total_initialPrice = () => {\r\n        let amount = 0;\r\n        state.map((i) => (amount += i.skuId.mrp * i.quantity));\r\n        return amount.toFixed(2);\r\n      };\r\n\r\n      const saved = () => (total_initialPrice() - total_price()).toFixed(2);\r\n\r\n      return (\r\n        <div className=\"flex flex-col h-full bg-gray-100 \">\r\n          <ToastContainer\r\n            position=\"top-left\"\r\n            autoClose={1500}\r\n            hideProgressBar={false}\r\n            newestOnTop={false}\r\n            closeOnClick\r\n            rtl={false}\r\n            pauseOnFocusLoss\r\n            draggable\r\n            pauseOnHover\r\n          />\r\n\r\n          <div className=\"flex-1 h-full mx-2 overflow-auto\">\r\n            <div className=\"flex py-2 space-x-1 \">\r\n              <div>SubTotal ({state.length} items): </div>\r\n              <span className=\"font-bold text-red-600\">\r\n                &#8377; {total_price()}\r\n              </span>\r\n              <div className=\"flex px-1 ml-1 space-x-1 text-white bg-red-400\">\r\n                <span> Saved &#8377; {saved()}</span>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={onClick}\r\n              className=\"inline-block w-full py-2 font-bold text-center text-white bg-yellow-500 rounded-md \"\r\n            >\r\n              Proceed To Buy\r\n            </button>\r\n\r\n            {state.map((i) => (\r\n              <CartProduct\r\n                product={i.productId}\r\n                key={i.id}\r\n                quantity={i.quantity}\r\n                sku={i.skuId}\r\n              ></CartProduct>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (state && state.length === 0) {\r\n      return (\r\n        <div className=\"flex flex-col items-center justify-center flex-1 h-screen overflow-auto\">\r\n          <div className=\"py-4 text-xl text-gray-600\">Your cart is Empty</div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"divide-y divide-gray-200 \">\r\n          <div className=\"px-4 py-2\">\r\n            <div className=\"animate-pulse\">\r\n              <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"150ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"300ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"450ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col w-full h-full bg-gray-500\">\r\n      <div className=\"flex flex-col flex-1 h-full bg-gray-100\">\r\n        <div className=\"sticky top-0 z-10 flex justify-between py-2 text-white bg-red-500\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">Cart</div>\r\n          </div>\r\n          {state.length > 0 && <ClearCart />}\r\n        </div>\r\n        <div className=\"px-3 py-2 mx-2 my-2 bg-gray-200 rounded\">\r\n          Products are moved into your wishlist after 2 Hours of Inactivity\r\n        </div>\r\n        {render()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartPage;\r\n","import React, { useRef } from \"react\";\r\nimport { NavLink, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SubCategoryHeader = () => {\r\n  const ref = useRef([]);\r\n\r\n  let { category, subCategory } = useParams();\r\n  console.log(useParams());\r\n\r\n  category = category.split(\"-\").pop();\r\n\r\n  subCategory = subCategory !== \"all\" ? subCategory.split(\"-\").pop() : \"all\";\r\n\r\n  let categoryFind = useSelector((state) =>\r\n    state.categoryBuilder.category.find((i) => i.id === +category)\r\n  );\r\n  let categoryClass;\r\n  subCategory === \"all\"\r\n    ? (categoryClass =\r\n        \"bg-blue-800    font-bold flex-shrink-0 px-2 py-1  dark:bg-blue-400  rounded-md tracking-wider\")\r\n    : (categoryClass =\r\n        \" flex-shrink-0 px-2 py-1 tracking-wider bg-white rounded-md dark:bg-black\");\r\n\r\n  // const selectedIndex =\r\n  //   categoryFind &&\r\n  //   categoryFind.product_category.findIndex((i) => {\r\n  //     return i.slug === subCategoryFind.slug;\r\n  //   });\r\n  // const select =\r\n  //   categoryFind && categoryFind.product_category.splice(selectedIndex, 1)[0];\r\n\r\n  // categoryFind && categoryFind.product_category.unshift(select);\r\n\r\n  const onClick = (ref) => {\r\n    ref.target.scrollIntoView({ behaviour: \"smooth\", block: \"center\" });\r\n  };\r\n  return (\r\n    <div className=\"px-2 pb-2 text-black bg-blue-400 dark:bg-mine-shaft-500 dark:text-gray-200 \">\r\n      <div className=\"py-1 font-semibold \"></div>\r\n      <div className=\"flex space-x-2 overflow-auto \">\r\n        {categoryFind && (\r\n          <NavLink\r\n            onClick={onClick}\r\n            to={{\r\n              pathname: `/products/${categoryFind.slug}-${categoryFind.id}/all`,\r\n              search: \"?page=0\",\r\n            }}\r\n            className={categoryClass}\r\n          >\r\n            {\"All\"}\r\n          </NavLink>\r\n        )}\r\n        {categoryFind &&\r\n          categoryFind.subCat.map((a, i) => {\r\n            let className =\r\n              \"flex-shrink-0 px-2 py-1 tracking-wider bg-white rounded-md dark:bg-black\";\r\n            if (a.id === +subCategory) {\r\n              className =\r\n                \"flex-shrink-0 px-2 py-1 font-bold tracking-wider bg-blue-800 rounded-md dark:bg-blue-400\";\r\n            }\r\n            return (\r\n              <NavLink\r\n                ref={ref.current[i]}\r\n                onClick={onClick}\r\n                to={{\r\n                  pathname: `/products/${categoryFind.slug}-${categoryFind.id}/${a.slug}-${a.id}`,\r\n                  search: \"?page=0\",\r\n                }}\r\n                key={i}\r\n                className={className}\r\n              >\r\n                {a.name}\r\n              </NavLink>\r\n            );\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubCategoryHeader;\r\n","import React from \"react\";\r\n\r\nfunction BackDrop({ onClick }) {\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"absolute z-10 w-screen h-screen bg-black bg-opacity-25\"\r\n        onClick={onClick}\r\n      ></div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BackDrop;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport { toast } from \"react-toastify\";\r\nimport Axios from \"axios\";\r\n\r\nconst CartButton = ({ product, sku }) => {\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n    add: false,\r\n    increment: false,\r\n    decrement: false,\r\n  });\r\n  const auth = useSelector((state) => state.authBuilder.userId);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const request = async () => {\r\n      if (state.loading && state.add && mounted) {\r\n        try {\r\n          const { data, error } = await Axios.post(\r\n            \"https://frozen-reef-15026.herokuapp.com/api/add-to-cart\",\r\n            {\r\n              sku_id: sku.id,\r\n              product_id: product.id,\r\n              cart_id: 1,\r\n              quantity: 1,\r\n            }\r\n          );\r\n          addToCart();\r\n        } catch (err) {\r\n          if (err.response.data.message) {\r\n            toast(err.response.data.message, {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"error\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n          } else {\r\n            toast(\"Error. Try Again Later\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"error\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n          }\r\n        }\r\n        setState((e) => ({ ...e, loading: false, add: false }));\r\n      }\r\n      if (state.loading && state.increment && mounted) {\r\n        try {\r\n          const { data, error } = await Axios.post(\r\n            \"https://frozen-reef-15026.herokuapp.com/api/increment-cart\",\r\n            {\r\n              sku_id: sku.id,\r\n              product_id: product.id,\r\n              cart_id: 1,\r\n              quantity: 1,\r\n            }\r\n          );\r\n          incrementProduct();\r\n        } catch (err) {\r\n          if (\r\n            err.response.data.data &&\r\n            err.response.data.data.constraint === \"greater than zero\"\r\n          ) {\r\n            toast(\"Out Of Stock\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"info\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n          } else\r\n            toast(\"Error. Try Again Later\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"error\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n        }\r\n        setState((e) => ({ ...e, loading: false, increment: false }));\r\n      }\r\n      if (state.loading && state.decrement && mounted) {\r\n        try {\r\n          const { data, error } = await Axios.post(\r\n            \"https://frozen-reef-15026.herokuapp.com/api/decrement-cart\",\r\n            {\r\n              sku_id: sku.id,\r\n              product_id: product.id,\r\n              cart_id: 1,\r\n              quantity: 1,\r\n            }\r\n          );\r\n          decrementProduct();\r\n        } catch (err) {\r\n          if (err.response && err.response.data.message) {\r\n            toast(err.response.data.message, {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"info\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n          } else\r\n            toast(\"Error. Try Again Later\", {\r\n              position: \"top-center\",\r\n              autoClose: 2000,\r\n              type: \"error\",\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n            });\r\n        }\r\n        setState((e) => ({ ...e, loading: false, decrement: false }));\r\n      }\r\n    };\r\n    request();\r\n    return () => {\r\n      console.log(mounted);\r\n      mounted = false;\r\n      toast.dismiss(\"Removed From Cart\");\r\n    };\r\n  }, [state.loading]);\r\n\r\n  const dispatch = useDispatch();\r\n  const decrementProduct = () => {\r\n    if (quantity === 1) {\r\n      toast(\"Removed From Cart\", {\r\n        position: \"top-center\",\r\n        autoClose: 2000,\r\n        type: \"info\",\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n      });\r\n      dispatch(actions.decrementProduct(product.id, sku.id));\r\n    } else {\r\n      toast(\"-1 Quantity\", {\r\n        position: \"top-center\",\r\n        autoClose: 2000,\r\n        type: \"info\",\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n      });\r\n      dispatch(actions.decrementProduct(product.id, sku.id));\r\n    }\r\n  };\r\n\r\n  const incrementProduct = () => {\r\n    toast(\"+1 Quantity\", {\r\n      position: \"top-center\",\r\n      autoClose: 2000,\r\n      type: \"info\",\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n    });\r\n    dispatch(actions.incrementProduct(product.id, sku.id));\r\n  };\r\n  const quantity = useSelector((state) => {\r\n    if (!state.cartBuilder.cart.length) {\r\n      return 0;\r\n    } else {\r\n      if (sku) {\r\n        let q = state.cartBuilder.cart.findIndex((i) => i.sku_id === sku.id);\r\n        if (q === -1) {\r\n          return 0;\r\n        } else {\r\n          return state.cartBuilder.cart[q].quantity;\r\n        }\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  });\r\n  const addToCart = () => {\r\n    if (quantity === sku.stock) {\r\n      toast(\"Out of Stock\");\r\n      console.log(\"item out of stock\");\r\n      return;\r\n    }\r\n    toast(\"Added To Cart\", {\r\n      position: \"top-center\",\r\n      autoClose: 2000,\r\n      type: \"info\",\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n    });\r\n    dispatch(\r\n      actions.addToCart({\r\n        productId: product,\r\n        skuId: sku,\r\n        product_id: product.id,\r\n        sku_id: sku.id,\r\n      })\r\n    );\r\n  };\r\n  if (state.loading) {\r\n    return (\r\n      <>\r\n        <button className=\"inline-flex items-center px-3 py-2 mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-indigo-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-indigo-300 hover:bg-indigo-300 active:bg-indigo-700 \">\r\n          <svg\r\n            class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <circle\r\n              class=\"opacity-25\"\r\n              cx=\"12\"\r\n              cy=\"12\"\r\n              r=\"10\"\r\n              stroke=\"currentColor\"\r\n              stroke-width=\"4\"\r\n            ></circle>\r\n            <path\r\n              class=\"opacity-75\"\r\n              fill=\"currentColor\"\r\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n            ></path>\r\n          </svg>\r\n          Processing\r\n        </button>\r\n      </>\r\n    );\r\n  } else {\r\n    if (quantity === 0) {\r\n      return (\r\n        <div\r\n          className=\"flex items-center justify-between rounded-md dark:bg focus:outline-none\"\r\n          onClick={() => {\r\n            if (auth) {\r\n              setState((e) => ({ ...e, loading: true, add: true }));\r\n            } else {\r\n              toast(\"Login To Add\", {\r\n                position: \"top-center\",\r\n                autoClose: 2000,\r\n                type: \"info\",\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n              });\r\n            }\r\n          }}\r\n        >\r\n          <button className=\"py-2 pl-2 pr-8 leading-none text-white bg-green-600 dark:bg-indigo-700 rounded-l-md focus:outline-none \">\r\n            Add\r\n          </button>\r\n          <div className=\"py-1 leading-none text-white bg-green-400 cursor-pointer dark:bg-indigo-400 rounded-r-md focus:outline-none \">\r\n            <svg\r\n              className=\"w-8 h-6\"\r\n              fill=\"currentColor\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth=\"2\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path d=\"M12 4v16m8-8H4\"></path>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"flex items-center justify-between rounded-md focus:outline-none \">\r\n          <button\r\n            onClick={() => {\r\n              setState((e) => ({ ...e, loading: true, decrement: true }));\r\n            }}\r\n            className=\"py-1 leading-none text-white bg-green-400 rounded-md dark:bg-indigo-700 focus:outline-none \"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/200s0/svg\"\r\n              className=\"w-8 h-6 px-2\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path d=\"M0 10h24v4h-24z\" />\r\n            </svg>\r\n          </button>\r\n          <div className=\"px-2 py-1\">{quantity}</div>\r\n          <button\r\n            className=\"py-1 leading-none text-white bg-green-400 rounded-md dark:bg-indigo-700 focus:outline-none \"\r\n            onClick={() => {\r\n              if (quantity === 5) {\r\n                toast(\"Max Quantity\", {\r\n                  position: \"top-center\",\r\n                  autoClose: 2000,\r\n                  type: \"info\",\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                });\r\n              } else\r\n                setState((e) => ({ ...e, loading: true, increment: true }));\r\n            }}\r\n          >\r\n            <svg\r\n              className=\"w-8 h-6\"\r\n              fill=\"currentColor\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth=\"2\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path d=\"M12 4v16m8-8H4\"></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default CartButton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Cart from \"./cartButton\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Product = ({ product, id }) => {\r\n  const [item, setItem] = useState();\r\n\r\n  const [sku, setSku] = useState();\r\n  useEffect(() => {\r\n    // if (product) {\r\n    //   setItem(product);\r\n    //   setSku(() => {\r\n    //     let isDefault;\r\n    //     product.skus.find((i) => {\r\n    //       if (i.isDefault) {\r\n    //         isDefault = i;\r\n    //       }\r\n    //     });\r\n    //     isDefault = isDefault ? isDefault : product.skus[0];\r\n    //     return isDefault;\r\n    //   });\r\n    // }\r\n    if (product.skus.length) {\r\n      setItem(product);\r\n\r\n      setSku(() => product.skus[0]);\r\n    } else {\r\n      setItem(product);\r\n    }\r\n  }, [product]);\r\n  let history = useHistory();\r\n  const onChange = (e) => {\r\n    const selectedType = e.target.value;\r\n    console.log(selectedType);\r\n    const selectedChoice = item.skus.find((i) => i.id === +selectedType);\r\n\r\n    setSku(selectedChoice);\r\n  };\r\n  console.log(item);\r\n  if (item && sku && sku.stock > 0) {\r\n    return (\r\n      <>\r\n        <div\r\n          id={id}\r\n          className=\"flex flex-col pb-4 space-y-2 border-b border-gray-400 product\"\r\n        >\r\n          <div className=\"flex px-2 space-x-2 product-detail \">\r\n            <div className=\"relative flex flex-col w-1/3 overflow-hidden cursor-pointer \">\r\n              <img\r\n                onClick={() => history.push(`/product/${product.id}`)}\r\n                src={item.skus[0].images[0].image}\r\n                className=\"absolute object-contain w-full h-full\"\r\n                alt={item.name}\r\n              />{\" \"}\r\n              {sku.discount > 0 && (\r\n                <div className=\"flex items-center justify-center text-center\">\r\n                  <span className=\"absolute z-10 px-2 py-1 leading-none text-white bg-red-500 rounded top-1 h6 \">\r\n                    {parseFloat(sku.discount).toFixed(2)} OFF\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex flex-col w-2/3 space-y-1\">\r\n              <div className=\"font-semibold \">{item.name}</div>\r\n\r\n              <select\r\n                onChange={onChange}\r\n                value={sku.name}\r\n                className=\"w-40 text-gray-700 bg-gray-200 dark:bg-gray-600 dark:text-gray-200\"\r\n              >\r\n                {item.skus.map((i) => {\r\n                  return (\r\n                    <option value={i.id} key={i.id}>\r\n                      {i.sku}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n              <div className=\"flex justify-between\">\r\n                <div className=\"flex flex-col\">\r\n                  {sku.discount > 0 ? (\r\n                    <div className=\"flex items-baseline space-x-1 initial price\">\r\n                      <span> &#8377; </span>\r\n                      <div className=\"line-through\">\r\n                        <span className=\"\">{sku.mrp}</span>\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"flex items-center justify-between \">\r\n                    <div className=\"font-bold price\">\r\n                      <span> &#8377; </span>\r\n                      <span>{sku.sp}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <Cart product={item} sku={sku}></Cart>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  } else if (product && sku && sku.stock <= 0) {\r\n    return (\r\n      <>\r\n        <div className=\"flex flex-col pb-4 space-y-2 border-b border-gray-400 product\">\r\n          <div className=\"flex px-2 space-x-2 product-detail\">\r\n            <div className=\"relative flex flex-col w-1/3 overflow-hidden cursor-pointer pb-2/3\">\r\n              <img\r\n                onClick={() => history.push(`/product/${product.id}`)}\r\n                src={sku.images[0].image}\r\n                className=\"absolute object-contain w-full h-full\"\r\n                alt={item.name}\r\n              />\r\n              {sku.discount > 0 && (\r\n                <div className=\"flex items-center justify-center text-center\">\r\n                  <span className=\"absolute z-10 px-2 py-1 leading-none text-white bg-red-500 rounded top-1 h6 \">\r\n                    {parseFloat(sku.discount).toFixed(2)} OFF\r\n                  </span>\r\n                </div>\r\n              )}\r\n              <div className=\"absolute inset-0 flex items-center justify-center text-center\">\r\n                <div className=\"z-10 flex justify-center w-16 h-16 px-2 py-2 text-gray-600 bg-gray-400 \">\r\n                  <span className=\"\">Out Of Stock</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col w-2/3 space-y-1\">\r\n              <div className=\"font-semibold \">{item.name}</div>\r\n\r\n              <select\r\n                onChange={onChange}\r\n                value={sku.name}\r\n                className=\"w-40 text-gray-700 bg-gray-200 dark:bg-gray-600 dark:text-gray-200\"\r\n              >\r\n                {item.skus.map((i) => {\r\n                  return (\r\n                    <option value={i.sp} key={i.sp}>\r\n                      {i.sp}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n              <div className=\"flex justify-between\">\r\n                <div className=\"flex flex-col\">\r\n                  {sku.discount > 0 ? (\r\n                    <div className=\"flex items-baseline space-x-1 initial price\">\r\n                      <span> &#8377; </span>\r\n                      <div className=\"line-through\">\r\n                        <span className=\"\">{sku.mrp}</span>\r\n                      </div>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  <div className=\"flex items-center justify-between \">\r\n                    <div className=\"font-bold price\">\r\n                      <span> &#8377; </span>\r\n                      <span>{sku.sp}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center justify-between rounded-md focus:outline-none\">\r\n                  <button\r\n                    className=\"py-2 pl-2 pr-8 leading-none text-white bg-gray-400 rounded-l-md \"\r\n                    disabled={true}\r\n                    style={{ WebkitTapHighlightColor: \"transparent\" }}\r\n                  >\r\n                    Add\r\n                  </button>\r\n                  <div className=\"py-1 leading-none text-white bg-gray-400 outline-none rounded-r-md focus:outline-none\">\r\n                    <svg\r\n                      className=\"w-8 h-6\"\r\n                      fill=\"currentColor\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path d=\"M12 4v16m8-8H4\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return null;\r\n    //   <div className=\"flex items-center justify-center pt-3\">\r\n    //     <Spinner></Spinner>\r\n    //   </div>\r\n    // );\r\n  }\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport Product from \"./product\";\r\nimport { useLocation, useHistory, Link, useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\nimport Axios, { CancelToken } from \"axios\";\r\nimport { SkeletonComponent } from \"../utils/SkeletonComponent\";\r\nconst queryString = require(\"query-string\");\r\n\r\nfunction ProductContainer() {\r\n  let location = useLocation();\r\n  let pathname = location.pathname;\r\n\r\n  let brandParams;\r\n  const parsed = queryString.parse(location.search, {\r\n    arrayFormat: \"bracket\",\r\n  });\r\n  console.log(parsed);\r\n  if (parsed.brand) {\r\n    brandParams = parsed.brand;\r\n  }\r\n\r\n  const currentPage = new URLSearchParams(location.search).get(\"page\") || 0;\r\n  const pagination = (order) => {\r\n    let updatedPage = queryString.parse(location.search, {\r\n      arrayFormat: \"bracket\",\r\n    });\r\n    console.log(updatedPage);\r\n    let brand;\r\n    let sort;\r\n    order === 1\r\n      ? (updatedPage.page = +currentPage + 1)\r\n      : (updatedPage.page = +currentPage - 1);\r\n    if (updatedPage.brand) {\r\n      brand = updatedPage.brand;\r\n    }\r\n    if (updatedPage.sort) {\r\n      sort = updatedPage.sort;\r\n    }\r\n    console.log(\r\n      queryString.stringify(\r\n        { page: updatedPage.page, brand: brand, sort },\r\n        {\r\n          arrayFormat: \"bracket\",\r\n          skipEmptyString: true,\r\n          skipNull: true,\r\n        }\r\n      )\r\n    );\r\n    return queryString.stringify(\r\n      { page: updatedPage.page, brand: brand, sort },\r\n      {\r\n        arrayFormat: \"bracket\",\r\n        skipEmptyString: true,\r\n        skipNull: true,\r\n      }\r\n    );\r\n  };\r\n  const sort = new URLSearchParams(location.search).get(\"sort\") || \"popularity\";\r\n\r\n  let { category, subCategory } = useParams();\r\n  let category_id = category.split(\"-\").pop();\r\n  let product_category_id =\r\n    subCategory === \"all\" ? \"all\" : subCategory.split(\"-\").pop();\r\n\r\n  let history = useHistory();\r\n  const hasMore = () => {\r\n    if (data) {\r\n      return (+currentPage + 1) * 10 < data.data.total;\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   setSearch(history.location.search);\r\n  //   console.log(search);\r\n  // }, [history.location.search]);\r\n\r\n  //   let dispatch = useDispatch();\r\n  //   const ref = useRef();\r\n  //   let location = useLocation();\r\n  //   const products = useSelector((state) => state.productBuilder.products);\r\n  const { data, status } = useQuery(\r\n    `${history.location.pathname}+${history.location.search}`,\r\n    () => {\r\n      const source = Axios.CancelToken.source();\r\n      console.log(source);\r\n      let url;\r\n      if (product_category_id === \"all\") {\r\n        url = `https://frozen-reef-15026.herokuapp.com/api/products?category_id=${category_id}&page=${+currentPage}`;\r\n      } else {\r\n        url = `https://frozen-reef-15026.herokuapp.com/api/products?category_id=${category_id}&product_category_id=${product_category_id}&page=${+currentPage}`;\r\n      }\r\n\r\n      const promise = Axios.get(url, {\r\n        params: { brand: brandParams, sort: sort },\r\n        cancelToken: source.token,\r\n      });\r\n\r\n      // Cancel the request if React Query calls the `promise.cancel` method\r\n      promise.cancel = () => {\r\n        console.log(\"cancelled\");\r\n        source.cancel(\"Query was cancelled by React Query\");\r\n      };\r\n\r\n      return promise;\r\n    },\r\n    {\r\n      refetchOnMount: false,\r\n      refetchOnWindowFocus: false,\r\n      cacheTime: 600000,\r\n      staleTime: 60000,\r\n    }\r\n  );\r\n\r\n  if (status === \"loading\")\r\n    return (\r\n      <div className=\"min-h-screen divide-y divide-gray-200 \">\r\n        <div className=\"px-4 py-2\">\r\n          <div className=\"animate-pulse\">\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"150ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"300ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"450ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  if (status === \"error\")\r\n    return (\r\n      <div className=\"divide-y divide-gray-200 \">\r\n        <div className=\"px-4 py-2\">\r\n          <div className=\"animate-pulse\">\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"150ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"300ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  if (data.data.results.length === 0) {\r\n    return <div>No Products</div>;\r\n  }\r\n  return (\r\n    <div className=\"flex-1 h-full component dark:bg-mine-shaft-500\">\r\n      {data.data.results.map((i, index) => {\r\n        //  if (products.length === index + 1) {\r\n        //   return (\r\n        //     <div key={index}>\r\n        //       <div ref={lastProductRef}></div>\r\n        //       <Product key={index} product={i}></Product>\r\n        //       {loading ? (\r\n        //         <div className=\"flex items-center justify-center pt-3\">\r\n        //           <Spinner></Spinner>\r\n        //         </div>\r\n        //       ) : null}\r\n        //     </div>\r\n        //   );\r\n        // }\r\n        return <Product key={index} product={i}></Product>;\r\n      })}\r\n\r\n      <div className=\"flex items-center justify-around py-2 pagination \">\r\n        {+currentPage === 0 ? (\r\n          <button\r\n            disabled\r\n            className=\"flex w-8 h-8 px-2 py-2 text-black bg-gray-100 border-solid rounded-lg shadow-xs cursor-pointer \"\r\n          >\r\n            <svg\r\n              fill=\"none\"\r\n              viewBox=\"0 0 32 32\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-hidden=\"true\"\r\n              role=\"presentation\"\r\n              focusable=\"false\"\r\n              className=\"block w-4 h-4 overflow-hidden stroke-current \"\r\n              style={{ strokeWidth: 4 }}\r\n            >\r\n              <g fill=\"none\">\r\n                <path d=\"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932\"></path>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n        ) : (\r\n          <Link\r\n            to={{\r\n              pathname: pathname,\r\n              search: pagination(0),\r\n            }}\r\n            className=\"flex w-8 h-8 px-2 py-2 text-black bg-gray-300 border-solid rounded-lg shadow-xs cursor-pointer \"\r\n          >\r\n            <svg\r\n              fill=\"none\"\r\n              viewBox=\"0 0 32 32\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-hidden=\"true\"\r\n              role=\"presentation\"\r\n              focusable=\"false\"\r\n              className=\"block w-4 h-4 overflow-hidden stroke-current \"\r\n              style={{ strokeWidth: 4 }}\r\n            >\r\n              <g fill=\"none\">\r\n                <path d=\"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932\"></path>\r\n              </g>\r\n            </svg>\r\n          </Link>\r\n        )}\r\n        <span> Page No. {+currentPage + 1}</span>\r\n        {hasMore() ? (\r\n          <Link\r\n            to={{\r\n              pathname: pathname,\r\n              search: pagination(1),\r\n            }}\r\n            className=\"flex w-8 h-8 px-2 py-2 text-black bg-gray-300 border-solid rounded-lg shadow-xs cursor-pointer \"\r\n          >\r\n            <svg\r\n              className=\"block w-4 h-4 overflow-hidden stroke-current \"\r\n              style={{ strokeWidth: 4 }}\r\n              viewBox=\"0 0 32 32\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-hidden=\"true\"\r\n              role=\"presentation\"\r\n              focusable=\"false\"\r\n            >\r\n              <g fill=\"none\">\r\n                <path d=\"m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932\"></path>\r\n              </g>\r\n            </svg>\r\n          </Link>\r\n        ) : (\r\n          <button\r\n            disabled\r\n            className=\"flex w-8 h-8 px-2 py-2 text-black bg-gray-100 border-solid rounded-lg shadow-xs cursor-pointer \"\r\n          >\r\n            <svg\r\n              className=\"block w-4 h-4 overflow-hidden stroke-current \"\r\n              style={{ strokeWidth: 4 }}\r\n              viewBox=\"0 0 32 32\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-hidden=\"true\"\r\n              role=\"presentation\"\r\n              focusable=\"false\"\r\n            >\r\n              <g fill=\"none\">\r\n                <path d=\"m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932\"></path>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductContainer;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nconst queryString = require(\"query-string\");\r\n\r\nfunction ProductFilter({ setToggleProductFilter, toggleProductFilter }) {\r\n  const filter = document.getElementById(\"filter\");\r\n  const root = document.getElementById(\"root\");\r\n  // const sorting= useSelector((state) => state.productBuilder.sort);\r\n\r\n  let location = useLocation();\r\n  const sorting = queryString.parse(location.search).sort || \"popularity\";\r\n\r\n  let history = useHistory();\r\n\r\n  let pathname = location.pathname;\r\n\r\n  useEffect(() => {\r\n    document.body.classList.add(\"overflow-hidden\");\r\n    root.classList.add(\"static\");\r\n    filter.classList.add(\r\n      \"h-screen\",\r\n\r\n      \"flex\",\r\n      \"items-center\",\r\n      \"inset-0\",\r\n      \"justify-center\"\r\n    );\r\n    return () => {\r\n      document.body.classList.remove(\"overflow-hidden\");\r\n      root.classList.remove(\"static\");\r\n      filter.classList.remove(\r\n        \"h-screen\",\r\n\r\n        \"flex\",\r\n        \"items-center\",\r\n        \"inset-0\",\r\n        \"justify-center\"\r\n      );\r\n    };\r\n  });\r\n  const dispatchSort = (e) => {\r\n    let query = queryString.parse(location.search, { arrayFormat: \"bracket\" });\r\n    query.sort = e.target.value;\r\n    query.page = 0;\r\n    query = queryString.stringify(query, { arrayFormat: \"bracket\" });\r\n    history.push({\r\n      pathname: pathname,\r\n      search: query,\r\n    });\r\n    // dispatch(actions.setSort(e.target.value));\r\n    // dispatch(actions.fetchBrandFilter(category, subCategory));\r\n    setToggleProductFilter((e) => !e);\r\n  };\r\n  return ReactDOM.createPortal(\r\n    <>\r\n      {\" \"}\r\n      <div\r\n        className=\"absolute inset-0 z-10 bg-black opacity-25 dark:opacity-80\"\r\n        onClick={setToggleProductFilter}\r\n      ></div>\r\n      <div\r\n        className={\r\n          toggleProductFilter\r\n            ? \"fixed bottom-0 z-20 flex flex-col w-full py-4 mb-4 opacity-100 transition-opacity duration-500 bg-white dark:text-gray-400 dark:bg-mine-shaft-500\"\r\n            : \"fixed bottom-0 z-20 flex flex-col w-full py-4 mb-4 opacity-0 pointer-events-none  transition-opacity duration-500 bg-white dark:bg-mine-shaft-500 dark:text-gray-400 \"\r\n        }\r\n      >\r\n        <div className=\"px-4 py-2 font-bold text-gray-600 border-b border-gray-500 dark:text-gray-400 \">\r\n          SORT BY\r\n        </div>\r\n        <div className=\"flex flex-col px-4 py-4 space-y-2\">\r\n          <div className=\"flex items-center justify-between font-bold\">\r\n            <span> Popularity</span>\r\n            <span>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"sort-filter\"\r\n                checked={sorting === \"popularity\"}\r\n                value=\"popularity\"\r\n                onChange={dispatchSort}\r\n              />\r\n            </span>\r\n          </div>\r\n          <div className=\"flex items-center justify-between font-bold\">\r\n            <span> Price -- Low to High</span>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sort-filter\"\r\n              value=\"low-to-high\"\r\n              checked={sorting === \"low-to-high\"}\r\n              onChange={dispatchSort}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-between font-bold\">\r\n            <span> Price -- High to Low</span>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sort-filter\"\r\n              value=\"high-to-low\"\r\n              checked={sorting === \"high-to-low\"}\r\n              onChange={dispatchSort}\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center justify-between font-bold\">\r\n            <span> Newest First</span>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sort-filter\"\r\n              value=\"new-first\"\r\n              checked={sorting === \"new-first\"}\r\n              onChange={dispatchSort}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between font-bold\">\r\n            <span> Discount</span>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sort-filter\"\r\n              value=\"discount\"\r\n              checked={sorting === \"discount\"}\r\n              onChange={dispatchSort}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>,\r\n    document.getElementById(\"filter\")\r\n  );\r\n}\r\n\r\nexport default ProductFilter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Select from \"react-select\";\r\n\r\nimport Axios, { CancelToken } from \"axios\";\r\nimport { useLocation, useHistory, useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\nconst queryString = require(\"query-string\");\r\nfunction BrandFilter({\r\n  toggleBrandFilter,\r\n\r\n  setToggleBrandFilter,\r\n}) {\r\n  const filter = document.getElementById(\"filter\");\r\n  const root = document.getElementById(\"root\");\r\n  let location = useLocation();\r\n  let pathname = location.pathname;\r\n\r\n  const currentPage = new URLSearchParams(location.search).get(\"page\");\r\n  const [selectedBrands, setSelectedBrands] = useState([]);\r\n\r\n  useEffect(() => {\r\n    document.body.classList.add(\"overflow-hidden\");\r\n    root.classList.add(\"static\");\r\n    filter.classList.add(\r\n      \"h-screen\",\r\n\r\n      \"flex\",\r\n      \"items-center\",\r\n      \"inset-0\",\r\n      \"justify-center\"\r\n    );\r\n    return () => {\r\n      document.body.classList.remove(\"overflow-hidden\");\r\n      root.classList.remove(\"static\");\r\n      filter.classList.remove(\r\n        \"h-screen\",\r\n\r\n        \"flex\",\r\n        \"items-center\",\r\n        \"inset-0\",\r\n        \"justify-center\"\r\n      );\r\n    };\r\n  }, [filter.classList, root.classList]);\r\n  useEffect(() => {\r\n    const parsed = queryString.parse(location.search, {\r\n      arrayFormat: \"bracket\",\r\n    });\r\n    if (parsed.brand) {\r\n      setSelectedBrands(() => parsed.brand.map((i) => +i));\r\n    }\r\n  }, [location.search]);\r\n\r\n  let { category, subCategory } = useParams();\r\n  let category_id = category.split(\"-\").pop();\r\n\r\n  let product_category_id =\r\n    subCategory === \"all\" ? \"all\" : subCategory.split(\"-\").pop();\r\n  let history = useHistory();\r\n  // useEffect(() => {\r\n  //   setSearch(history.location.search);\r\n  //   console.log(search);\r\n  // }, [history.location.search]);\r\n\r\n  //   let dispatch = useDispatch();\r\n  //   const ref = useRef();\r\n  //   let location = useLocation();\r\n  //   const products = useSelector((state) => state.productBuilder.products);\r\n  const { data, status } = useQuery(\r\n    `${history.location.pathname}`,\r\n    () => {\r\n      const source = CancelToken.source();\r\n      let url;\r\n      if (product_category_id === \"all\") {\r\n        url = `https://frozen-reef-15026.herokuapp.com/api/brands?category_id=${category_id}&page=${+currentPage}`;\r\n      } else {\r\n        url = `https://frozen-reef-15026.herokuapp.com/api/brands?category_id=${category_id}&product_category_id=${product_category_id}&page=${+currentPage}`;\r\n      }\r\n\r\n      const promise = Axios.get(url, { params: { cancelToken: source.token } });\r\n\r\n      // Cancel the request if React Query calls the `promise.cancel` method\r\n      promise.cancel = () => {\r\n        source.cancel(\"Query was cancelled by React Query\");\r\n      };\r\n\r\n      return promise;\r\n    },\r\n    {\r\n      refetchOnMount: false,\r\n      refetchOnWindowFocus: false,\r\n      cacheTime: 600000,\r\n      staleTime: 60000,\r\n    }\r\n  );\r\n  const applyFilter = () => {\r\n    const selectedBrandsStringify = queryString.stringify(\r\n      { brand: selectedBrands, page: 0, sort: \"popularity\" },\r\n      {\r\n        arrayFormat: \"bracket\",\r\n      }\r\n    );\r\n\r\n    history.push({ pathname: pathname, search: selectedBrandsStringify });\r\n    setToggleBrandFilter();\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedBrands(Array.isArray(e) ? e.map((i) => i.value) : []);\r\n  };\r\n  let options = [];\r\n  options =\r\n    data &&\r\n    data.data.map((i) => {\r\n      return { value: i.id, label: i.name };\r\n    });\r\n  // const brand = useSelector((state) => state.productBuilder.brand);\r\n  // const brandFilter = useSelector(\r\n  //   (state) => state.productBuilder.brand_filters\r\n  // );\r\n  // const dispatch = useDispatch();\r\n  // const dispatchFilter = () => {\r\n  //   dispatch(actions.fetchBrandFilter(category, subCategory));\r\n  //   settoggleBrandFilter();\r\n  // };\r\n\r\n  // console.log(\"render\");\r\n  const render = () => {\r\n    if (status === \"loading\")\r\n      return (\r\n        <>\r\n          <div\r\n            className=\"absolute inset-0 z-10 bg-black opacity-25 dark:opacity-80\"\r\n            onClick={setToggleBrandFilter}\r\n          ></div>{\" \"}\r\n          <div\r\n            className={\r\n              toggleBrandFilter\r\n                ? \"fixed bottom-0 z-20 flex flex-col w-full py-4 opacity-100 transition-opacity duration-500 bg-white dark:text-gray-400 dark:bg-mine-shaft-500\"\r\n                : \"fixed bottom-0 z-20 flex flex-col w-full py-4 opacity-0 pointer-events-none transition-opacity duration-500 bg-white dark:bg-mine-shaft-500 dark:text-gray-400 \"\r\n            }\r\n          >\r\n            <p>loading...</p>\r\n          </div>\r\n        </>\r\n      );\r\n\r\n    if (status === \"error\")\r\n      return (\r\n        <>\r\n          <div\r\n            className=\"absolute inset-0 z-10 bg-black opacity-25 dark:opacity-80\"\r\n            onClick={setToggleBrandFilter}\r\n          ></div>{\" \"}\r\n          <div\r\n            className={\r\n              toggleBrandFilter\r\n                ? \"fixed bottom-0 z-20 flex flex-col w-full py-4 opacity-100 transition-opacity duration-500 bg-white dark:text-gray-400 dark:bg-mine-shaft-500 \"\r\n                : \"fixed bottom-0 z-20 flex flex-col w-full py-4 opacity-0 pointer-events-none transition-opacity duration-500 bg-white dark:text-gray-400 dark:bg-mine-shaft-500 \"\r\n            }\r\n          >\r\n            <p>loading...</p>\r\n          </div>\r\n        </>\r\n      );\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"absolute inset-0 z-10 bg-black opacity-25 dark:opacity-80\"\r\n          onClick={setToggleBrandFilter}\r\n        ></div>\r\n        <div\r\n          className={\r\n            toggleBrandFilter\r\n              ? \"fixed bottom-0 z-20 flex flex-col w-full py-4 opacity-100 transition-opacity duration-500 bg-white dark:bg-mine-shaft-500 dark:text-gray-400 \"\r\n              : \"fixed bottom-0 z-20 flex flex-col w-full py-4 opacity-0 pointer-events-none transition-opacity duration-500 bg-white dark:bg-mine-shaft-500 dark:text-gray-400\"\r\n          }\r\n        >\r\n          <div className=\"flex items-center justify-between px-4 py-2 font-bold text-gray-600 border-b border-gray-500 dark:text-white \">\r\n            <span> Brand Filter</span>\r\n            <button\r\n              className=\"px-6 py-2 text-white bg-red-600 rounded shadow dark:text-gray-200 dark:bg-blue-400 focus:outline-none \"\r\n              onClick={applyFilter}\r\n            >\r\n              Apply\r\n            </button>\r\n          </div>\r\n          <div className=\"\" style={{ height: 400 }}>\r\n            <Select\r\n              className=\"dark:text-gray-900 dark:bg-mine-shaft-700\"\r\n              options={options}\r\n              theme={\"neutral180\"}\r\n              onChange={handleChange}\r\n              isMulti={true}\r\n              value={options.filter((i) => selectedBrands.includes(i.value))}\r\n              isClearable={true}\r\n              hideSelectedOptions={true}\r\n              autoFocus={true}\r\n              closeMenuOnSelect={false}\r\n              placeholder={\"Choose Brand Filter\"}\r\n            ></Select>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return ReactDOM.createPortal(render(), document.getElementById(\"filter\"));\r\n}\r\n\r\nexport default BrandFilter;\r\n","import React, { useState } from \"react\";\r\nimport ProductFilter from \"./ProductFilter\";\r\nimport BrandFilter from \"./BrandFilter\";\r\n\r\nfunction Filters({ showFilters, onDrawerClick, openBackDrop }) {\r\n  const [toggleBrandFilter, setToggleBrandFilter] = useState(false);\r\n\r\n  const [toggleProductFilter, setToggleProductFilter] = useState(false);\r\n\r\n  // const backdrop = () => {\r\n  //   if (showFilters || toggleBrandFilter || toggleProductFilter) {\r\n  //     return (\r\n  //       <BackDrop\r\n  //         onClick={() => {\r\n  //           openBackDrop(false);\r\n  //           setshowProductFilter(false);\r\n  //           setToggleBrandFilter(false);\r\n  //         }}\r\n  //       ></BackDrop>\r\n  //     );\r\n  //   } else {\r\n  //     return null;\r\n  //   }\r\n  // };\r\n  return (\r\n    <>\r\n      <div className=\"flex items-center justify-between border-b border-gray-400 divide-x dark:bg-mine-shaft-700 dark:text-gray-300\">\r\n        <div\r\n          className=\"flex items-center justify-center w-full py-2 space-x-4 font-mono font-semibold active:bg-blue-300\"\r\n          onClick={() => {\r\n            // openBackDrop(true);\r\n            return setToggleProductFilter(true);\r\n          }}\r\n        >\r\n          <span className=\"\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4\"\r\n              />\r\n            </svg>\r\n          </span>\r\n          <span className=\"flex justify-center \">Sort</span>\r\n        </div>\r\n        <div className=\"flex items-center justify-center w-full py-2 space-x-4 font-mono font-semibold focus:bg-gray-300 active:bg-blue-300\">\r\n          <span className=\"\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              className=\"w-6 h-6\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"\r\n              />\r\n            </svg>\r\n          </span>\r\n          <span\r\n            className=\"flex justify-center \"\r\n            onClick={() => {\r\n              return setToggleBrandFilter(true);\r\n            }}\r\n          >\r\n            Brand Filter\r\n          </span>\r\n        </div>\r\n      </div>\r\n      {/* {backdrop()} */}\r\n\r\n      {toggleProductFilter && (\r\n        <ProductFilter\r\n          toggleProductFilter={toggleProductFilter}\r\n          setToggleProductFilter={() => setToggleProductFilter((e) => !e)}\r\n        ></ProductFilter>\r\n      )}\r\n      {toggleBrandFilter && (\r\n        <BrandFilter\r\n          toggleBrandFilter={toggleBrandFilter}\r\n          setToggleBrandFilter={() => setToggleBrandFilter(false)}\r\n        ></BrandFilter>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Filters;\r\n","import React, { useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport SubCategoryHeader from \"../components/subCategoryHeader\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Drawer from \"../components/Drawer\";\r\n\r\nimport BackDrop from \"../components/BackDrop\";\r\nimport ProductContainer from \"../components/ProductContainer\";\r\nimport Filters from \"../components/Filters\";\r\nconst SubCategory = React.memo(() => {\r\n  console.log(\"render\");\r\n\r\n  const [showDrawer, setshowDrawer] = useState(false);\r\n  const [showFilters, setshowFilters] = useState(false);\r\n  const backDropClick = () => {\r\n    setshowDrawer(false);\r\n  };\r\n  let backdrop;\r\n  if (showDrawer) {\r\n    backdrop = <BackDrop onClick={backDropClick}></BackDrop>;\r\n  }\r\n  let cssClass =\r\n    showDrawer || showFilters\r\n      ? \"relative flex flex-col h-screen overflow-hidden\"\r\n      : \"relative flex flex-col dark:bg-mine-shaft-500 \";\r\n\r\n  return (\r\n    <>\r\n      <div className={cssClass + \" dark:text-gray-200\"}>\r\n        <Drawer show={showDrawer} onClick={() => setshowDrawer(false)}></Drawer>\r\n        {backdrop}\r\n        <Header onClick={() => setshowDrawer(true)} />\r\n        {/* <SubCategoryDrawer></SubCategoryDrawer> */}\r\n        <ToastContainer\r\n          position=\"top-left\"\r\n          autoClose={1500}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n        <SubCategoryHeader></SubCategoryHeader>\r\n        <Filters\r\n          showFilters={showFilters}\r\n          openBackDrop={() => setshowFilters((e) => !e)}\r\n        ></Filters>\r\n        <ProductContainer></ProductContainer>{\" \"}\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default SubCategory;\r\n","import React, { useState, useRef, useCallback } from \"react\";\r\nimport useSearch from \"../useSearch\";\r\n\r\nfunction Infinite() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n\r\n  const { hasMore, loading, error, response } = useSearch(query, page);\r\n\r\n  const ref = useRef();\r\n  const lastBookElementRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n\r\n      if (ref.current) ref.current.disconnect();\r\n      ref.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPage((p) => p + 1);\r\n        }\r\n      });\r\n      if (node) ref.current.observe(node);\r\n    },\r\n    [loading, hasMore]\r\n  );\r\n\r\n  const handleSearch = (e) => {\r\n    setQuery(e.target.value);\r\n    setPage(1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen \">\r\n      <input type=\"text\" onChange={handleSearch} />\r\n      <div className=\"flex-1 h-screen overflow-auto\">\r\n        {response.map((i, index) => {\r\n          if (response.length === index + 1) {\r\n            console.log(i);\r\n            return (\r\n              <div ref={lastBookElementRef} key={i}>\r\n                {i}\r\n              </div>\r\n            );\r\n          }\r\n          return <div key={i}>{i}</div>;\r\n        })}\r\n      </div>\r\n      <div>{loading && \" loading...\"}</div>\r\n      <div>{error && \"error\"}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Infinite;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nfunction AddressSelect({\r\n  show,\r\n  setshowAddress,\r\n  address,\r\n  addresses,\r\n  setAddress,\r\n  noEdit,\r\n}) {\r\n  const history = useHistory();\r\n  console.log(addresses);\r\n  const onChange = (e) => {\r\n    const selected = e.target.value;\r\n    setAddress(() => {\r\n      return addresses.find((i) => i.id === +selected);\r\n    });\r\n    setshowAddress();\r\n  };\r\n  return (\r\n    <>\r\n      <div\r\n        className={\r\n          show\r\n            ? \"absolute bottom-0 z-20 flex flex-col w-full py-4 opacity-100 transition-opacity duration-500 bg-white \"\r\n            : \"absolute bottom-0 z-20 flex flex-col w-full py-4 opacity-0 pointer-events-none  transition-opacity duration-500 bg-white \"\r\n        }\r\n      >\r\n        <div className=\"flex justify-between px-4 py-2 border-b \">\r\n          <span className=\"font-bold\">Choose Address</span>{\" \"}\r\n          <span\r\n            className=\"font-bold text-green-600 \"\r\n            onClick={() => {\r\n              history.push({\r\n                pathname: \"/add_address\",\r\n                state: { from: \"/place_order\" },\r\n              });\r\n            }}\r\n          >\r\n            Add Address\r\n          </span>\r\n        </div>\r\n        <div className=\"flex flex-col px-4 overflow-auto divide-y-2 divide-gray-200 h-80\">\r\n          <div className=\"py-4\" key={address.id}>\r\n            <div className=\"flex items-center \">\r\n              <div>\r\n                <input\r\n                  type=\"radio\"\r\n                  value={address.id}\r\n                  name=\"address\"\r\n                  checked={true}\r\n                  onChange={onChange}\r\n                />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <div className=\"font-bold\">{address.house_no}</div>\r\n                <div>\r\n                  {address.address_detail},{address.delivery_area},\r\n                  {address.city},{address.pincode}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end\">\r\n              {!noEdit && (\r\n                <span\r\n                  className=\"pl-10 font-bold text-green-400\"\r\n                  onClick={() =>\r\n                    history.push({\r\n                      pathname: \"/edit_address\",\r\n                      state: { address: address, from: \"/place_order\" },\r\n                    })\r\n                  }\r\n                >\r\n                  Edit\r\n                </span>\r\n              )}\r\n              <span\r\n                className=\"pl-4 font-bold text-green-400\"\r\n                onClick={() => {\r\n                  setshowAddress();\r\n                }}\r\n              >\r\n                Select\r\n              </span>\r\n            </div>\r\n          </div>\r\n          {addresses.map((i) => {\r\n            if (i.id !== address.id) {\r\n              return (\r\n                <div className=\"py-4\" key={i.id}>\r\n                  <div className=\"flex items-center \">\r\n                    <div>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"address\"\r\n                        value={i.id}\r\n                        onChange={onChange}\r\n                      />\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <div className=\"font-bold\">{i.house_no}</div>\r\n                      <div>\r\n                        {i.address_detail},{i.delivery_area},{i.city},\r\n                        {i.pincode}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-end\">\r\n                    {!noEdit && (\r\n                      <span\r\n                        className=\"pl-10 font-bold text-green-400\"\r\n                        onClick={() =>\r\n                          history.push({\r\n                            pathname: \"/edit_address\",\r\n                            state: { address: address, from: \"/place_order\" },\r\n                          })\r\n                        }\r\n                      >\r\n                        Edit\r\n                      </span>\r\n                    )}\r\n                    <span\r\n                      className=\"pl-4 font-bold text-green-400\"\r\n                      onClick={() => {\r\n                        setAddress(i);\r\n                        setshowAddress();\r\n                      }}\r\n                    >\r\n                      Select\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n            return <></>;\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddressSelect;\r\n","import React from \"react\";\r\nimport \"./spinner.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nexport default class Spinner extends React.Component {\r\n  //other logic\r\n  render(height, width) {\r\n    return <div class=\"spinner\"></div>;\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport Select from \"react-select\";\r\nimport BackDrop from \"../components/BackDrop\";\r\nimport AddressSelect from \"../components/addressSelect\";\r\n\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Spinner from \"../utils/Spinner/spinner\";\r\nimport Axios from \"axios\";\r\nfunction PlaceOrder() {\r\n  const store = [\r\n    {\r\n      house_no: \"Jyothi Kurnool\",\r\n      id: 1,\r\n      address: \"Park Road\",\r\n      delivery_area: \"Zilla\",\r\n      city: \"Kurnool\",\r\n      pincode: 33232,\r\n    },\r\n  ];\r\n  let date = new Date();\r\n  let today = date.toLocaleDateString();\r\n  let tom = new Date(date);\r\n  tom.setDate(tom.getDate() + 1);\r\n\r\n  let tomorrow = tom.toLocaleDateString();\r\n  const [showAddress, setshowAddress] = useState(false);\r\n  const cart = useSelector((state) => state.cartBuilder.cart);\r\n  const addresses = useSelector((state) => state.authBuilder.address);\r\n  const loading = useSelector((state) => state.authBuilder.loading);\r\n  const orderLoading = useSelector((state) => state.orderBuilder.loading);\r\n  const orderId = useSelector((state) => state.orderBuilder.orderId);\r\n  const purchased = useSelector((state) => state.orderBuilder.purchased);\r\n  const user_id = useSelector((state) => state.authBuilder.userId);\r\n  console.log(addresses);\r\n  const backDrop = () => {\r\n    if (showAddress) {\r\n      return <BackDrop onClick={() => setshowAddress(false)}></BackDrop>;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  function calc(cart, property) {\r\n    if (cart) {\r\n      if (property === \"mrp\") {\r\n        let amount = 0;\r\n        cart.map((i) => (amount += i.skuId.mrp * i.quantity));\r\n        return amount.toFixed(2);\r\n      } else if (property === \"sp\") {\r\n        let amount = 0;\r\n        cart.map((i) => (amount += i.skuId.sp * i.quantity));\r\n        return amount.toFixed(2);\r\n      }\r\n    }\r\n  }\r\n  const total_price = calc(cart, \"mrp\");\r\n  const total_selling_price = calc(cart, \"sp\");\r\n  const discount = (total_price - total_selling_price).toFixed(2);\r\n  const [address, setAddress] = useState();\r\n  let total_bill = (parseFloat(total_selling_price) + 45.0).toFixed(2);\r\n\r\n  console.log({ total_bill });\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (addresses && addresses.length) {\r\n      setAddress(addresses[0]);\r\n    }\r\n  }, [addresses]);\r\n\r\n  const [step, setStep] = useState(0);\r\n\r\n  const validationSchema = [\r\n    Yup.object({\r\n      delivery_slot: Yup.string().required(\"Please select a delivery Slot\"),\r\n\r\n      delivery_time: Yup.string().required(\"Please select Delivery Time\"),\r\n    }),\r\n    Yup.object({\r\n      payment_type: Yup.string().required(\"Please select a  Payment Type \"),\r\n    }),\r\n  ];\r\n  console.log(address);\r\n\r\n  const render = () => {\r\n    if (cart && !cart.length) {\r\n      return <Redirect to=\"/\"></Redirect>;\r\n    } else if (loading) {\r\n      return (\r\n        <div className=\"flex flex-col items-center w-full h-full\">\r\n          <div className=\"flex items-center justify-center flex-1\">\r\n            <Spinner></Spinner>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (!loading && addresses && !addresses.length) {\r\n      return (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/add_address\",\r\n            state: { from: \"/place_order\" },\r\n          }}\r\n        ></Redirect>\r\n      );\r\n    } else if (cart && cart.length && addresses && address) {\r\n      if (step === 0 || step === 1) {\r\n        return (\r\n          <div>\r\n            <div className=\"relative flex flex-col h-screen \">\r\n              {backDrop()}\r\n\r\n              <div className=\"flex items-center text-white bg-red-500 \">\r\n                <div className=\"flex items-center justify-center py-2\">\r\n                  <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                    <svg\r\n                      fill=\"currentColor\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"16\"\r\n                      height=\"16\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                    </svg>\r\n                  </div>\r\n\r\n                  <div className=\"pl-4 \">Place Order</div>\r\n                </div>\r\n              </div>\r\n\r\n              <Formik\r\n                initialValues={{\r\n                  delivery_slot: \"\",\r\n                  delivery_time: \"\",\r\n                  payment_type: \"\",\r\n                  delivery_instructions: \"\",\r\n                }}\r\n                validationSchema={validationSchema[step]}\r\n                onSubmit={async (values, { setSubmitting, setErrors }) => {\r\n                  if (step === 1) {\r\n                    const order = {\r\n                      delivery_instructions: values.delivery_instructions,\r\n                      delivery_date:\r\n                        values.delivery_slot === \"Today\" ? today : tomorrow,\r\n                      delivery_time: values.delivery_time,\r\n                      payment_type: values.payment_type,\r\n                      delivery_area: address.delivery_area,\r\n                      user_id: user_id,\r\n                      delivery_charges: 45.0,\r\n                      order_items: cart,\r\n                      address: address.address,\r\n                      city: address.city,\r\n                      pincode: address.pincode,\r\n                    };\r\n                    setSubmitting(true);\r\n                    try {\r\n                      const { data } = await Axios.post(\r\n                        \"https://frozen-reef-15026.herokuapp.com/api/order\",\r\n                        order\r\n                      );\r\n\r\n                      setSubmitting(false);\r\n                      history.replace({\r\n                        pathname: \"/order_confirm\",\r\n                        state: { order_id: data.id },\r\n                      });\r\n                    } catch (err) {\r\n                      setSubmitting(false);\r\n                      setErrors({ err: err.response.message });\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                {({\r\n                  values,\r\n                  handleSubmit,\r\n                  handleChange,\r\n                  setFieldValue,\r\n                  errors,\r\n                  touched,\r\n                  isSubmitting,\r\n                  validateForm,\r\n                }) => (\r\n                  <Form className=\"flex flex-col flex-1 overflow-y-auto\">\r\n                    {step === 0 ? (\r\n                      <div className=\"flex flex-col flex-1 overflow-y-auto\">\r\n                        <div className=\"flex flex-col flex-1 overflow-y-auto\">\r\n                          <div className=\"flex items-center justify-end px-4 py-1 bg-gray-140\">\r\n                            <span className=\"pr-4 font-extrabold\">\r\n                              I will pickup from store\r\n                            </span>\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={step === 3}\r\n                              onChange={() => {\r\n                                if (step === 0) {\r\n                                  setStep(3);\r\n                                } else {\r\n                                  setStep(0);\r\n                                }\r\n                              }}\r\n                            />\r\n                          </div>\r\n                          {addresses[0] && address && addresses.length > 0 && (\r\n                            <AddressSelect\r\n                              show={showAddress}\r\n                              addresses={addresses}\r\n                              address={address}\r\n                              setshowAddress={() => setshowAddress(false)}\r\n                              setAddress={(e) => setAddress(e)}\r\n                            ></AddressSelect>\r\n                          )}\r\n                          <div className=\"h-4\"></div>\r\n                          <div className=\"flex flex-col flex-1 overflow-y-auto \">\r\n                            <div className=\"flex flex-col address\">\r\n                              <div className=\"px-4 py-1 font-bold bg-gray-140\">\r\n                                Select Delivery Address *\r\n                              </div>\r\n                              <div className=\"px-4 pt-3 bg-white\">\r\n                                <div className=\"flex \">\r\n                                  <div>\r\n                                    <svg\r\n                                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                                      width=\"24\"\r\n                                      height=\"24\"\r\n                                      viewBox=\"0 0 24 24\"\r\n                                    >\r\n                                      <path d=\"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z\" />\r\n                                    </svg>\r\n                                  </div>\r\n                                  <div className=\"w-full pl-3\">\r\n                                    <div className=\"font-bold house_no\">\r\n                                      {address.house_no}\r\n                                    </div>\r\n                                    <div>{address.address}</div>\r\n                                    <div>\r\n                                      {address.delivery_area},{address.city},\r\n                                      {address.pincode}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"flex justify-end\">\r\n                                  <span\r\n                                    className=\"font-bold text-green-700 \"\r\n                                    onClick={() => setshowAddress(true)}\r\n                                  >\r\n                                    Change\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"p-3\"></div>\r\n                            <div className=\"w-full p-4 bg-gray-140\"></div>\r\n                            <div>\r\n                              <div className=\"pt-4 slot\">\r\n                                <div className=\"px-4 bg-gray-140\">\r\n                                  <div className=\"pt-4 font-bold \">\r\n                                    Delivery Slot *\r\n                                  </div>\r\n                                  <div className=\"flex items-center pt-3\">\r\n                                    <div className=\"w-1/2\">\r\n                                      <input\r\n                                        type=\"radio\"\r\n                                        value=\"Today\"\r\n                                        name=\"delivery_slot\"\r\n                                        checked={\r\n                                          values.delivery_slot === \"Today\"\r\n                                        }\r\n                                        onChange={() =>\r\n                                          setFieldValue(\r\n                                            \"delivery_slot\",\r\n                                            \"Today\"\r\n                                          )\r\n                                        }\r\n                                      />\r\n                                      <span className=\"pl-2 font-bold \">\r\n                                        {\" \"}\r\n                                        Today\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"w-1/2\">\r\n                                      <input\r\n                                        type=\"radio\"\r\n                                        checked={\r\n                                          values.delivery_slot === \"Tomorrow\"\r\n                                        }\r\n                                        onChange={() =>\r\n                                          setFieldValue(\r\n                                            \"delivery_slot\",\r\n                                            \"Tomorrow\"\r\n                                          )\r\n                                        }\r\n                                        value=\"Tomorrow\"\r\n                                        name=\"delivery_slot\"\r\n                                      />\r\n                                      <span className=\"pl-2 font-bold \">\r\n                                        {\" \"}\r\n                                        Tomorrow\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"h-5 bg-gray-140\"></div>\r\n                              </div>\r\n                              {errors.delivery_slot && touched.delivery_slot ? (\r\n                                <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                                  {errors.delivery_slot}\r\n                                </div>\r\n                              ) : null}\r\n                              <div className=\"mt-4 bg-gray-140 time\">\r\n                                <div className=\"px-4 pt-4 font-bold\">\r\n                                  Delivery Time *\r\n                                </div>\r\n                                <Select\r\n                                  className=\"pt-4 \"\r\n                                  onChange={(opt, e) => {\r\n                                    if (e.action === \"clear\") {\r\n                                      setFieldValue(\"delivery_time\", \"\");\r\n                                    }\r\n                                    if (opt) {\r\n                                      setFieldValue(\"delivery_time\", opt.value);\r\n                                    }\r\n                                  }}\r\n                                  name=\"delivery_time\"\r\n                                  isSearchable={true}\r\n                                  isClearable={true}\r\n                                  openMenuOnClick={true}\r\n                                  minMenuHeight={500}\r\n                                  menuPlacement=\"top\"\r\n                                  options={[\r\n                                    {\r\n                                      label: \"9:00 AM - 7:30 PM \",\r\n                                      value: \"9:00 AM - 7:30 PM\",\r\n                                    },\r\n                                  ]}\r\n                                  placeholder=\"Select available time slots\"\r\n                                ></Select>\r\n                                <div className=\"h-4\"></div>\r\n                                {errors.delivery_time &&\r\n                                touched.delivery_time ? (\r\n                                  <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                                    {errors.delivery_time}\r\n                                  </div>\r\n                                ) : null}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"mb-14 \">\r\n                          <div className=\"flex items-center py-4 bg-gray-300 \">\r\n                            <span className=\"w-16 h-0 border border-green-500\"></span>\r\n                            <span className=\"px-2 font-bold border border-green-500 rounded-full\">\r\n                              Delivery\r\n                            </span>\r\n                            <span className=\"w-16 h-0 border border-white\"></span>\r\n                            <span className=\"px-1 font-bold border border-white rounded-full \">\r\n                              Billing\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex justify-end py-2\">\r\n                            <button\r\n                              type=\"submit\"\r\n                              onClick={() =>\r\n                                validateForm().then((e) => {\r\n                                  console.log(e);\r\n                                  if (!Object.keys(e).length) {\r\n                                    return setStep(1);\r\n                                  }\r\n                                  return;\r\n                                })\r\n                              }\r\n                              className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                            >\r\n                              Place Order\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"flex flex-col flex-1 \">\r\n                        <div className=\"flex-1 \">\r\n                          {\" \"}\r\n                          <div className=\"flex flex-col space-y-2\">\r\n                            <div className=\"font-bold \">Payment Option</div>\r\n                            <div className=\"flex justify-evenly\">\r\n                              <div>\r\n                                <input\r\n                                  className=\"mr-2\"\r\n                                  type=\"radio\"\r\n                                  value=\"Cash on Delivery\"\r\n                                  checked={\r\n                                    values.payment_type === \"Cash on Delivery\"\r\n                                  }\r\n                                  name=\"payment_type\"\r\n                                  onChange={() =>\r\n                                    setFieldValue(\r\n                                      \"payment_type\",\r\n                                      \"Cash on Delivery\"\r\n                                    )\r\n                                  }\r\n                                />\r\n\r\n                                <label className=\"font-semibold\">\r\n                                  Cash on Delivery\r\n                                </label>\r\n                              </div>\r\n                              <div>\r\n                                <input\r\n                                  className=\"mr-2\"\r\n                                  type=\"radio\"\r\n                                  value=\"GPay on Delivery\"\r\n                                  checked={\r\n                                    values.payment_type === \"GPay on Delivery\"\r\n                                  }\r\n                                  onChange={() =>\r\n                                    setFieldValue(\r\n                                      \"payment_type\",\r\n                                      \"GPay on Delivery\"\r\n                                    )\r\n                                  }\r\n                                  name=\"payment_type\"\r\n                                />\r\n                                <label\r\n                                  htmlFor=\"Tomorrow\"\r\n                                  className=\"font-semibold\"\r\n                                >\r\n                                  GPay on Delivery\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          {errors.payment_type && touched.payment_type ? (\r\n                            <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                              {errors.payment_type}\r\n                            </div>\r\n                          ) : null}\r\n                          <div className=\"py-2\">\r\n                            <label\r\n                              htmlFor=\"\r\n                      Delivery Instructions\"\r\n                              className=\"block py-2 font-bold\"\r\n                            >\r\n                              Delivery Instructions\r\n                            </label>\r\n                            <textarea\r\n                              className=\"w-full h-32 py-2 border border-black\"\r\n                              value={values.delivery_instructions}\r\n                              onChange={handleChange}\r\n                              name=\"delivery_instructions\"\r\n                            ></textarea>\r\n                          </div>\r\n                          <div className=\"flex flex-col px-2 py-3 space-y-2 bg-gray-140\">\r\n                            <div className=\"flex justify-between text-gray-500\">\r\n                              <span>MRP Total</span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"pl-2 line-through\">\r\n                                  {total_price}\r\n                                </span>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex justify-between font-bold \">\r\n                              <span>Sub Total</span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"ml-2\">\r\n                                  {total_selling_price}\r\n                                </span>\r\n                              </span>\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"flex justify-between font-bold \">\r\n                              <span>Delivery charge </span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"ml-2\">45.00</span>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex justify-between py-1 font-bold \">\r\n                              <span>Total Bill</span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"ml-2\">{total_bill}</span>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-center text-white \">\r\n                              <span className=\"px-1 font-bold bg-red-300 border\">\r\n                                {discount > 0\r\n                                  ? `Order Now and Save ${discount}`\r\n                                  : \"Order Now\"}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {errors.err && errors ? (\r\n                          <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">\r\n                            {errors.err}\r\n                          </div>\r\n                        ) : null}\r\n                        <div className=\"mb-14 \">\r\n                          <div className=\"flex items-center py-4 bg-gray-300 \">\r\n                            <span className=\"w-16 h-0 border border-green-500\"></span>\r\n                            <span className=\"px-2 font-bold border border-green-500 rounded-full\">\r\n                              Delivery\r\n                            </span>\r\n                            <span className=\"w-16 h-0 border border-green-500\"></span>\r\n                            <span className=\"px-1 font-bold border border-green-500 rounded-full \">\r\n                              Billing\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex justify-end py-2\">\r\n                            {!isSubmitting ? (\r\n                              <button\r\n                                type=\"submit\"\r\n                                className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                              >\r\n                                Place Order\r\n                              </button>\r\n                            ) : (\r\n                              <button className=\"inline-flex items-center px-3 py-2 mx-20 mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-indigo-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-indigo-300 hover:bg-indigo-300 active:bg-indigo-700 \">\r\n                                <svg\r\n                                  class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                                  fill=\"none\"\r\n                                  viewBox=\"0 0 24 24\"\r\n                                >\r\n                                  <circle\r\n                                    class=\"opacity-25\"\r\n                                    cx=\"12\"\r\n                                    cy=\"12\"\r\n                                    r=\"10\"\r\n                                    stroke=\"currentColor\"\r\n                                    stroke-width=\"4\"\r\n                                  ></circle>\r\n                                  <path\r\n                                    class=\"opacity-75\"\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                                  ></path>\r\n                                </svg>\r\n                                Processing\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </Form>\r\n                )}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else if (step === 3 || step === 4) {\r\n        return (\r\n          <div>\r\n            <div className=\"relative flex flex-col h-screen \">\r\n              <div className=\"flex items-center text-white bg-red-500 \">\r\n                <div className=\"flex items-center justify-center py-2\">\r\n                  <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                    <svg\r\n                      fill=\"currentColor\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"16\"\r\n                      height=\"16\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                    </svg>\r\n                  </div>\r\n\r\n                  <div className=\"pl-4 \">Place Order</div>\r\n                </div>\r\n              </div>\r\n\r\n              <Formik\r\n                initialValues={{\r\n                  delivery_slot: \"\",\r\n                  delivery_time: \"\",\r\n                  payment_type: \"\",\r\n                  delivery_instructions: \"\",\r\n                }}\r\n                onSubmit={async (values, { setSubmitting, setErrors }) => {\r\n                  if (step === 4) {\r\n                    const order = {\r\n                      delivery_instructions: values.delivery_instructions,\r\n                      delivery_date:\r\n                        values.delivery_slot === \"Today\"\r\n                          ? date.setDate(date.getUTCDate()).toLocaleString()\r\n                          : date\r\n                              .setDate(date.getUTCDate() + 1)\r\n                              .toLocaleString(),\r\n                      delivery_time: values.delivery_time,\r\n                      payment_type: values.payment_type,\r\n                      delivery_area: store[0].delivery_area,\r\n\r\n                      delivery_charges: 45.0,\r\n                      order_items: cart,\r\n                      address: store[0].address,\r\n                      city: store[0].city,\r\n                      pincode: store[0].pincode,\r\n                    };\r\n\r\n                    setSubmitting(true);\r\n                    try {\r\n                      const { data } = await Axios.post(\r\n                        \"https://frozen-reef-15026.herokuapp.com/api/order\",\r\n                        order\r\n                      );\r\n\r\n                      setSubmitting(false);\r\n                      history.replace({\r\n                        pathname: \"/order_confirm\",\r\n                        state: { order_id: data.id },\r\n                      });\r\n                    } catch (err) {\r\n                      setSubmitting(false);\r\n                      setErrors({ err: err.response.message });\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                {({\r\n                  values,\r\n                  handleSubmit,\r\n                  handleChange,\r\n                  setFieldValue,\r\n                  errors,\r\n                  validateForm,\r\n                  isSubmitting,\r\n                }) => (\r\n                  <Form className=\"flex flex-col flex-1 overflow-y-auto\">\r\n                    {step === 3 ? (\r\n                      <>\r\n                        {backDrop()}\r\n\r\n                        {addresses[0] && (\r\n                          <AddressSelect\r\n                            show={showAddress}\r\n                            addresses={store}\r\n                            address={store[0]}\r\n                            noEdit={true}\r\n                            setshowAddress={() => setshowAddress(false)}\r\n                            setAddress={(e) => setAddress(e)}\r\n                          ></AddressSelect>\r\n                        )}\r\n\r\n                        <div className=\"flex items-center justify-end px-4 py-1 bg-gray-140\">\r\n                          <span className=\"pr-4 font-extrabold\">\r\n                            I will pickup from store\r\n                          </span>\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={step === 3}\r\n                            onChange={() => {\r\n                              if (step === 0) {\r\n                                setStep(3);\r\n                              } else {\r\n                                setStep(0);\r\n                              }\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"h-4\"></div>\r\n                        <div\r\n                          className=\"flex flex-col flex-1 overflow-y-auto \"\r\n                          style={{ height: 1000 }}\r\n                        >\r\n                          <div className=\"flex flex-col address\">\r\n                            <div className=\"px-4 py-1 font-bold bg-gray-140\">\r\n                              Select Delivery Address *\r\n                            </div>\r\n                            <div className=\"px-4 pt-3 bg-white\">\r\n                              <div className=\"flex \">\r\n                                <div>\r\n                                  <svg\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    width=\"24\"\r\n                                    height=\"24\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path d=\"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z\" />\r\n                                  </svg>\r\n                                </div>\r\n                                <div className=\"w-full pl-3\">\r\n                                  <div className=\"font-bold house_no\">\r\n                                    {store[0].house_no}\r\n                                  </div>\r\n                                  <div>{store[0].address}</div>\r\n                                  <div>\r\n                                    {store[0].delivery_area},{store[0].city},\r\n                                    {store[0].pincode}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div\r\n                                className=\"flex justify-end font-bold text-green-700\"\r\n                                onClick={() => setshowAddress(true)}\r\n                              >\r\n                                Change\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"h-3\"></div>\r\n                          <div className=\"w-full h-4 bg-gray-140\"></div>\r\n                        </div>\r\n                        <div className=\"mb-14 \">\r\n                          <div className=\"flex items-center py-4 bg-gray-300 \">\r\n                            <span className=\"w-16 h-0 border border-green-500\"></span>\r\n                            <span className=\"px-2 font-bold border border-green-500 rounded-full\">\r\n                              Delivery\r\n                            </span>\r\n                            <span className=\"w-16 h-0 border border-white\"></span>\r\n                            <span className=\"px-1 font-bold border border-white rounded-full \">\r\n                              Billing\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex justify-end py-2\">\r\n                            <button\r\n                              type=\"submit\"\r\n                              onClick={() => setStep(4)}\r\n                              className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                            >\r\n                              Place Order\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <div className=\"flex flex-col flex-1 \">\r\n                        <div className=\"flex-1 \">\r\n                          {\" \"}\r\n                          <div className=\"py-2\">\r\n                            <label\r\n                              htmlFor=\"\r\n                      Delivery Instructions\"\r\n                              className=\"block py-2 font-bold\"\r\n                            >\r\n                              Delivery Instructions\r\n                            </label>\r\n                            <textarea\r\n                              className=\"w-full h-32 py-2 border border-black\"\r\n                              value={values.delivery_instructions}\r\n                              onChange={handleChange}\r\n                              name=\"delivery_instructions\"\r\n                            ></textarea>\r\n                          </div>\r\n                          <div className=\"flex flex-col px-2 py-3 space-y-2 bg-gray-140\">\r\n                            <div className=\"flex justify-between text-gray-500\">\r\n                              <span>MRP Total</span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"pl-2 line-through\">\r\n                                  {total_price}\r\n                                </span>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex justify-between font-bold \">\r\n                              <span>Sub Total</span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"ml-2\">\r\n                                  {total_selling_price}\r\n                                </span>\r\n                              </span>\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"flex justify-between font-bold \">\r\n                              <span>Delivery charge </span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"ml-2\">45.00</span>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex justify-between py-1 font-bold \">\r\n                              <span>Total Bill</span>\r\n                              <span className=\"\">\r\n                                <span>&#8377;</span>\r\n                                <span className=\"ml-2\">{total_bill}</span>\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex items-center justify-center text-white \">\r\n                              <span className=\"px-1 font-bold bg-red-300 border\">\r\n                                {discount > 0\r\n                                  ? `Order Now and Save ${discount}`\r\n                                  : \"Order Now\"}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"mb-14 \">\r\n                          {\" \"}\r\n                          <div className=\"flex items-center py-4 bg-gray-300 \">\r\n                            <span className=\"w-16 h-0 border border-green-500\"></span>\r\n                            <span className=\"px-2 font-bold border border-green-500 rounded-full\">\r\n                              Delivery\r\n                            </span>\r\n                            <span className=\"w-16 h-0 border border-green-500\"></span>\r\n                            <span className=\"px-1 font-bold border border-green-500 rounded-full \">\r\n                              Billing\r\n                            </span>\r\n                          </div>\r\n                          {errors.err && errors ? (\r\n                            <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">\r\n                              {errors.err}\r\n                            </div>\r\n                          ) : null}\r\n                          <div className=\"flex justify-end py-2\">\r\n                            {!isSubmitting ? (\r\n                              <button\r\n                                type=\"submit\"\r\n                                className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                              >\r\n                                Place Order\r\n                              </button>\r\n                            ) : (\r\n                              <button className=\"inline-flex items-center px-3 py-2 mx-20 mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-indigo-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-indigo-300 hover:bg-indigo-300 active:bg-indigo-700 \">\r\n                                <svg\r\n                                  class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                                  fill=\"none\"\r\n                                  viewBox=\"0 0 24 24\"\r\n                                >\r\n                                  <circle\r\n                                    class=\"opacity-25\"\r\n                                    cx=\"12\"\r\n                                    cy=\"12\"\r\n                                    r=\"10\"\r\n                                    stroke=\"currentColor\"\r\n                                    stroke-width=\"4\"\r\n                                  ></circle>\r\n                                  <path\r\n                                    class=\"opacity-75\"\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                                  ></path>\r\n                                </svg>\r\n                                Processing\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </Form>\r\n                )}\r\n              </Formik>\r\n            </div>{\" \"}\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  };\r\n  return <div>{render()}</div>;\r\n}\r\n\r\nexport default PlaceOrder;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions\";\r\nimport { useHistory, Redirect, useLocation } from \"react-router-dom\";\r\n\r\nfunction OrderConfirm() {\r\n  let location = useLocation();\r\n  const orderId = location.state.order_id;\r\n  const purchased = useSelector((state) => state.orderBuilder.purchased);\r\n\r\n  const history = useHistory();\r\n  let dispatch = useDispatch();\r\n  useEffect(() => {\r\n    return () => dispatch(actions.purchaseReset());\r\n  });\r\n  console.log(purchased);\r\n  const render = () => {\r\n    if (!orderId) {\r\n      return <Redirect to=\"/\"></Redirect>;\r\n    } else {\r\n      return (\r\n        <div className=\"relative flex flex-col h-screen \">\r\n          <div className=\"flex items-center text-white bg-red-500 \">\r\n            <div className=\"flex items-center justify-center py-2\">\r\n              <div className=\"px-2 \" onClick={() => history.replace(\"/\")}>\r\n                <svg\r\n                  fill=\"currentColor\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                </svg>\r\n              </div>\r\n\r\n              <div className=\"pl-4 \">Order Confirmation</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col items-center flex-1 px-4 py-24 \">\r\n            <div className=\"py-4 text-xl font-bold\">THANK YOU!</div>\r\n            <div className=\"py-2 font-semibold\">\r\n              {\" \"}\r\n              Your order id is {orderId}\r\n              We are getting your order ready right away,and you will receive an\r\n              order confirmation when order is ready.In the Mean time you can\r\n              explore more products.You can check the Order Status through this\r\n              link.\r\n            </div>\r\n            <button\r\n              className=\"px-2 py-2 text-white bg-black rounded-full \"\r\n              onClick={() => history.replace(\"/orders\")}\r\n            >\r\n              Move to Order History\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return <>{render()}</>;\r\n}\r\n\r\nexport default OrderConfirm;\r\n","import { useField } from \"formik\";\r\nimport React from \"react\";\r\n\r\nconst LoginInput = ({label,...props}) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <div>\r\n      <label\r\n        htmlFor=\"phoneNumber\"\r\n        className=\"block pt-4 mx-12 text-sm font-medium text-gray-700\"\r\n      >\r\n        {label}\r\n      </label>\r\n      <div className=\"relative mt-1 rounded-md \">\r\n       {props.Symbol&& <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-14\">\r\n        <span>+91</span></div>}\r\n        <input {...field} disabled={props.disabled}\r\n          type={props.type}\r\n          \r\n          className=\"block pl-10 mx-12 border border-gray-300 rounded-md pr-7 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n          placeholder={props.placeholder}\r\n\r\n        ></input>\r\n     {meta.touched&&meta.error?    <div className=\"absolute inset-y-0 right-0 flex items-center pr-20 pointer-events-none\">\r\n        <span><svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" className=\"w-8 h-8 text-red-800\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n</svg></span></div>:null}\r\n     \r\n      </div>{meta.touched && meta.error ? (\r\n          <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">{meta.error}</div>\r\n        ) : null}\r\n      \r\n\r\n        \r\n        \r\n      \r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nconst Button=({text},...props)=>\r\n  <button type=\"submit\"   onClick={props.onClick} className='items-center block px-4 py-2 mx-auto mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-purple-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-purple-300 hover:bg-purple-300 active:bg-purple-700 '>\r\n      \r\n        \r\n        {text}</button>\r\n\r\nexport  {LoginInput,Button};\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Formik, useField, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Axios from \"axios\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport { useLocation, useHistory, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { LoginInput, Button } from \"../components/loginInput\";\r\nconst LoginPage = () => {\r\n  const [step, setStep] = useState(0);\r\n  const isSignedIn = useSelector((state) => state.authBuilder.isSignedIn);\r\n\r\n  let location = useLocation();\r\n  let history = useHistory();\r\n  let dispatch = useDispatch();\r\n  const formRef = useRef();\r\n\r\n  let validationSchema = [\r\n    Yup.object({\r\n      phoneNumber: Yup.number()\r\n        .moreThan(5000000000, \"Please enter a correct Phone Number\")\r\n        .lessThan(9999999999, \"Please enter a correct Phone Number\")\r\n        .required(\"Please enter a correct Phone Number\"),\r\n    }),\r\n    Yup.object({\r\n      otp: Yup.number()\r\n        .lessThan(10000, \"Please enter a correct OTP\")\r\n        .moreThan(999, \"Please enter a correct OTP\")\r\n        .required(\"Please enter a correct OTP\"),\r\n    }),\r\n  ];\r\n\r\n  const sendOtp = async (\r\n    values,\r\n    { setSubmitting, setValues, setErrors, setFieldValue }\r\n  ) => {\r\n    if (formRef.current) {\r\n      formRef.current.setSubmitting(true);\r\n\r\n      if (formRef.current.isValid) {\r\n        console.log(values);\r\n        let url;\r\n        setFieldValue(\"Retry\", \"\");\r\n        if (values.otp === \"\") {\r\n          url = \"https://frozen-reef-15026.herokuapp.com/api/otp\";\r\n          try {\r\n            const { data, status } = await Axios.post(url, {\r\n              phoneNumber: values.phoneNumber,\r\n            });\r\n            if (status === 202) {\r\n              console.log(data);\r\n\r\n              setSubmitting(false);\r\n\r\n              setStep(1);\r\n            }\r\n          } catch (err) {\r\n            console.log(err);\r\n            if (err.response.data.Retry) {\r\n              setErrors({\r\n                err:\r\n                  \"Too Many Requests. \" +\r\n                  \" Retry after :\" +\r\n                  err.response.data.Retry +\r\n                  \" secs\",\r\n              });\r\n            } else\r\n              setErrors({\r\n                err: err.response.data.message,\r\n              });\r\n            setSubmitting(false);\r\n          }\r\n        } else {\r\n          url = \"https://frozen-reef-15026.herokuapp.com/api/validate-otp\";\r\n          try {\r\n            const { data } = await Axios.post(url, {\r\n              phoneNumber: values.phoneNumber,\r\n              otp: values.otp,\r\n            });\r\n            if (data) {\r\n              console.log(data);\r\n\r\n              setSubmitting(false);\r\n              dispatch(actions.signIn(data));\r\n\r\n              let { from } = location.state || { from: { pathname: \"/\" } };\r\n              dispatch(actions.getCart());\r\n              history.replace(from);\r\n            }\r\n          } catch (err) {\r\n            console.log(err);\r\n            if (err.response.data.Retry) {\r\n              setErrors({\r\n                err:\r\n                  \"Too Many Requests. \" +\r\n                  \" Retry after :\" +\r\n                  err.response.data.Retry +\r\n                  \" secs\",\r\n              });\r\n            } else\r\n              setErrors({\r\n                err: err.response.data.message,\r\n              });\r\n            setSubmitting(false);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  console.log(step);\r\n  const render = () => {\r\n    if (isSignedIn) {\r\n      return <Redirect to=\"/\"></Redirect>;\r\n    } else if (isSignedIn === false) {\r\n      return (\r\n        <div>\r\n          <div className=\"flex flex-col h-screen \">\r\n            <div className=\"flex items-center justify-between text-white bg-red-500 \">\r\n              <div className=\"flex items-center justify-center py-2\">\r\n                <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                  <svg\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                  </svg>\r\n                </div>\r\n                <div className=\"pl-4 \">Login</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col flex-1 pt-10 overflow-y-auto \">\r\n              <Formik\r\n                innerRef={formRef}\r\n                validationSchema={validationSchema[step]}\r\n                initialValues={{\r\n                  phoneNumber: \"8328515049\",\r\n                  otp: \"\",\r\n                  resend: \"false\",\r\n                  Retry: \"\",\r\n                }}\r\n                onSubmit={(values, actions) => sendOtp(values, actions)}\r\n              >\r\n                {({\r\n                  values,\r\n                  validateForm,\r\n                  handleChange,\r\n                  errors,\r\n                  status,\r\n                  setFieldValue,\r\n                  handleSubmit,\r\n                  setErrors,\r\n                  isSubmitting,\r\n                }) => {\r\n                  return (\r\n                    <Form className=\"flex flex-col flex-1 overflow-y-auto \">\r\n                      <div className=\"mx-3\">\r\n                        {values.Retry && (\r\n                          <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">\r\n                            {values.Retry}\r\n                          </div>\r\n                        )}\r\n                        {errors.err && errors ? (\r\n                          <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">\r\n                            {errors.err}\r\n                          </div>\r\n                        ) : null}{\" \"}\r\n                        <LoginInput\r\n                          label=\"Enter your Phone Number\"\r\n                          name=\"phoneNumber\"\r\n                          type=\"number\"\r\n                          value=\"phoneNumber\"\r\n                          disabled={step !== 0}\r\n                          onChange={handleChange}\r\n                          Symbol={true}\r\n                          placeholder=\"9876543210\"\r\n                        ></LoginInput>\r\n                        {step !== 0 ? (\r\n                          <>\r\n                            <LoginInput\r\n                              label=\"Enter Otp\"\r\n                              name=\"otp\"\r\n                              type=\"number\"\r\n                              value=\"otp\"\r\n                              onChange={handleChange}\r\n                              placeholder=\"4444\"\r\n                            ></LoginInput>\r\n                            {values.resend === \"false\" && (\r\n                              <button\r\n                                type=\"submit\"\r\n                                className=\"items-center block px-4 py-2 mx-auto mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-purple-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-purple-300 hover:bg-purple-300 active:bg-purple-700 \"\r\n                                onClick={async () => {\r\n                                  setFieldValue(\"resend\", \"true\");\r\n                                  let url =\r\n                                    \"https://frozen-reef-15026.herokuapp.com/api/resend-otp\";\r\n                                  try {\r\n                                    const { data, status } = await Axios.post(\r\n                                      url,\r\n                                      {\r\n                                        phoneNumber: values.phoneNumber,\r\n                                      }\r\n                                    );\r\n                                    if (status === 202) {\r\n                                      console.log(data);\r\n\r\n                                      setFieldValue(\"resend\", \"false\");\r\n                                    }\r\n                                  } catch (err) {\r\n                                    setFieldValue(\"resend\", \"false\");\r\n                                    console.log(values);\r\n                                    if (err.response.data.Retry) {\r\n                                      setFieldValue(\r\n                                        \"Retry\",\r\n\r\n                                        \"Too Many Requests. \" +\r\n                                          \" Retry after :\" +\r\n                                          err.response.data.Retry +\r\n                                          \" secs\"\r\n                                      );\r\n                                    } else\r\n                                      setFieldValue(\r\n                                        \"Retry\",\r\n                                        err.response.data.message\r\n                                      );\r\n                                  }\r\n                                  return;\r\n                                }}\r\n                              >\r\n                                Resend Otp\r\n                              </button>\r\n                            )}\r\n                            {values.resend === \"true\" && (\r\n                              <button className=\"inline-flex items-center px-3 py-2 mx-20 mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-indigo-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-indigo-300 hover:bg-indigo-300 active:bg-indigo-700 \">\r\n                                <svg\r\n                                  class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                                  fill=\"none\"\r\n                                  viewBox=\"0 0 24 24\"\r\n                                >\r\n                                  <circle\r\n                                    class=\"opacity-25\"\r\n                                    cx=\"12\"\r\n                                    cy=\"12\"\r\n                                    r=\"10\"\r\n                                    stroke=\"currentColor\"\r\n                                    stroke-width=\"4\"\r\n                                  ></circle>\r\n                                  <path\r\n                                    class=\"opacity-75\"\r\n                                    fill=\"currentColor\"\r\n                                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                                  ></path>\r\n                                </svg>\r\n                                Processing\r\n                              </button>\r\n                            )}\r\n                          </>\r\n                        ) : null}{\" \"}\r\n                      </div>\r\n                      {!isSubmitting ? (\r\n                        <Button\r\n                          text={step === 0 ? \"Get OTP\" : \"Submit\"}\r\n                          // onClick={handleSubmit}\r\n                        ></Button>\r\n                      ) : (\r\n                        <button className=\"inline-flex items-center px-3 py-2 mx-20 mt-4 text-base leading-6 text-white transition duration-150 ease-in-out bg-indigo-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-indigo-300 hover:bg-indigo-300 active:bg-indigo-700 \">\r\n                          <svg\r\n                            class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            fill=\"none\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <circle\r\n                              class=\"opacity-25\"\r\n                              cx=\"12\"\r\n                              cy=\"12\"\r\n                              r=\"10\"\r\n                              stroke=\"currentColor\"\r\n                              stroke-width=\"4\"\r\n                            ></circle>\r\n                            <path\r\n                              class=\"opacity-75\"\r\n                              fill=\"currentColor\"\r\n                              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                            ></path>\r\n                          </svg>\r\n                          Processing\r\n                        </button>\r\n                      )}\r\n                    </Form>\r\n                  );\r\n                }}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div>loading</div>;\r\n    }\r\n  };\r\n  return <>{render()}</>;\r\n};\r\n\r\nexport default LoginPage;\r\n","import { useField } from \"formik\";\r\nimport React from \"react\";\r\n\r\nconst CustomInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label\r\n        htmlFor={label}\r\n        className=\"block pt-4 text-sm font-medium text-gray-700\"\r\n      >\r\n        {label}\r\n      </label>\r\n      <div className=\"relative mt-1 rounded-md \">\r\n        {props.Symbol && (\r\n          <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-14\">\r\n            <span></span>\r\n          </div>\r\n        )}\r\n        <input\r\n          {...field}\r\n          value={props.value}\r\n          disabled={props.disabled}\r\n          type={props.type}\r\n          className=\"block w-full pl-4 border border-gray-300 rounded-md pr-7 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n          placeholder={props.placeholder}\r\n        ></input>\r\n        {meta.touched && meta.error ? (\r\n          <div className=\"absolute inset-y-0 right-0 flex items-center mr-8 pointer-events-none\">\r\n            <span>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                className=\"w-8 h-8 text-red-800\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      {meta.touched && meta.error ? (\r\n        <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">\r\n          {meta.error}\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\nconst CustomTextArea = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label\r\n        htmlFor={label}\r\n        className=\"block pt-4 text-sm font-medium text-gray-700\"\r\n      >\r\n        {label}\r\n      </label>\r\n      <div className=\"relative mt-1 rounded-md \">\r\n        {props.Symbol && (\r\n          <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-14\">\r\n            <span></span>\r\n          </div>\r\n        )}\r\n        <textarea\r\n          {...field}\r\n          disabled={props.disabled}\r\n          type={props.type}\r\n          className=\"block h-32 pl-4 border border-gray-300 rounded-md pr-7 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n          placeholder={props.placeholder}\r\n        ></textarea>\r\n        {meta.touched && meta.error ? (\r\n          <div className=\"absolute inset-y-0 right-0 flex items-center mr-16 pointer-events-none\">\r\n            <span>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                className=\"w-8 h-8 text-red-800\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                />\r\n              </svg>\r\n            </span>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      {meta.touched && meta.error ? (\r\n        <div className=\"py-2 pl-4 my-2 text-red-500 border border-red-600 \">\r\n          {meta.error}\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\nexport { CustomInput, CustomTextArea };\r\n","import React from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { CustomInput, CustomTextArea } from \"../utils/CustomInput\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Axios, { CancelToken } from \"axios\";\r\nimport Select from \"react-select\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Spinner from \"../utils/Spinner/spinner\";\r\n\r\nimport { useQuery } from \"react-query\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nconst AddProduct = (props) => {\r\n  const { data, status } = useQuery(\r\n    \"brand-query\",\r\n    () => {\r\n      const source = CancelToken.source();\r\n\r\n      const promise = Axios.get(\r\n        \"https://frozen-reef-15026.herokuapp.com/api/allbrands\",\r\n        {\r\n          cancelToken: source.token,\r\n        }\r\n      );\r\n\r\n      // Cancel the request if React Query calls the `promise.cancel` method\r\n      promise.cancel = () => {\r\n        source.cancel(\"Query was cancelled by React Query\");\r\n      };\r\n\r\n      return promise;\r\n    },\r\n    {\r\n      refetchOnMount: false,\r\n      refetchOnWindowFocus: false,\r\n      cacheTime: 600000,\r\n      staleTime: 60000,\r\n    }\r\n  );\r\n  let history = useHistory();\r\n  let product;\r\n  if (props.location.state) {\r\n    product = props.location.state.product;\r\n  }\r\n  const category = useSelector((state) => state.categoryBuilder.category);\r\n\r\n  let initialValues;\r\n\r\n  let tags = [];\r\n  if (product) {\r\n    console.log(product);\r\n    initialValues = {\r\n      product: {\r\n        id: product.id,\r\n        name: product.name,\r\n        desc: product.desc,\r\n\r\n        brand_id: product.brand_id,\r\n        brandName: \"\",\r\n        category_id: product.category_id,\r\n\r\n        product_category_id: product.product_category_id,\r\n      },\r\n    };\r\n  } else {\r\n    initialValues = {\r\n      product: {\r\n        name: \"\",\r\n        desc: \"\",\r\n\r\n        brand_id: \"\",\r\n        brandName: \"\",\r\n        category_id: \"\",\r\n\r\n        product_category_id: \"\",\r\n      },\r\n    };\r\n  }\r\n  const selectSubCat = (id) => {\r\n    if (category.length !== 0) {\r\n      const selectCategory = category.find((i) => i.id === +id);\r\n      const subCat = selectCategory ? selectCategory.subCat : [];\r\n      return subCat;\r\n    } else return [];\r\n  };\r\n  let categoryOptions = [];\r\n  let productCategoryOptions = [];\r\n  category.forEach((i) => {\r\n    i.subCat.forEach((i) =>\r\n      productCategoryOptions.push({ name: i.name, id: i.id })\r\n    );\r\n    categoryOptions.push({ name: i.name, id: i.id });\r\n  });\r\n  const validationSchema = Yup.object().shape({\r\n    product: Yup.object().shape(\r\n      {\r\n        name: Yup.string().required(\"Please enter a Name\"),\r\n        desc: Yup.string().required(\"Please Enter a desc\"),\r\n\r\n        category_id: Yup.number(\"Please select one\").required(\r\n          \"Please select a category\"\r\n        ),\r\n        product_category_id: Yup.number(\"Please select one\").required(\r\n          \"Please select a product category\"\r\n        ),\r\n        brand_id: Yup.mixed()\r\n          .test(\r\n            \"Enter a Brand Name or Select a Brand\",\r\n            \"Enter a name or Select a Brand\",\r\n            function (brand_id) {\r\n              const { brandName } = this.parent;\r\n\r\n              if (brand_id && brandName) {\r\n                return false;\r\n              }\r\n              return true;\r\n            }\r\n          )\r\n          .when([\"brandName\"], {\r\n            is: (val) => {\r\n              return !val;\r\n            },\r\n            then: Yup.number().required(\" is required\"),\r\n          }),\r\n\r\n        brandName: Yup.mixed()\r\n          .test(\r\n            \"Enter a Brand Name or Select a Brand\",\r\n            \"Enter a name or Select a Brand\",\r\n            function (brandName) {\r\n              const { brand_id } = this.parent;\r\n              if (brand_id && brandName) {\r\n                return false;\r\n              }\r\n              return true;\r\n            }\r\n          )\r\n          .when([\"brand_id\"], {\r\n            is: (val) => {\r\n              return !val;\r\n            },\r\n            then: Yup.string().required(\" Brand Name is required\"),\r\n          }),\r\n      },\r\n      [\"brand_id\", \"brandName\"]\r\n    ),\r\n  });\r\n\r\n  async function editProduct(values, actions) {\r\n    let product;\r\n    let brand = {\r\n      name: \"\",\r\n    };\r\n    if (values.product.brandName) {\r\n      brand.name = values.product.brandName;\r\n      delete values.product.brand_id;\r\n    }\r\n\r\n    delete values.product.brandName;\r\n    product = { ...values.product };\r\n    product.brand = brand;\r\n\r\n    try {\r\n      actions.setSubmitting(true);\r\n      const { data } = await Axios.patch(\r\n        `https://frozen-reef-15026.herokuapp.com/api/product/${product.id}`,\r\n        {\r\n          product: product,\r\n        }\r\n      );\r\n      actions.setSubmitting(false);\r\n      actions.resetForm();\r\n      history.push(`/product/${data.id}`);\r\n    } catch (err) {\r\n      console.log(JSON.stringify(err.response, 2, null));\r\n      if (err.response.status === 409) {\r\n        actions.setStatus({ error: err.response.data.details });\r\n      } else if (err.response.status === 422) {\r\n        actions.setStatus({ error: err.response.message });\r\n      } else {\r\n        actions.setStatus({ error: \"Server Error\" });\r\n      }\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  async function _handleSubmit(values, actions) {\r\n    console.log(values);\r\n\r\n    let product;\r\n    let brand = {\r\n      name: \"\",\r\n    };\r\n    if (values.product.brandName) {\r\n      brand.name = values.product.brandName;\r\n      delete values.product.brand_id;\r\n    }\r\n    product = { ...values.product };\r\n    delete product.brandName;\r\n    product.brand = brand;\r\n\r\n    try {\r\n      actions.setSubmitting(true);\r\n      const { data } = await Axios.post(\r\n        `https://frozen-reef-15026.herokuapp.com/api/product/`,\r\n        {\r\n          product: product,\r\n        }\r\n      );\r\n      actions.setSubmitting(false);\r\n      actions.resetForm();\r\n      history.push(`/product/${data.id}`);\r\n    } catch (err) {\r\n      console.log(JSON.stringify(err.response, 2, null));\r\n      if (err.response.status === 409) {\r\n        actions.setStatus({\r\n          error:\r\n            err.response.data.message + \":\" + err.response.data.data.constraint,\r\n        });\r\n      } else if (err.response.status === 422) {\r\n        actions.setStatus({ error: err.response.data.message });\r\n      } else {\r\n        actions.setStatus({ error: \"Server Error\" });\r\n      }\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n  // const CustomInput = ({ label, ...props }) => {\r\n  //   const [field, meta] = useField(props);\r\n  //   return (\r\n  //     <>\r\n  //       <label className=\"text-gray-600\" htmlFor={props.name}>\r\n  //         {label}\r\n  //       </label>\r\n  //       <input\r\n  //         {...field}\r\n  //         className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\"\r\n  //       />\r\n  //       {meta.touched && meta.error ? (\r\n  //         <div className=\"py-1 pl-4 text-white bg-red-400 \">{meta.error}</div>\r\n  //       ) : null}\r\n  //     </>\r\n  //   );\r\n  // };\r\n\r\n  // const CustomTextArea = ({ label, ...props }) => {\r\n  //   const [field, meta] = useField(props);\r\n  //   return (\r\n  //     <div className=\"flex flex-col flex-shrink-0\">\r\n  //       {\" \"}\r\n  //       <label className=\"text-gray-600\" htmlFor={props.name}>\r\n  //         {label}\r\n  //       </label>\r\n  //       <textarea\r\n  //         {...field}\r\n  //         className=\"w-full h-32 px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\"\r\n  //       />\r\n  //       {meta.touched && meta.error ? (\r\n  //         <div className=\"py-1 pl-4 text-white bg-red-400 \">{meta.error}</div>\r\n  //       ) : null}\r\n  //     </div>\r\n  //   );\r\n  // };\r\n\r\n  const parseAndHandleChange = (value, setFieldValue, id) => {\r\n    const parsed = parseInt(value, 10);\r\n    if (isNaN(parsed)) {\r\n      console.log(parsed);\r\n      return;\r\n    }\r\n    setFieldValue(id, parsed);\r\n  };\r\n\r\n  const render = () => {\r\n    if (status === \"loading\") {\r\n      return <div></div>;\r\n    } else {\r\n      console.log(data);\r\n      return (\r\n        <div>\r\n          <div className=\"flex flex-col h-screen \">\r\n            <div className=\"flex py-2 text-white bg-red-500 \">\r\n              <div className=\"flex items-center justify-center\">\r\n                <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                  <svg\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                  </svg>\r\n                </div>\r\n                <div className=\"font-bold\">\r\n                  {props.location.state\r\n                    ? props.location.state.page\r\n                    : \"Add Product\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col flex-1 pt-4 mx-8 \">\r\n              <Formik\r\n                initialValues={initialValues}\r\n                validationSchema={validationSchema}\r\n                onSubmit={(values, actions) => {\r\n                  if (values.product.id) {\r\n                    editProduct(values, actions);\r\n                  } else {\r\n                    _handleSubmit(values, actions);\r\n                  }\r\n                }}\r\n              >\r\n                {({\r\n                  values,\r\n                  handleSubmit,\r\n                  handleChange,\r\n                  setFieldValue,\r\n                  status,\r\n                  errors,\r\n                  isSubmitting,\r\n                  validateForm,\r\n                  touched,\r\n                }) => {\r\n                  return (\r\n                    <Form className=\"flex flex-col flex-1 \">\r\n                      <div className=\"flex flex-col justify-between flex-1 \">\r\n                        <div className=\"flex flex-col flex-1 pb-10 mx-4 space-y-2 \">\r\n                          <CustomInput\r\n                            label=\"Product Name\"\r\n                            name=\"product.name\"\r\n                            type=\"text\"\r\n                            onChange={handleChange}\r\n                            symbol={true}\r\n                            value={values.product.name}\r\n                            placeholder=\"Product Name\"\r\n                          ></CustomInput>\r\n                          <CustomTextArea\r\n                            label=\"Product desc\"\r\n                            name=\"product.desc\"\r\n                            type=\"text\"\r\n                            onChange={handleChange}\r\n                            value={values.product.desc}\r\n                            placeholder=\"desc\"\r\n                          ></CustomTextArea>\r\n\r\n                          <CustomInput\r\n                            label=\"Product Brand\"\r\n                            name=\"product.brandName\"\r\n                            type=\"text\"\r\n                            onChange={handleChange}\r\n                            value={values.product.brandName}\r\n                            placeholder=\"Brand\"\r\n                          ></CustomInput>\r\n\r\n                          <Select\r\n                            value={data.data.find(\r\n                              (i) => i.value === values.product.brand_id\r\n                            )}\r\n                            onChange={(opt, e) => {\r\n                              if (e.action === \"clear\") {\r\n                                setFieldValue(\"product.brand_id\", \"\");\r\n                              }\r\n                              if (opt) {\r\n                                setFieldValue(\"product.brand_id\", opt.value);\r\n                              }\r\n                            }}\r\n                            name=\"product.brand_id\"\r\n                            isSearchable={true}\r\n                            isClearable={true}\r\n                            options={data.data}\r\n                          ></Select>\r\n                          {errors.product &&\r\n                          touched.product &&\r\n                          touched.product.brand_id &&\r\n                          errors.product.brand_id ? (\r\n                            <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                              {errors.product.brand_id}\r\n                            </div>\r\n                          ) : null}\r\n                          <div className=\"flex flex-col pt-2 space-y-2\">\r\n                            <div className=\"font-bold\"> Category</div>\r\n                            <select\r\n                              onChange={(event) =>\r\n                                parseAndHandleChange(\r\n                                  event.target.value,\r\n                                  setFieldValue,\r\n                                  \"product.category_id\"\r\n                                )\r\n                              }\r\n                              placeholder=\"\"\r\n                              name=\"product.category_id\"\r\n                              value={values.product.category_id}\r\n                            >\r\n                              <option value=\"\" key=\"\">\r\n                                Select Category\r\n                              </option>\r\n                              {categoryOptions.map((i) => (\r\n                                <option key={i.id} value={i.id}>\r\n                                  {i.name}\r\n                                </option>\r\n                              ))}\r\n                            </select>\r\n                            {errors.product &&\r\n                            touched.product &&\r\n                            touched.product.category_id &&\r\n                            errors.product.category_id ? (\r\n                              <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                                {errors.product.category_id}\r\n                              </div>\r\n                            ) : null}\r\n                          </div>\r\n                          <div className=\"flex flex-col pt-2 space-y-2\">\r\n                            <div className=\"font-bold\"> Product Category</div>\r\n                            <select\r\n                              onChange={(event) =>\r\n                                parseAndHandleChange(\r\n                                  event.target.value,\r\n                                  setFieldValue,\r\n                                  \"product.product_category_id\"\r\n                                )\r\n                              }\r\n                              placeholder=\"\"\r\n                              name=\"product.product_category_id\"\r\n                              value={values.product.product_category_id}\r\n                            >\r\n                              <option>Select Product Category</option>\r\n                              {selectSubCat(values.product.category_id).map(\r\n                                (i) => (\r\n                                  <option key={i.id} value={i.id}>\r\n                                    {i.name}\r\n                                  </option>\r\n                                )\r\n                              )}\r\n                            </select>\r\n                            {errors.product &&\r\n                            touched.product &&\r\n                            touched.product.product_category_id &&\r\n                            errors.product.product_category_id ? (\r\n                              <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                                {errors.product.product_category_id}\r\n                              </div>\r\n                            ) : null}\r\n                          </div>\r\n                        </div>\r\n                        {status && status.error ? (\r\n                          <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                            {status.error}\r\n                          </div>\r\n                        ) : null}\r\n                        <div className=\"flex justify-end pb-16\">\r\n                          {values.product.id ? (\r\n                            isSubmitting ? (\r\n                              <button\r\n                                disabled\r\n                                className=\"px-8 py-4 mr-2 text-white bg-gray-300 rounded \"\r\n                              >\r\n                                <Spinner width={15} height={15}></Spinner>\r\n                              </button>\r\n                            ) : (\r\n                              <button\r\n                                type=\"submit\"\r\n                                onClick={() =>\r\n                                  validateForm().then((e) => {\r\n                                    if (!e) {\r\n                                      return editProduct(values);\r\n                                    }\r\n                                    return;\r\n                                  })\r\n                                }\r\n                                className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                              >\r\n                                Edit\r\n                              </button>\r\n                            )\r\n                          ) : null}\r\n                          {!values.product.id ? (\r\n                            isSubmitting ? (\r\n                              <div className=\"px-8 py-4 mr-2 text-white bg-gray-300 rounded \">\r\n                                {\" \"}\r\n                                <Spinner width={15} height={15}></Spinner>\r\n                              </div>\r\n                            ) : (\r\n                              <button\r\n                                type=\"submit\"\r\n                                onClick={() =>\r\n                                  validateForm().then((e) => {\r\n                                    if (!e) {\r\n                                      return _handleSubmit(values);\r\n                                    }\r\n                                    return;\r\n                                  })\r\n                                }\r\n                                className=\"px-4 py-4 mr-2 text-white bg-green-600 rounded \"\r\n                              >\r\n                                Next\r\n                              </button>\r\n                            )\r\n                          ) : null}\r\n                        </div>\r\n                      </div>\r\n                    </Form>\r\n                  );\r\n                }}\r\n              </Formik>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return render();\r\n};\r\n\r\nexport default AddProduct;\r\n","import React from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\nimport Axios from \"axios\";\r\nimport * as Yup from \"yup\";\r\nimport string_to_slug from \"../utils/slug\";\r\nimport { CustomInput } from \"../utils/CustomInput\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst AddCategory = () => {\r\n  let history = useHistory();\r\n\r\n  async function _handleSubmit(values, actions) {\r\n    let category = values.category;\r\n    console.log(category);\r\n\r\n    let slug = string_to_slug(category.name);\r\n    category.slug = slug;\r\n\r\n    const body = {\r\n      category: {\r\n        name: category.name,\r\n        slug: category.slug,\r\n        image_url: category.url,\r\n      },\r\n    };\r\n    await Axios.post(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/category\",\r\n      body\r\n    );\r\n    history.push(\"/\");\r\n  }\r\n  // const CustomTextInput = ({ label, ...props }) => {\r\n  //   const [field, meta] = useField(props);\r\n  //   return (\r\n  //     <>\r\n  //       <label className=\"text-gray-600\" htmlFor={props.name}>\r\n  //         {label}\r\n  //       </label>\r\n  //       <input\r\n  //         {...field}\r\n  //         className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\"\r\n  //       />\r\n  //       {meta.touched && meta.error ? (\r\n  //         <div className=\"py-1 pl-4 text-white bg-red-400 \">{meta.error}</div>\r\n  //       ) : null}\r\n  //     </>\r\n  //   );\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex py-2 text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">Add Category</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col flex-1 pt-4 mx-8 \">\r\n          <Formik\r\n            initialValues={{\r\n              category: {\r\n                name: \"\",\r\n                image_url: \"\",\r\n              },\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              category: Yup.object().shape({\r\n                name: Yup.string().required(\"Please enter Category Name\"),\r\n              }),\r\n            })}\r\n            onSubmit={(values, actions) => _handleSubmit(values, actions)}\r\n          >\r\n            {({\r\n              values,\r\n\r\n              handleChange,\r\n\r\n              isSubmitting,\r\n              validateForm,\r\n            }) => {\r\n              return (\r\n                <Form className=\"flex flex-col flex-1 overflow-y-auto \">\r\n                  <div className=\"flex flex-col justify-between flex-1 overflow-y-auto \">\r\n                    <div className=\"flex flex-col flex-1 pb-10 mx-4 space-y-2 overflow-y-auto \">\r\n                      <CustomInput\r\n                        label=\"Category Name\"\r\n                        name=\"category.name\"\r\n                        type=\"text\"\r\n                        onChange={handleChange}\r\n                        value={values.category.name}\r\n                        placeholder=\"Category Name\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Image\"\r\n                        name=\"category.image_url\"\r\n                        type=\"text\"\r\n                        onChange={handleChange}\r\n                        value={values.category.image_url}\r\n                        placeholder=\"Image Url\"\r\n                      ></CustomInput>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end py-2 mb-10\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        onClick={() =>\r\n                          validateForm().then((e) => {\r\n                            if (!e) {\r\n                              return _handleSubmit(values);\r\n                            }\r\n                            return;\r\n                          })\r\n                        }\r\n                        className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                      >\r\n                        Next\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport string_to_slug from \"../utils/slug\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomInput } from \"../utils/CustomInput\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nfunction AddProductCategory() {\r\n  let history = useHistory();\r\n\r\n  const parseAndHandleChange = (value, setFieldValue, id) => {\r\n    const parsed = parseInt(value, 10);\r\n    setFieldValue(id, parsed);\r\n  };\r\n\r\n  const category = useSelector((state) => state.categoryBuilder.category);\r\n  let categoryOptions = [];\r\n  category.map((i) => {\r\n    categoryOptions.push({ name: i.name, id: i.id });\r\n    return i;\r\n  });\r\n  async function _handleSubmit(values, actions) {\r\n    let category = values.category;\r\n    console.log(category);\r\n\r\n    let slug = string_to_slug(values.category.name);\r\n    values.category.slug = slug;\r\n    console.log(values);\r\n    const { data } = await Axios.post(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/category\",\r\n      values\r\n    );\r\n    history.push(\"/\");\r\n  }\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex py-2 text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">Add Product Category</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col flex-1 pt-4 mx-8 \">\r\n          <Formik\r\n            initialValues={{\r\n              category: {\r\n                name: \"\",\r\n\r\n                category_id: \"\",\r\n              },\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              category: Yup.object().shape({\r\n                name: Yup.string().required(\"Please enter Category Name\"),\r\n\r\n                category_id: Yup.string().required(\"Select a Category\"),\r\n              }),\r\n            })}\r\n            onSubmit={(values, actions) => _handleSubmit(values, actions)}\r\n          >\r\n            {({\r\n              values,\r\n\r\n              handleChange,\r\n              setFieldValue,\r\n              isSubmitting,\r\n              validateForm,\r\n              errors,\r\n            }) => {\r\n              return (\r\n                <Form className=\"flex flex-col flex-1 overflow-y-auto \">\r\n                  <div className=\"flex flex-col justify-between flex-1 mx-4 space-y-2 overflow-y-auto \">\r\n                    <div>\r\n                      <CustomInput\r\n                        label=\"Product Category Name\"\r\n                        name=\"category.name\"\r\n                        type=\"text\"\r\n                        onChange={handleChange}\r\n                        value={values.category.name}\r\n                        placeholder=\" Name\"\r\n                      ></CustomInput>\r\n                      <div className=\"flex flex-col pt-2 space-y-2\">\r\n                        <div className=\"font-bold\"> Category</div>\r\n                        <select\r\n                          onChange={(event) =>\r\n                            parseAndHandleChange(\r\n                              event.target.value,\r\n                              setFieldValue,\r\n                              \"category.category_id\"\r\n                            )\r\n                          }\r\n                          placeholder=\"\"\r\n                          name=\"category.category_id\"\r\n                          value={values.category.category_id}\r\n                        >\r\n                          <option value=\"\" key=\"\">\r\n                            Select Category\r\n                          </option>\r\n                          {categoryOptions.map((i) => (\r\n                            <option key={i.id} value={i.id}>\r\n                              {i.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-end py-2 mb-20\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      onClick={() =>\r\n                        validateForm().then((e) => {\r\n                          if (!e) {\r\n                            return _handleSubmit(values);\r\n                          }\r\n                          return;\r\n                        })\r\n                      }\r\n                      className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                    >\r\n                      Next\r\n                    </button>\r\n                  </div>\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddProductCategory;\r\n","import React from \"react\";\r\n\r\nfunction ProductChoice({ types, onClick, type }) {\r\n  console.log(types);\r\n  if (types.length > 0) {\r\n    return (\r\n      <>\r\n        <div className=\"flex flex-wrap \">\r\n          {types.map((i) => {\r\n            if (i.id !== type.id) {\r\n              return (\r\n                <div\r\n                  key={i.id}\r\n                  className=\"flex flex-col w-1/2 pt-2 pr-2\"\r\n                  onClick={() => onClick(i)}\r\n                >\r\n                  <div className=\"border rounded-md \">\r\n                    <div className=\"px-2 py-1 text-gray-500 bg-gray-300\">\r\n                      {i.sku}\r\n                    </div>\r\n                    <div className=\"py-4 pl-4 font-semibold\">{i.mrp}</div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            } else {\r\n              return (\r\n                <div key={i.id} className=\"flex flex-col w-1/2 pt-2 pr-2\">\r\n                  <div className=\"border rounded-md \">\r\n                    <div className=\"flex items-center justify-between px-2 py-1 bg-green-500\">\r\n                      <div className=\"text-white bg-green-500 \">{i.sku}</div>\r\n                      <div className=\"p-1 bg-white rounded-full \">\r\n                        <svg\r\n                          fill=\"green\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          width=\"12\"\r\n                          height=\"12\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path d=\"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"py-4 pl-4 font-semibold\">{i.mrp}</div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return <div className=\"font-bold text-gray-600\">Add a Product Type </div>;\r\n  }\r\n}\r\n\r\nexport default ProductChoice;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport ProductChoice from \"../components/product_choice\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport CartButton from \"../components/cartButton\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { SkeletonComponent } from \"../utils/SkeletonComponent\";\r\nimport { upload } from \"../utils/imageUpload\";\r\nconst Product = (props) => {\r\n  const isAdmin = useSelector((state) => state.authBuilder.isAdmin);\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const onFileChange = (e) => {\r\n    let fileType = e.target.files[0].type;\r\n\r\n    if (fileType.match(/[\\/.](gif|jpg|jpeg|tiff|png)$/i))\r\n      setFile(e.target.files[0]);\r\n    else setError(\"Invalid File\");\r\n  };\r\n  console.log(file);\r\n  const { match } = props;\r\n  const [product, setProduct] = useState();\r\n  const [step, setStep] = useState(0);\r\n  const [type, setType] = useState();\r\n  const history = useHistory();\r\n  const EditProduct = () => {\r\n    history.push({\r\n      pathname: `/edit-product/${product.id}`,\r\n      state: { product: product, page: \"Edit Product\" },\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const {\r\n        data,\r\n      } = await Axios.get(\r\n        `https://frozen-reef-15026.herokuapp.com/api/product/${match.params.id}`,\r\n        { withCredentials: true }\r\n      );\r\n      console.log({ data });\r\n\r\n      setProduct(() => data[0]);\r\n      setType(() => data[0].skus[0]);\r\n    }\r\n    fetchData();\r\n  }, [match.params.id]);\r\n  const onClick = (type) => {\r\n    setType(type);\r\n  };\r\n  const addProductskus = () => {\r\n    history.push({\r\n      pathname: \"/add-product-type\",\r\n      state: {\r\n        id: product.id,\r\n      },\r\n    });\r\n  };\r\n  const editProductType = () => {\r\n    history.push({\r\n      pathname: \"/edit-product-type\",\r\n      state: {\r\n        type: type,\r\n        id: product.id,\r\n      },\r\n    });\r\n  };\r\n  const uploadImage = async () => {\r\n    let fileName = `${product.name}/${type.sku}.jpeg`;\r\n    const uploadConfig = await Axios.get(\r\n      `https://frozen-reef-15026.herokuapp.com/api/upload?image=${fileName}`,\r\n      { withCredentials: true }\r\n    );\r\n    console.log(uploadConfig.data);\r\n    await Axios.put(uploadConfig.data.url, file, {\r\n      headers: {\r\n        \"Content-Type\": file.type,\r\n      },\r\n    });\r\n    let sku = type;\r\n    sku.image = `https://miniproject-feb.s3.ap-south-1.amazonaws.com/${uploadConfig.data.key}`;\r\n    const { data } = await Axios.patch(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/setImage\",\r\n      { sku },\r\n      {\r\n        withCredentials: true,\r\n      }\r\n    );\r\n    setType(data);\r\n  };\r\n  if (product && step === 0) {\r\n    return (\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex justify-between py-2 text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">Product Description</div>\r\n          </div>\r\n          {isAdmin && (\r\n            <div>\r\n              <button\r\n                onClick={EditProduct}\r\n                className=\"px-2 py-1 mr-4 text-black bg-gray-200 rounded-md focus:outline-none \"\r\n              >\r\n                Edit\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {type && isAdmin && (\r\n          <div className=\"flex justify-between mx-8 my-2\">\r\n            <div>\r\n              <svg\r\n                className=\"inline w-12 h-12 text-gray-400 \"\r\n                stroke=\"currentColor\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 48 48\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                />\r\n              </svg>\r\n              <label\r\n                htmlFor=\"file-upload\"\r\n                className=\"relative ml-4 font-medium text-indigo-600 bg-white rounded-md cursor-pointer hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\"\r\n              >\r\n                <span>{file ? file.name : \"Upload a image\"}</span>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={onFileChange}\r\n                  accept=\".png, .jpg, .jpeg\"\r\n                  id=\"file-upload\"\r\n                  name=\"file-upload\"\r\n                  type=\"file\"\r\n                  className=\"sr-only\"\r\n                />\r\n              </label>\r\n            </div>\r\n            {file && (\r\n              <button\r\n                type=\"submit\"\r\n                onClick={uploadImage}\r\n                className=\"items-center inline px-4 py-2 text-base leading-6 text-white transition duration-150 ease-in-out bg-purple-500 border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-purple-300 hover:bg-purple-300 active:bg-purple-700 \"\r\n              >\r\n                Upload\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div className=\"flex flex-col flex-1 overflow-y-auto \">\r\n          <div className=\"flex items-center justify-center py-4\">\r\n            <img\r\n              src={type && type.images[0] ? type.images[0].image : \"\"}\r\n              alt={product.name}\r\n              className=\"object-contain w-full h-48\"\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col px-4 py-2 bg-gray-100 product_detail \">\r\n            <div className=\"font-semibold \">{product.name}</div>\r\n            <div className=\"text-gray-500\">{type && type.sku}</div>\r\n            <div className=\"pt-2 font-bold\">{type && type.mrp}</div>\r\n          </div>\r\n          <div className=\"px-4 py-4 choice\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"font-bold \">SKUs</div>\r\n              <div className=\"space-x-1\">\r\n                {type && isAdmin && (\r\n                  <button\r\n                    className=\"inline px-2 py-2 text-sm text-white bg-red-600 rounded-md\"\r\n                    onClick={editProductType}\r\n                  >\r\n                    Edit Product Sku\r\n                  </button>\r\n                )}\r\n                {isAdmin && (\r\n                  <button\r\n                    className=\"inline px-2 py-2 text-sm text-white bg-red-400 rounded-md\"\r\n                    onClick={addProductskus}\r\n                  >\r\n                    Add Product skus\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {type && (\r\n              <ProductChoice\r\n                types={product.skus}\r\n                onClick={onClick}\r\n                type={type}\r\n                addProductskus={addProductskus}\r\n              ></ProductChoice>\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col px-4 py-2 space-y-4 bg-gray-200\">\r\n            <div className=\"font-bold\">Description</div>\r\n            <div className=\"text-gray-600\">{product.desc}</div>\r\n          </div>\r\n          <div className=\"flex flex-col px-4 pt-4 space-y-2 disclaimer \">\r\n            <div className=\"font-bold\"> Disclaimer</div>\r\n            <div>\r\n              The image shown is for illustration purposes only. the actual\r\n              product may vary, contain additional and/or different information\r\n              and packaging. It is always recommended to look for the actual\r\n              product for correct information and look & feel.\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center justify-between px-8 py-2\">\r\n          <div>\r\n            <div className=\"text-gray-600\">{type && type.sku}</div>\r\n            <div className=\"font-bold\"> {type && type.mrp}</div>\r\n          </div>\r\n          {type && type.stock > 0 ? (\r\n            <div>\r\n              <CartButton product={product} sku={type}></CartButton>\r\n            </div>\r\n          ) : (\r\n            <div className=\"px-2 py-2 text-white bg-black rounded\">\r\n              Out of Stock\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"min-h-screen divide-y divide-gray-200 \">\r\n        <div className=\"px-4 py-2\">\r\n          <div className=\"animate-pulse\">\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"150ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"300ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"450ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Product;\r\n","import React, { useEffect } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Product from \"../components/product\";\r\nimport { SkeletonComponent } from \"../utils/SkeletonComponent\";\r\n\r\nfunction SearchProduct(props) {\r\n  const { name } = props.match.params;\r\n\r\n  const products = useSelector((state) => state.productBuilder.products);\r\n  const loading = useSelector((state) => state.productBuilder.loading);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.setQuery(name));\r\n\r\n    dispatch(actions.initSearchProduct());\r\n  }, [dispatch, name]);\r\n  console.log(products);\r\n  const product = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"min-h-screen divide-y divide-gray-200 \">\r\n          <div className=\"px-4 py-2\">\r\n            <div className=\"animate-pulse\">\r\n              <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"150ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"300ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"450ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (products) {\r\n      return (\r\n        <div className=\" component\">\r\n          {products.map((i, index) => {\r\n            return (\r\n              <Product key={index} product={i}>\r\n                {\" \"}\r\n                {i.name}\r\n              </Product>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen\">\r\n      <Header></Header>\r\n      <div className=\"flex-1 px-2 overflow-y-scroll home\">{product()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchProduct;\r\n","import React from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Spinner from \"../utils/Spinner/spinner\";\r\nimport { CustomInput } from \"../utils/CustomInput\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nfunction EditProductType(props) {\r\n  let id, type;\r\n  if (props.location.state) {\r\n    id = props.location.state.id;\r\n\r\n    type = props.location.state.type;\r\n  }\r\n  let history = useHistory();\r\n\r\n  let initialValues = {\r\n    sku: {\r\n      mrp: type.mrp,\r\n      discount: type.discount,\r\n      sku: type.sku,\r\n      stock: type.stock,\r\n      product_id: id,\r\n      id: type.id,\r\n\r\n      sp: type.sp,\r\n    },\r\n  };\r\n  const validationSchema = Yup.object().shape({\r\n    sku: Yup.object().shape({\r\n      product_id: Yup.number().required(),\r\n      mrp: Yup.number().required(),\r\n      discount: Yup.number().required(),\r\n      stock: Yup.number().required(),\r\n      sku: Yup.string().required(),\r\n      sp: Yup.number().required(),\r\n    }),\r\n  });\r\n\r\n  async function _handleSubmit(values, actions) {\r\n    try {\r\n      actions.setSubmitting(true);\r\n      const { data } = await Axios.patch(\r\n        `https://frozen-reef-15026.herokuapp.com/api/sku`,\r\n        values\r\n      );\r\n      console.log(data);\r\n      actions.setSubmitting(false);\r\n      actions.resetForm();\r\n      history.push(`/product/${data[0].product_id}`);\r\n    } catch (err) {\r\n      console.log(JSON.stringify(err.response, 2, null));\r\n      if (err.response.status === 409) {\r\n        actions.setStatus({ error: err.response.data.details });\r\n      } else if (err.response.status === 422) {\r\n        actions.setStatus({ error: err.response.message });\r\n      } else {\r\n        actions.setStatus({ error: \"Server Error\" });\r\n      }\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  const parseAndHandleChange = (value, setFieldValue, id) => {\r\n    const parsed = parseFloat(value, 10);\r\n    setFieldValue(id, parsed);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex py-2 text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">Edit Product Sku</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col flex-1 pt-4 mx-8 \">\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={(values, actions) => _handleSubmit(values, actions)}\r\n          >\r\n            {({\r\n              values,\r\n              handleSubmit,\r\n              handleChange,\r\n              setFieldValue,\r\n              status,\r\n              isSubmitting,\r\n              validateForm,\r\n            }) => {\r\n              return (\r\n                <Form className=\"flex flex-col flex-1 \">\r\n                  <div className=\"flex flex-col justify-between flex-1 \">\r\n                    <div className=\"flex flex-col flex-1 pb-10 mx-4 space-y-2 \">\r\n                      <CustomInput\r\n                        label=\"Product Sku\"\r\n                        name=\"sku.sku\"\r\n                        type=\"text\"\r\n                        onChange={handleChange}\r\n                        value={values.sku.sku}\r\n                        placeholder=\"Product Sku\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Mrp\"\r\n                        name=\"sku.mrp\"\r\n                        type=\"number\"\r\n                        onChange={handleChange}\r\n                        value={values.sku.mrp}\r\n                        placeholder=\"Product Mrp\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Discount\"\r\n                        name=\"sku.discount\"\r\n                        type=\"number\"\r\n                        onChange={(event) =>\r\n                          parseAndHandleChange(\r\n                            event.target.value,\r\n                            setFieldValue,\r\n                            \"sku.discount\"\r\n                          )\r\n                        }\r\n                        value={values.sku.discount}\r\n                        placeholder=\"Discount\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Selling Price\"\r\n                        name=\"sku.sp\"\r\n                        type=\"number\"\r\n                        onChange={(event) =>\r\n                          parseAndHandleChange(\r\n                            event.target.value,\r\n                            setFieldValue,\r\n                            \"sku.sp\"\r\n                          )\r\n                        }\r\n                        value={values.sku.sp}\r\n                        placeholder=\"Selling Price\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Stock\"\r\n                        name=\"sku.stock\"\r\n                        type=\"number\"\r\n                        onChange={(event) =>\r\n                          parseAndHandleChange(\r\n                            event.target.value,\r\n                            setFieldValue,\r\n                            \"sku.stock\"\r\n                          )\r\n                        }\r\n                        value={values.sku.stock}\r\n                        placeholder=\"Product Stock\"\r\n                      ></CustomInput>\r\n                    </div>\r\n\r\n                    {status && status.error ? (\r\n                      <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                        {status.error}\r\n                      </div>\r\n                    ) : null}\r\n                    <div className=\"flex justify-end pb-16\">\r\n                      {isSubmitting ? (\r\n                        <div className=\"px-8 py-4 mr-2 text-white bg-gray-300 rounded \">\r\n                          {\" \"}\r\n                          <Spinner width={15} height={15}></Spinner>\r\n                        </div>\r\n                      ) : (\r\n                        <button\r\n                          type=\"submit\"\r\n                          onClick={() =>\r\n                            validateForm().then((e) => {\r\n                              console.log(e);\r\n                              if (!e) {\r\n                                return handleSubmit(values);\r\n                              }\r\n                              console.log(values);\r\n                              return;\r\n                            })\r\n                          }\r\n                          className=\"px-4 py-4 mr-2 text-white bg-green-600 rounded \"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditProductType;\r\n","import { useSelector } from \"react-redux\";\r\nimport React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  const state = useSelector((state) => state.authBuilder.isSignedIn);\r\n  console.log(state);\r\n\r\n  if (state === null) {\r\n    return null;\r\n  } else {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={({ location }) =>\r\n          state ? (\r\n            children\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/login\",\r\n                state: { from: location },\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\n\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Select from \"react-select\";\r\nimport Axios from \"axios\";\r\nimport * as actions from \"../store/actions/index\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { CustomInput } from \"../utils/CustomInput\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nfunction Addaddress() {\r\n  const userId = useSelector((state) => state.authBuilder.userId);\r\n  let dispatch = useDispatch();\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  //   async function _submitForm(values, actions) {\r\n  //     await _sleep(1000);\r\n  //     alert(JSON.stringify(values, null, 2));\r\n  //     history.push(\"/order_confirm\");\r\n  //   }\r\n\r\n  async function _handleSubmit(values, action) {\r\n    let address;\r\n\r\n    address = values;\r\n    address.user_id = userId;\r\n    await Axios.post(\"https://frozen-reef-15026.herokuapp.com/api/address\", {\r\n      address: address,\r\n    });\r\n\r\n    let { from } = location.state || { from: { pathname: \"/\" } };\r\n    dispatch(actions.addAddress(values));\r\n    console.log(from);\r\n    history.replace(from);\r\n  }\r\n\r\n  // const CustomInput = ({ label, ...props }) => {\r\n  //   const [field, meta] = useField(props);\r\n  //   return (\r\n  //     <>\r\n  //       <label className=\"text-gray-600\" htmlFor={props.name}>\r\n  //         {label}\r\n  //       </label>\r\n  //       <input\r\n  //         {...field}\r\n  //         className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\"\r\n  //       />\r\n  //       {meta.touched && meta.error ? (\r\n  //         <div className=\"py-1 pl-4 text-white bg-red-400 \">{meta.error}</div>\r\n  //       ) : null}\r\n  //     </>\r\n  //   );\r\n  // };\r\n\r\n  //   function _sleep(ms) {\r\n  //     return new Promise((resolve) => setTimeout(resolve, ms));\r\n  //   }\r\n  let options = [{ label: \"King Market\", value: \"King Market\" }];\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex items-center text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center py-2\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n\r\n            <div className=\"pl-4 \">Add Address</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col flex-1 pt-4 mx-8 \">\r\n          <Formik\r\n            initialValues={{\r\n              city: \"\",\r\n              pincode: \"\",\r\n              address: \"\",\r\n\r\n              delivery_area: \"\",\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              city: Yup.string().required(\"Please enter city Name\"),\r\n              address: Yup.string()\r\n                .min(4, \"Enter Correct address\")\r\n                .required(\"Please Enter valid address\"),\r\n              delivery_area: Yup.string().required(),\r\n              pincode: Yup.number()\r\n                .typeError(\"That doesn't look like a  number\")\r\n                .positive(\"A pincode can't start with a minus\")\r\n                .integer(\"A pincode can't include a decimal point\")\r\n                .min(500000, \"Invalid number\")\r\n                .max(600000, \"Invalid number\")\r\n                .required(\"pincode is required\"),\r\n            })}\r\n            onSubmit={(values, actions) => _handleSubmit(values, actions)}\r\n          >\r\n            {({\r\n              values,\r\n              handleSubmit,\r\n              handleChange,\r\n              setFieldValue,\r\n              errors,\r\n              validateForm,\r\n            }) => (\r\n              <Form className=\"flex flex-col flex-1 overflow-y-auto \">\r\n                <div className=\"flex flex-col justify-between flex-1 \">\r\n                  <div className=\"flex flex-col flex-1 pb-10 mx-4 space-y-2 \">\r\n                    <CustomInput\r\n                      label=\"City\"\r\n                      name=\"city\"\r\n                      type=\"text\"\r\n                      onChange={handleChange}\r\n                      value={values.city}\r\n                      symbol={true}\r\n                      placeholder=\"Enter City Name\"\r\n                    ></CustomInput>\r\n                    <Select\r\n                      options={options}\r\n                      placeholder=\"Select Delivery Area\"\r\n                      isMulti={false}\r\n                      value={options.find(\r\n                        (i) => i.value === values.delivery_area\r\n                      )}\r\n                      name=\"delivery_area\"\r\n                      label=\"delivery_area\"\r\n                      onChange={(e) => setFieldValue(\"delivery_area\", e.value)}\r\n                    ></Select>\r\n\r\n                    <CustomInput\r\n                      symbol={true}\r\n                      label=\"Address Detail\"\r\n                      name=\"address\"\r\n                      type=\"text\"\r\n                      value={values.address}\r\n                      placeholder=\"Your House Address Detail\"\r\n                    ></CustomInput>\r\n                    <CustomInput\r\n                      symbol={true}\r\n                      label=\"pincode\"\r\n                      name=\"pincode\"\r\n                      type=\"number\"\r\n                      value={values.pincode}\r\n                      placeholder=\"pincode\"\r\n                    ></CustomInput>\r\n\r\n                    <div className=\"flex justify-end py-2\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        onClick={() =>\r\n                          validateForm().then((e) => {\r\n                            if (!e) {\r\n                              return _handleSubmit(values);\r\n                            }\r\n                            return;\r\n                          })\r\n                        }\r\n                        className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                      >\r\n                        Save\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Addaddress;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions\";\r\nimport { SkeletonComponent } from \"../utils/SkeletonComponent\";\r\n\r\nfunction Profile() {\r\n  let dispatch = useDispatch();\r\n\r\n  let history = useHistory();\r\n  const user = useSelector((state) => state.authBuilder.phoneNumber);\r\n  const [name, _] = useState(user);\r\n  let addresses = useSelector((state) => state.authBuilder.address);\r\n  let loading = useSelector((state) => state.authBuilder.loading);\r\n  const render = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"divide-y divide-gray-200 \">\r\n          <div className=\"px-4 py-2\">\r\n            <div className=\"animate-pulse\">\r\n              <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"150ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-2\">\r\n            <div\r\n              className=\"animate-pulse\"\r\n              style={{\r\n                animationFillMode: \"backwards\",\r\n                animationDelay: \"300ms\",\r\n              }}\r\n            >\r\n              <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"flex flex-col pt-4 space-y-3\">\r\n          <div className=\"px-4 py-2 mx-8 \">\r\n            <label\r\n              htmlFor={\"Phone Number\"}\r\n              className=\"block py-4 font-medium text-gray-700\"\r\n            >\r\n              Phone Number\r\n            </label>\r\n            <input\r\n              disabled={true}\r\n              value={name}\r\n              className=\"block w-full py-2 pl-4 mb-4 bg-white border border-gray-300 rounded-md pr-7 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n            ></input>\r\n            <div className=\"address\">\r\n              {addresses && addresses.length > 0 && (\r\n                <div className=\"px-2 py-1 font-semibold text-white bg-red-500\">\r\n                  Address List\r\n                </div>\r\n              )}\r\n              <div className=\"flex flex-col divide-y-2 divide-gray-200\">\r\n                {addresses &&\r\n                  addresses.length > 0 &&\r\n                  addresses.map((i) => {\r\n                    return (\r\n                      <div className=\"flex flex-col py-1 \" key={i.id}>\r\n                        <div className=\"px-4 pt-3 bg-white\">\r\n                          <div\r\n                            className=\"flex \"\r\n                            onClick={() =>\r\n                              history.push({\r\n                                pathname: \"/edit_address\",\r\n                                state: { address: i, from: \"/profile\" },\r\n                              })\r\n                            }\r\n                          >\r\n                            <div>\r\n                              <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"24\"\r\n                                height=\"24\"\r\n                                viewBox=\"0 0 24 24\"\r\n                              >\r\n                                <path d=\"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z\" />\r\n                              </svg>\r\n                            </div>\r\n                            <div className=\"w-full pl-3\">\r\n                              <div className=\"font-bold house_no\">\r\n                                {i.house_no}\r\n                              </div>\r\n                              <div>{i.address}</div>\r\n                              <div>\r\n                                {i.delivery_area},{i.city},{i.pincode}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-end\">\r\n                            <button\r\n                              className=\"mr-4 font-bold text-red-500 \"\r\n                              onClick={() =>\r\n                                dispatch(actions.deleteAddress(i.id))\r\n                              }\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <div className=\"h-full \">\r\n          <div className=\"flex flex-col \">\r\n            <div className=\"flex items-center justify-between py-4 bg-blue-500\">\r\n              <div className=\"px-2 \">\r\n                <svg\r\n                  onClick={() => history.goBack()}\r\n                  fill=\"currentColor\"\r\n                  className=\"inline\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                </svg>\r\n                <div className=\"inline pl-4 font-mono font-bold\">Profile</div>\r\n              </div>\r\n\r\n              <div\r\n                className=\"flex items-center justify-center px-2 py-1 mx-4 text-white bg-gray-800 rounded\"\r\n                onClick={() =>\r\n                  history.push({\r\n                    pathname: \"/add_address\",\r\n                    state: { from: \"/profile\" },\r\n                  })\r\n                }\r\n              >\r\n                <span className=\"pr-3 \">Add Address</span>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  className=\"inline w-8 h-8\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWdth=\"2\"\r\n                    d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            {render()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport * as actions from \"../store/actions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Spinner from \"../utils/Spinner/spinner\";\r\nfunction Order() {\r\n  let dispatch = useDispatch();\r\n  const orders = useSelector((state) => state.orderBuilder.orders);\r\n  const loading = useSelector((state) => state.orderBuilder.loading);\r\n  const [filter, setFilter] = useState([]);\r\n  useEffect(() => {\r\n    dispatch(actions.fetchOrders());\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    setFilter(orders);\r\n  }, [orders]);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onChange = (e) => {\r\n    let value = e.target.value;\r\n    setValue(e.target.value);\r\n    if (e.target.value === \"\") {\r\n      setFilter(orders);\r\n    } else {\r\n      setFilter(() => {\r\n        let f = orders.filter((i) => {\r\n          if (i.id.toString().includes(value)) {\r\n            return false;\r\n          } else return true;\r\n        });\r\n        return f;\r\n      });\r\n    }\r\n  };\r\n  let history = useHistory();\r\n  const render = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"flex flex-col items-center w-full h-full\">\r\n          <div className=\"flex items-center justify-center flex-1\">\r\n            <Spinner></Spinner>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (orders) {\r\n      return (\r\n        <div>\r\n          <div className=\"flex flex-col h-screen \">\r\n            <div className=\"flex items-center text-white bg-red-500 \">\r\n              <div className=\"flex items-center justify-center py-2\">\r\n                <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                  <svg\r\n                    fill=\"currentColor\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                  </svg>\r\n                </div>\r\n\r\n                <div className=\"pl-4 \">Order History</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col flex-1 overflow-y-auto \">\r\n              <div className=\"relative flex px-1 py-2 search\">\r\n                <span className=\"absolute inset-y-0 flex items-center pl-2\">\r\n                  <svg\r\n                    className=\"absolute \"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path d=\"M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z\" />\r\n                  </svg>\r\n                </span>\r\n                <input\r\n                  placeholder=\"Search Order\"\r\n                  value={value}\r\n                  onChange={onChange}\r\n                  className=\"w-full pl-8 pr-8 border-b rounded shadow-sm outline-none focus:shadow-outline\"\r\n                />\r\n              </div>\r\n              {filter.length\r\n                ? filter.map((i) => {\r\n                    return (\r\n                      <div key={i.id}>\r\n                        <div\r\n                          className=\"flex justify-between px-2 py-3 border-b border-gray-300\"\r\n                          onClick={() =>\r\n                            history.push({\r\n                              pathname: \"/order\",\r\n                              search: `id=${i.id}`,\r\n                              state: { order: i },\r\n                            })\r\n                          }\r\n                        >\r\n                          <div>\r\n                            <div className=\"pb-3 font-bold\">{i.id}</div>\r\n                            <div className=\"pb-1 text-gray-600\">\r\n                              Delivery time\r\n                            </div>\r\n                            <div>{i.delivery_date}</div>\r\n                            <div>{i.delivery_time}</div>\r\n                          </div>\r\n\r\n                          <div>\r\n                            <div className=\"pb-3 font-bold text-green-500\">\r\n                              {i.order_status}\r\n                            </div>\r\n                            <div className=\"pb-2 text-gray-600\">\r\n                              Payment Type\r\n                            </div>\r\n                            <div className=\"font-bold\">Cash on Delivery</div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })\r\n                : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n  return <>{render()}</>;\r\n}\r\n\r\nexport default Order;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport Spinner from \"../utils/Spinner/spinner\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nfunction Order() {\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  console.log(history);\r\n  const id = location.search.split(\"?id=\")[1];\r\n  const { order } = location.state;\r\n\r\n  const [orderDetail, setOrderDetails] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const { data } = await Axios.get(\r\n        `https://frozen-reef-15026.herokuapp.com/api/order?q=${+id}`\r\n      );\r\n      setOrderDetails(data);\r\n    };\r\n    fetchData();\r\n  }, [id]);\r\n  console.log(orderDetail);\r\n\r\n  const render = () => {\r\n    if (orderDetail.length) {\r\n      console.log(orderDetail);\r\n      return (\r\n        <div className=\"flex flex-col h-screen \">\r\n          <div className=\"flex items-center text-white bg-red-500 \">\r\n            <div className=\"flex items-center justify-center py-2\">\r\n              <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                <svg\r\n                  fill=\"currentColor\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                </svg>\r\n              </div>\r\n\r\n              <div className=\"pl-4 \">Order No. {`  ${id}`}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col flex-1 overflow-y-auto \">\r\n            <div className=\"flex justify-between px-2 py-3 border-b border-gray-200 divide-x-2 divide-gray-300\">\r\n              <div className=\"w-1/2\">\r\n                <div className=\"pb-3 font-bold\">{order.id}</div>\r\n                <div className=\"pb-1 text-gray-600\">Delivery time</div>\r\n                <div>{order.delivery_date}</div>\r\n                <div>{order.delivery_time}</div>\r\n                <div>\r\n                  <div className=\"py-1 text-gray-600\">Payment Type</div>\r\n                  <div className=\"py-1 font-bold \">Cash on Delivery</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex flex-col w-1/2 text-right\">\r\n                <div>\r\n                  <div className=\"text-gray-600\">Address</div>\r\n                  <div className=\"font-bold\">\r\n                    {order.address},{order.city},{\"Andhra Pradesh\"}-\r\n                    {order.pincode}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-gray-600\">Delivery Area</div>\r\n                  <div className=\"font-bold\">{order.delivery_area}</div>\r\n                </div>\r\n                <div className=\"font-bold text-red-600\">\r\n                  {orderDetail.length} Item(s)\r\n                </div>\r\n                <div className=\"font-bold\"> ₹ {order.total.toFixed(2)}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"py-2\" />\r\n            {order.delivery_instructions && (\r\n              <div className=\"py-3 bg-gray-200\">\r\n                <div className=\"px-4 pb-2 font-medium text-black\">Notes</div>\r\n                <div className=\"px-4\">{order.delivery_instructions}</div>\r\n              </div>\r\n            )}\r\n            <div className=\"py-3 bg-white\"></div>\r\n            <div className=\"bg-gray-200\">\r\n              <div className=\"px-2 py-2 font-bold\">Billed Items</div>\r\n\r\n              {orderDetail.map((i) => (\r\n                <div key={i.id}>\r\n                  <div className=\"flex px-1 bg-white\">\r\n                    <div className=\"w-24 h-24 px-2 \">\r\n                      <img\r\n                        src={i.skus.images[0].image}\r\n                        alt={i.productId.name}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col justify-center flex-1\">\r\n                      <div className=\"font-semibold\">{i.productId.name}</div>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          500 gm *{\" \"}\r\n                          <span className=\"px-2 py-1 bg-gray-300 rounded\">\r\n                            {i.quantity}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"pr-1 font-bold\">\r\n                          ₹ {i.price.toFixed(2)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              <div className=\"pt-4\">\r\n                <div className=\"flex justify-between px-2 pb-1 font-bold border-b border-gray-200\">\r\n                  <div className=\"\"> Sub Total</div>\r\n\r\n                  <div> ₹ {order.total.toFixed(2)}</div>\r\n                </div>\r\n                <div className=\"flex flex-col space-y-2\">\r\n                  <div className=\"flex justify-between px-2 font-bold\">\r\n                    <div className=\"\"> SGST</div>\r\n\r\n                    <div> ₹ {order.total.toFixed(2)}</div>\r\n                  </div>\r\n                  <div className=\"flex justify-between px-2 font-bold\">\r\n                    <div className=\"\"> SGST</div>\r\n\r\n                    <div> ₹ {order.total.toFixed(2)}</div>\r\n                  </div>\r\n                  <div className=\"flex justify-between px-2 font-bold\">\r\n                    <div className=\"\"> Delivery Charge</div>\r\n\r\n                    <div> ₹ {order.delivery_charges.toFixed(2)}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex justify-between px-2 py-3 font-bold\">\r\n                  <div className=\"\"> SGST</div>\r\n\r\n                  <div> ₹ {order.total.toFixed(2)}</div>\r\n                </div>\r\n                <div className=\"flex justify-between px-2 font-bold\">\r\n                  <div className=\"\"> Total Bill</div>\r\n\r\n                  <div> ₹ {order.total.toFixed(2)}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"flex flex-col items-center w-full h-full\">\r\n          <div className=\"flex items-center justify-center flex-1\">\r\n            <Spinner></Spinner>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return <>{render()}</>;\r\n}\r\n\r\nexport default Order;\r\n","import React from \"react\";\r\n\r\nimport { Formik, useField, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Select from \"react-select\";\r\nimport Axios from \"axios\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nfunction EditAddress() {\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  //   async function _submitForm(values, actions) {\r\n  //     await _sleep(1000);\r\n  //     alert(JSON.stringify(values, null, 2));\r\n  //     history.push(\"/order_confirm\");\r\n  //   }\r\n  const address = location.state.address;\r\n  async function _handleSubmit(values, action) {\r\n    let updateAddress;\r\n    let defaultAddress;\r\n    if (values.defaultaddress) {\r\n      defaultAddress = true;\r\n    }\r\n    delete values.defaultaddress;\r\n    updateAddress = values;\r\n    updateAddress.user_id = 6;\r\n    updateAddress.id = address.id;\r\n    await Axios.patch(\"https://frozen-reef-15026.herokuapp.com/api/address\", {\r\n      address: updateAddress,\r\n      defaultAddress: defaultAddress,\r\n    });\r\n    let { from } = location.state;\r\n    history.replace(from);\r\n  }\r\n\r\n  const CustomTextInput = ({ label, ...props }) => {\r\n    const [field, meta] = useField(props);\r\n    return (\r\n      <>\r\n        <label className=\"text-gray-600\" htmlFor={props.name}>\r\n          {label}\r\n        </label>\r\n        <input\r\n          {...field}\r\n          className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\"\r\n        />\r\n        {meta.touched && meta.error ? (\r\n          <div className=\"py-1 pl-4 text-white bg-red-400 \">{meta.error}</div>\r\n        ) : null}\r\n      </>\r\n    );\r\n  };\r\n\r\n  //   function _sleep(ms) {\r\n  //     return new Promise((resolve) => setTimeout(resolve, ms));\r\n  //   }\r\n  let options = [{ label: \"King Market\", value: \"King Market\" }];\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex items-center text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center py-2\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n\r\n            <div className=\"pl-4 \">Edit Address</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col flex-1 pt-10 overflow-y-auto \">\r\n          <Formik\r\n            initialValues={{\r\n              city: address.city,\r\n              house_no: address.house_no,\r\n              pincode: address.pincode,\r\n              address_detail: address.address_detail,\r\n              defaultaddress: address.defaultaddress,\r\n              delivery_area: address.delivery_area,\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              city: Yup.string().required(\"Please enter city Name\"),\r\n              house_no: Yup.string().required(\"Please Enter valid address\"),\r\n              address_detail: Yup.string()\r\n                .min(4, \"Enter Correct address\")\r\n                .required(\"Please Enter valid address\"),\r\n              delivery_area: Yup.string().required(),\r\n              pincode: Yup.number()\r\n                .typeError(\"That doesn't look like a  number\")\r\n                .positive(\"A pincode can't start with a minus\")\r\n                .integer(\"A pincode can't include a decimal point\")\r\n                .min(500000, \"Invalid number\")\r\n                .max(600000, \"Invalid number\")\r\n                .required(\"pincode is required\"),\r\n            })}\r\n            onSubmit={(values, actions) => _handleSubmit(values, actions)}\r\n          >\r\n            {({\r\n              values,\r\n              handleSubmit,\r\n              handleChange,\r\n              setFieldValue,\r\n              errors,\r\n              validateForm,\r\n            }) => (\r\n              <Form className=\"flex flex-col flex-1 overflow-y-auto \">\r\n                <div className=\"flex flex-col justify-between flex-1 overflow-y-auto \">\r\n                  <div className=\"flex flex-col flex-1 mx-4 space-y-2 overflow-y-auto \">\r\n                    <pre>{JSON.stringify(values, 2, null)}</pre>\r\n                    <CustomTextInput\r\n                      label=\"city\"\r\n                      name=\"city\"\r\n                      type=\"text\"\r\n                      onChange={handleChange}\r\n                      value={values.city}\r\n                      placeholder=\"Enter city Name\"\r\n                    ></CustomTextInput>\r\n                    <Select\r\n                      options={options}\r\n                      placeholder=\"Select Delivery Area\"\r\n                      isMulti={false}\r\n                      value={options.find(\r\n                        (i) => i.value === values.delivery_area\r\n                      )}\r\n                      name=\"delivery_area\"\r\n                      label=\"delivery_area\"\r\n                      onChange={(e) => setFieldValue(\"delivery_area\", e.value)}\r\n                    ></Select>\r\n                    <CustomTextInput\r\n                      label=\"house_no\"\r\n                      name=\"house_no\"\r\n                      type=\"text\"\r\n                      value={values.house_no}\r\n                      placeholder=\"Your house_no\"\r\n                    ></CustomTextInput>\r\n\r\n                    <CustomTextInput\r\n                      label=\"address_detail\"\r\n                      name=\"address_detail\"\r\n                      type=\"text\"\r\n                      value={values.address_detail}\r\n                      placeholder=\"Your House address\"\r\n                    ></CustomTextInput>\r\n                    <CustomTextInput\r\n                      label=\"pincode\"\r\n                      name=\"pincode\"\r\n                      type=\"number\"\r\n                      value={values.pincode}\r\n                      placeholder=\"pincode\"\r\n                    ></CustomTextInput>\r\n                    <div className=\"flex items-center pt-5 space-x-4\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        onChange={() => setFieldValue(\"defaultaddress\", \"true\")}\r\n                        value=\"true\"\r\n                        checked={values.defaultaddress === \"true\"}\r\n                        name=\"defaultaddress\"\r\n                      />\r\n                      <label htmlFor=\"defaultaddress\">\r\n                        Default For Delivery\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"flex justify-end py-2\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        onClick={() =>\r\n                          validateForm().then((e) => {\r\n                            if (!e) {\r\n                              return _handleSubmit(values);\r\n                            }\r\n                            return;\r\n                          })\r\n                        }\r\n                        className=\"px-4 py-2 mr-2 text-white bg-green-600 rounded \"\r\n                      >\r\n                        Save\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditAddress;\r\n","import React from \"react\";\r\n\r\nconst ErrorPage = () => {\r\n  return (\r\n    <div className=\"flex flex-col items-center mx-3 mt-10\">\r\n      <div className=\"\">\r\n        <img\r\n          src=\"https://img1a.flixcart.com/www/linchpin/fk-cp-zion/img/error-500_f9bbb4.png\"\r\n          alt=\"Error \"\r\n        />\r\n      </div>\r\n      <h3 className=\"font-serif text-gray-700 \">\r\n        Sorry, we can't find that page! Don't worry though, everything is STILL\r\n        AWESOME!\r\n      </h3>\r\n      <a\r\n        href=\"/\"\r\n        className=\"px-2 py-2 mx-auto mt-3 text-white bg-purple-400 rounded \"\r\n      >\r\n        Go To Home Page\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\nexport default ErrorPage;\r\n","import React from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Axios from \"axios\";\r\nimport Spinner from \"../utils/Spinner/spinner\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomInput } from \"../utils/CustomInput\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nfunction AddProductType(props) {\r\n  const history = useHistory();\r\n\r\n  let initialValues = {\r\n    sku: {\r\n      product_id: props.location.state.id,\r\n      mrp: 5,\r\n      discount: 4,\r\n      sp: 5,\r\n      sku: 5,\r\n      stock: 5,\r\n    },\r\n  };\r\n  const validationSchema = Yup.object().shape({\r\n    sku: Yup.object().shape({\r\n      mrp: Yup.number().required(\"Enter Mrp of the Product\"),\r\n      discount: Yup.number(),\r\n      sp: Yup.number().required(\"Enter the Selling Price of the product\"),\r\n      sku: Yup.string().required(\"Enter the SKU of the product\"),\r\n      stock: Yup.number().required(\"Enter the Stock of the product\"),\r\n    }),\r\n  });\r\n\r\n  async function _handleSubmit(values, actions) {\r\n    console.log(values);\r\n    try {\r\n      actions.setSubmitting(true);\r\n      const { data } = await Axios.post(\r\n        `https://frozen-reef-15026.herokuapp.com/api/sku/`,\r\n        values\r\n      );\r\n      actions.setSubmitting(false);\r\n      actions.resetForm();\r\n      history.push(`/product/${data.product_id}`);\r\n    } catch (err) {\r\n      console.log(JSON.stringify(err.response, 2, null));\r\n      if (err.response.status === 409) {\r\n        actions.setStatus({\r\n          error:\r\n            err.response.data.message + \":\" + err.response.data.data.constraint,\r\n        });\r\n      } else if (err.response.status === 422) {\r\n        actions.setStatus({ error: err.response.data.data });\r\n      } else {\r\n        actions.setStatus({ error: \"Server Error\" });\r\n      }\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n  // const CustomInput = ({ label, onChange, value, ...props }) => {\r\n  //   const [field, meta] = useField(props);\r\n  //   return (\r\n  //     <>\r\n  //       <label className=\"text-gray-600\" htmlFor={props.name}>\r\n  //         {label}\r\n  //       </label>\r\n  //       <input\r\n  //         {...field}\r\n  //         onChange={onChange}\r\n  //         value={value}\r\n  //         className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\"\r\n  //       />\r\n  //       {meta.touched && meta.error ? (\r\n  //         <div className=\"py-1 pl-4 text-white bg-red-400 \">{meta.error}</div>\r\n  //       ) : null}\r\n  //     </>\r\n  //   );\r\n  // };\r\n  const parseAndHandleChange = (value, setFieldValue, id) => {\r\n    console.log(isNaN(value));\r\n    console.log(value);\r\n    if (isNaN(value)) {\r\n      return;\r\n    }\r\n    if (value === \"\") {\r\n      setFieldValue(id, 0);\r\n      return;\r\n    }\r\n    const parsed = parseFloat(value, 10);\r\n    console.log(parsed);\r\n    setFieldValue(id, parsed);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col h-screen \">\r\n        <div className=\"flex py-2 text-white bg-red-500 \">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">Add Product Sku</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col flex-1 pt-4 mx-8 \">\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={(values, actions) => _handleSubmit(values, actions)}\r\n          >\r\n            {({\r\n              values,\r\n              handleChange,\r\n              setFieldValue,\r\n              status,\r\n              isSubmitting,\r\n              validateForm,\r\n              handleSubmit,\r\n            }) => {\r\n              return (\r\n                <Form className=\"flex flex-col flex-1 \">\r\n                  <div className=\"flex flex-col justify-between flex-1 \">\r\n                    <div className=\"flex flex-col flex-1 pb-10 mx-4 space-y-2 \">\r\n                      <CustomInput\r\n                        label=\"Product Sku\"\r\n                        name=\"sku.sku\"\r\n                        type=\"text\"\r\n                        onChange={handleChange}\r\n                        value={values.sku.sku}\r\n                        placeholder=\"Product Sku\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Mrp\"\r\n                        name=\"sku.mrp\"\r\n                        type=\"number\"\r\n                        onChange={handleChange}\r\n                        value={values.sku.mrp}\r\n                        placeholder=\"Product Mrp\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Discount\"\r\n                        name=\"sku.discount\"\r\n                        type=\"number\"\r\n                        onChange={(event) =>\r\n                          parseAndHandleChange(\r\n                            event.target.value,\r\n                            setFieldValue,\r\n                            \"sku.discount\"\r\n                          )\r\n                        }\r\n                        value={values.sku.discount}\r\n                        placeholder=\"Discount\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Selling Price\"\r\n                        name=\"sku.sp\"\r\n                        type=\"number\"\r\n                        onChange={(event) =>\r\n                          parseAndHandleChange(\r\n                            event.target.value,\r\n                            setFieldValue,\r\n                            \"sku.sp\"\r\n                          )\r\n                        }\r\n                        value={values.sku.sp}\r\n                        placeholder=\"Selling Price\"\r\n                      ></CustomInput>\r\n                      <CustomInput\r\n                        label=\"Product Stock\"\r\n                        name=\"sku.stock\"\r\n                        type=\"number\"\r\n                        onChange={(event) =>\r\n                          parseAndHandleChange(\r\n                            event.target.value,\r\n                            setFieldValue,\r\n                            \"sku.stock\"\r\n                          )\r\n                        }\r\n                        value={values.sku.stock}\r\n                        placeholder=\"Product Stock\"\r\n                      ></CustomInput>\r\n                    </div>\r\n\r\n                    {status && status.error ? (\r\n                      <div className=\"px-2 py-1 text-white bg-red-400\">\r\n                        {status.error}\r\n                      </div>\r\n                    ) : null}\r\n                    <div className=\"flex justify-end pb-16\">\r\n                      {!values.sku.id ? (\r\n                        isSubmitting ? (\r\n                          <div className=\"px-8 py-4 mr-2 text-white bg-gray-300 rounded \">\r\n                            {\" \"}\r\n                            <Spinner width={15} height={15}></Spinner>\r\n                          </div>\r\n                        ) : (\r\n                          <button\r\n                            type=\"submit\"\r\n                            onClick={() =>\r\n                              validateForm().then((e) => {\r\n                                console.log(e);\r\n                                if (!e) {\r\n                                  return handleSubmit(values);\r\n                                }\r\n                                console.log(values);\r\n                                return;\r\n                              })\r\n                            }\r\n                            className=\"px-4 py-4 mr-2 text-white bg-green-600 rounded \"\r\n                          >\r\n                            Next\r\n                          </button>\r\n                        )\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddProductType;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nexport default function ({ product, sku }) {\r\n  let history = useHistory();\r\n  return (\r\n    <div className=\"flex flex-col space-y-1 overflow-auto\">\r\n      <div className=\"flex px-2 pt-1 pb-2 mt-2 space-x-2 border-b border-gray-500 product-detail\">\r\n        <div className=\"w-1/3 image relative pb-0.5 \">\r\n          <img\r\n            onClick={() => history.push(`/product/${product.id}`)}\r\n            src={sku.images[0].image}\r\n            alt={product.name}\r\n            className=\"absolute object-contain w-full h-full\"\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col w-3/4 space-y-1\">\r\n          <div className=\"flex flex-wrap flex-grow-0 font-semibold \">\r\n            {product.name}\r\n          </div>\r\n\r\n          <div className=\"flex space-x-2 text-gray-900\">\r\n            <span>{sku.sp}</span>\r\n          </div>\r\n\r\n          {sku.discount > 0 ? (\r\n            <div className=\"flex items-center initial-price\">\r\n              <span className=\"\"> &#8377; </span>\r\n              <span className=\"line-through text\">{sku.mrp}</span>\r\n              <div className=\"flex px-1 ml-1 space-x-1 text-white bg-red-400\">\r\n                <span>{sku.discount.toFixed(2)}%</span>\r\n                <span>OFF</span>\r\n              </div>{\" \"}\r\n            </div>\r\n          ) : null}\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center ml-4 font-extrabold\">\r\n              <span> &#8377; </span>\r\n              <span>{sku.sp}</span>\r\n            </div>{\" \"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Axios, { CancelToken } from \"axios\";\r\nimport React from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport WishListProduct from \"../components/WishListProduct\";\r\nimport { SkeletonComponent } from \"../utils/SkeletonComponent\";\r\nimport ErrorPage from \"./ErrorPage\";\r\nAxios.defaults.withCredentials = true;\r\n\r\nexport default function () {\r\n  const { data, status } = useQuery(\r\n    \"wishlist-query\",\r\n    () => {\r\n      const source = CancelToken.source();\r\n\r\n      const promise = Axios.get(\r\n        \"https://frozen-reef-15026.herokuapp.com/api/wishlist\",\r\n        {\r\n          cancelToken: source.token,\r\n        }\r\n      );\r\n\r\n      // Cancel the request if React Query calls the `promise.cancel` method\r\n      promise.cancel = () => {\r\n        source.cancel(\"Query was cancelled by React Query\");\r\n      };\r\n\r\n      return promise;\r\n    },\r\n    {\r\n      refetchOnMount: false,\r\n      refetchOnWindowFocus: false,\r\n      cacheTime: 3000,\r\n      staleTime: 60000,\r\n    }\r\n  );\r\n  if (status === \"loading\")\r\n    return (\r\n      <div className=\"min-h-screen divide-y divide-gray-200 \">\r\n        <div className=\"px-4 py-2\">\r\n          <div className=\"animate-pulse\">\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"150ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"300ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"long\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-2\">\r\n          <div\r\n            className=\"animate-pulse\"\r\n            style={{ animationFillMode: \"backwards\", animationDelay: \"450ms\" }}\r\n          >\r\n            <SkeletonComponent type=\"short\"></SkeletonComponent>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  if (status === \"error\") return <ErrorPage />;\r\n  if (data.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col w-full h-full bg-gray-500\">\r\n        <div className=\"flex flex-col flex-1 h-full bg-gray-100\">\r\n          <div className=\"sticky top-0 z-10 flex justify-between py-2 text-white bg-red-500\">\r\n            <div className=\"flex items-center justify-center\">\r\n              <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n                <svg\r\n                  fill=\"currentColor\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"font-bold\">WishList</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  let history = useHistory();\r\n  return (\r\n    <div className=\"flex flex-col w-full h-full bg-gray-500\">\r\n      <div className=\"flex flex-col flex-1 h-full bg-gray-100\">\r\n        <div className=\"sticky top-0 z-10 flex justify-between py-2 text-white bg-red-500\">\r\n          <div className=\"flex items-center justify-center\">\r\n            <div className=\"px-2 \" onClick={() => history.goBack()}>\r\n              <svg\r\n                fill=\"currentColor\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"font-bold\">WishList</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 h-full component dark:bg-mine-shaft-500\">\r\n          {data.data.map((i, index) => {\r\n            //  if (products.length === index + 1) {\r\n            //   return (\r\n            //     <div key={index}>\r\n            //       <div ref={lastProductRef}></div>\r\n            //       <Product key={index} product={i}></Product>\r\n            //       {loading ? (\r\n            //         <div className=\"flex items-center justify-center pt-3\">\r\n            //           <Spinner></Spinner>\r\n            //         </div>\r\n            //       ) : null}\r\n            //     </div>\r\n            //   );\r\n            // }\r\n            return (\r\n              <WishListProduct\r\n                sku={i.skuId}\r\n                product={i.productId}\r\n              ></WishListProduct>\r\n            );\r\n          })}{\" \"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport * as actions from \"./store/actions\";\r\nimport {\r\n  Switch,\r\n  Route,\r\n  BrowserRouter as Router,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport HomePage from \"./containers/HomePage\";\r\nimport CartPage from \"./containers/CartPage\";\r\nimport SubCategory from \"./containers/SubCategory\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Infinite from \"./components/Infinite\";\r\nimport PlaceOrder from \"./containers/PlaceOrder\";\r\nimport OrderConfirm from \"./containers/OrderConfirm\";\r\nimport LoginPage from \"./containers/LoginPage\";\r\nimport AddProduct from \"./components/addProduct\";\r\nimport AddCategory from \"./components/addCategory\";\r\nimport AddProductCategory from \"./components/addProductCategory\";\r\nimport Product from \"./containers/Product\";\r\nimport SearchProduct from \"./containers/SearchProduct\";\r\nimport EditProductType from \"./components/editProductTypes\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport AddAddress from \"./components/addAddress\";\r\nimport Profile from \"./containers/Profile\";\r\nimport Orders from \"./containers/Orders\";\r\nimport Order from \"./containers/Order\";\r\nimport EditAddress from \"./components/editAddress\";\r\n\r\nimport ErrorPage from \"./containers/ErrorPage\";\r\n\r\nimport ProductContainer from \"./components/ProductContainer\";\r\nimport AddProductType from \"./components/addProductTypes\";\r\nimport WishListPage from \"./containers/WishListPage\";\r\n\r\nconst App = () => {\r\n  const theme = localStorage.getItem(\"theme\");\r\n  if (!theme) {\r\n    localStorage.setItem(\"theme\", \"light\");\r\n  } else if (theme === \"dark\") {\r\n    document.body.classList.add(\"dark\");\r\n  } else document.body.classList.remove(\"dark\");\r\n  const dispatch = useDispatch();\r\n\r\n  const onInit = useCallback(() => {\r\n    dispatch(actions.initCategory());\r\n    dispatch(actions.currentUser());\r\n    dispatch(actions.initCart());\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    onInit();\r\n  }, [onInit, dispatch]);\r\n  let history = useHistory();\r\n  console.log(history);\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Switch>\r\n          <ProtectedRoute path=\"/place_order\" exact>\r\n            <PlaceOrder></PlaceOrder>{\" \"}\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/orders\" exact>\r\n            <Orders></Orders>{\" \"}\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/order\">\r\n            <Order></Order>{\" \"}\r\n          </ProtectedRoute>\r\n\r\n          <ProtectedRoute path=\"/order_confirm\" exact>\r\n            <OrderConfirm></OrderConfirm>\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/profile\" exact>\r\n            <Profile />\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/add_address\" exact>\r\n            <AddAddress></AddAddress>\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/edit_address\" exact>\r\n            <EditAddress></EditAddress>\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/wishlist\" exact>\r\n            <WishListPage></WishListPage>\r\n          </ProtectedRoute>\r\n          <Route path=\"/login\" exact component={LoginPage}></Route>\r\n          <Route\r\n            path=\"/product-suggestion/:name\"\r\n            exact\r\n            component={SearchProduct}\r\n          ></Route>\r\n          <Route path=\"/product/:id\" exact component={Product}></Route>\r\n          <Route path=\"/add-product\" exact component={AddProduct}></Route>\r\n          <Route path=\"/products\" exact>\r\n            <ProductContainer />\r\n          </Route>\r\n          <Route\r\n            path=\"/products/:category/:subCategory\"\r\n            exact\r\n            component={SubCategory}\r\n          ></Route>\r\n          <Route\r\n            path=\"/add-product-category\"\r\n            exact\r\n            component={AddProductCategory}\r\n          ></Route>\r\n          <Route path=\"/edit-product-type\" component={EditProductType}></Route>\r\n          <Route path=\"/edit-product/:id\" component={AddProduct}></Route>\r\n          <Route path=\"/add-product-type/\" component={AddProductType}></Route>\r\n          <Route path=\"/add-category\" exact component={AddCategory}></Route>\r\n          <Route path=\"/infinite\" component={Infinite}></Route>\r\n          <Route path=\"/cart\" exact>\r\n            <CartPage></CartPage>\r\n          </Route>\r\n\r\n          <Route path=\"/\" exact component={HomePage}></Route>\r\n          <Route\r\n            path=\"/products/:category\"\r\n            exact\r\n            component={SubCategory}\r\n          ></Route>\r\n          <Route component={ErrorPage}></Route>\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport Axios from \"axios\";\r\n\r\nexport const fetchCategorySuccess = (category) => {\r\n  return {\r\n    type: actionTypes.FETCH_PRODUCT_CATEGORY,\r\n    category: category,\r\n  };\r\n};\r\n// export const fetchCategoryFailed = () => {\r\n//   return {\r\n//     type: actionTypes.fetchCategoryFailed,\r\n//   };\r\n// };\r\n\r\nexport const initCategory = () => {\r\n  //   if (data.length < 0) {\r\n  //     return (dispatch) => dispatch(fetchCategoryFailed());\r\n  //   //   }\r\n  return async (dispatch) => {\r\n    const { data } = await Axios.get(\r\n      \"https://frozen-reef-15026.herokuapp.com/api/category\"\r\n    );\r\n\r\n    dispatch(fetchCategorySuccess(data));\r\n  };\r\n};\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n\r\nconst initialState = {\r\n  cart: [],\r\n  cartDetail: [],\r\n  loading: false,\r\n};\r\n\r\nconst addToCart = (state, action) => {\r\n  let item = { ...action.item, quantity: 1 };\r\n  const cart = [...state.cart, item];\r\n\r\n  const updatedState = {\r\n    cart: cart,\r\n    loading: false,\r\n  };\r\n\r\n  return updateObject(state, updatedState);\r\n};\r\n\r\nconst decrementProduct = (state, action) => {\r\n  let cart = [...state.cart];\r\n  let index = cart.findIndex((c) => c.sku_id === action.sku_id);\r\n\r\n  if (cart[index].quantity === 1) {\r\n    cart = cart.filter((c) => c.sku_id !== action.sku_id);\r\n  } else {\r\n    cart[index].quantity = cart[index].quantity - 1;\r\n  }\r\n\r\n  const updatedSt = {\r\n    cart: cart,\r\n  };\r\n\r\n  return updateObject(state, updatedSt);\r\n};\r\n\r\nconst incrementProduct = (state, action) => {\r\n  let cart = [...state.cart];\r\n\r\n  let productIndex = cart.findIndex((c) => c.sku_id === action.sku_id);\r\n  console.log(productIndex);\r\n  if (productIndex !== -1) {\r\n    cart[productIndex].quantity = cart[productIndex].quantity + 1;\r\n  }\r\n\r\n  const updatedSt = {\r\n    cart: cart,\r\n  };\r\n\r\n  return updateObject(state, updatedSt);\r\n};\r\n\r\nconst setCart = (state, action) => {\r\n  console.log(state);\r\n  return updateObject(state, {\r\n    cart: action.cart,\r\n    loading: false,\r\n  });\r\n};\r\nconst clearCart = (state, action) => {\r\n  return updateObject(state, {\r\n    cart: [],\r\n  });\r\n};\r\n\r\nconst setLoading = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst validatedCart = (state, action) => {\r\n  console.log(state, action);\r\n  return updateObject(state, {\r\n    cart: action.data,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.ADD_TO_CART:\r\n      return addToCart(state, action);\r\n\r\n    case actionTypes.SET_CART:\r\n      return setCart(state, action);\r\n    case actionTypes.INCREMENT_PRODUCT:\r\n      return incrementProduct(state, action);\r\n    case actionTypes.DECREMENT_PRODUCT:\r\n      return decrementProduct(state, action);\r\n    case actionTypes.CART_LOADING:\r\n      return setLoading(state, action);\r\n    case actionTypes.VALIDATED_CART:\r\n      return validatedCart(state, action);\r\n    case actionTypes.CLEAR_CART:\r\n      return clearCart(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n\r\nconst initialState = {\r\n  category: [],\r\n};\r\n\r\nconst setCategory = (state, action) => {\r\n  return updateObject(state, {\r\n    category: action.category,\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_PRODUCT_CATEGORY:\r\n      return setCategory(state, action);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\nconst initialState = {\r\n  products: null,\r\n  loading: false,\r\n  page: 0,\r\n  query: \"\",\r\n  hasMore: false,\r\n  brand: [],\r\n  brand_filters: [],\r\n  sort: \"popularity\",\r\n};\r\n\r\nconst fetchProductStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst setBrand = (state, action) => {\r\n  let brand = [];\r\n  brand = action.payload.brand.map((i) => {\r\n    return { value: i.brand_id, label: i.brand.name };\r\n  });\r\n  return updateObject(state, { brand: brand });\r\n};\r\n\r\nconst resetProducts = (state, action) => {\r\n  return updateObject(state, { products: [] });\r\n};\r\nconst resetPage = (state, action) => {\r\n  return updateObject(state, { page: 0 });\r\n};\r\nconst setHasMore = (state, action) => {\r\n  return updateObject(state, { hasMore: action.data });\r\n};\r\nconst fetchMoreProducts = (state, action) => {\r\n  return updateObject(state, {\r\n    products: [...state.products, ...action.data],\r\n    loading: false,\r\n  });\r\n};\r\nconst setMoreSearch = (state, action) => {\r\n  return updateObject(state, {\r\n    products: [...state.products, ...action.data],\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst fetchProductsSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    products: action.products,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst fetchProductsFailed = (state, action) => {\r\n  return updateObject(state, { loading: false });\r\n};\r\nconst setQuery = (state, action) => {\r\n  return updateObject(state, { products: [], query: action.query });\r\n};\r\nconst incrementPage = (state, action) => {\r\n  return updateObject(state, { page: state.page + 1 });\r\n};\r\nconst setLoading = (state, action) => {\r\n  return updateObject(state, { loading: action.data });\r\n};\r\nconst setBrandFilter = (state, action) => {\r\n  return updateObject(state, {\r\n    brand_filters: [...action.data],\r\n  });\r\n};\r\n\r\nconst setSort = (state, action) => {\r\n  return updateObject(state, {\r\n    sort: action.data,\r\n  });\r\n};\r\n\r\nconst resetFilters = (state, action) => {\r\n  return updateObject(state, { brand_filters: [] });\r\n};\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    // case actionTypes.PURCHASE_INIT:\r\n    //   return purchaseInit(state, action);\r\n    case actionTypes.FETCH_PRODUCTS_START:\r\n      return fetchProductStart(state, action);\r\n    case actionTypes.FETCH_PRODUCTS_SUCCESS:\r\n      return fetchProductsSuccess(state, action);\r\n    case actionTypes.FETCH_PRODUCTS_FAILED:\r\n      return fetchProductsFailed(state, action);\r\n    case actionTypes.SET_MORE_PRODUCTS:\r\n      return fetchMoreProducts(state, action);\r\n    case actionTypes.RESET_PAGE:\r\n      return resetPage(state, action);\r\n    case actionTypes.SET_HAS_MORE:\r\n      return setHasMore(state, action);\r\n    case actionTypes.INCREMENT_PAGE:\r\n      return incrementPage(state, action);\r\n    case actionTypes.SET_LOADING:\r\n      return setLoading(state, action);\r\n    case actionTypes.RESET_PRODUCTS:\r\n      return resetProducts(state, action);\r\n    case actionTypes.SET_QUERY:\r\n      return setQuery(state, action);\r\n    case actionTypes.SET_MORE_SEARCH:\r\n      return setMoreSearch(state, action);\r\n    case actionTypes.SET_BRAND:\r\n      return setBrand(state, action);\r\n    case actionTypes.SET_BRAND_FILTER:\r\n      return setBrandFilter(state, action);\r\n    case actionTypes.RESET_FILTERS:\r\n      return resetFilters(state, action);\r\n    case actionTypes.SET_SORT:\r\n      return setSort(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\n\r\nconst initialState = {\r\n  search: [],\r\n  loading: false,\r\n};\r\n\r\nconst fetchSearchStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\nconst setSearch = (state, action) => {\r\n  return updateObject(state, {\r\n    search: [...state.search, ...action.data],\r\n    loading: false,\r\n  });\r\n};\r\nconst resetSearch = (state, action) => {\r\n  return updateObject(state, { search: [] });\r\n};\r\nconst fetchSearchFailed = (state, action) => {\r\n  return updateObject(state, { loading: false });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    // case actionTypes.PURCHASE_INIT:\r\n    //   return purchaseInit(state, action);\r\n    case actionTypes.FETCH_SEARCH_LOADING:\r\n      return fetchSearchStart(state, action);\r\n    case actionTypes.SET_SEARCH:\r\n      return setSearch(state, action);\r\n    case actionTypes.FETCH_SEARCH_FAILED:\r\n      return fetchSearchFailed(state, action);\r\n    case actionTypes.RESET_SEARCH:\r\n      return resetSearch(state, action);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"192.168.1.5:8080\" ||\r\n    // [::1] is the IPv6 192.168.1.5:8080 address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered 192.168.1.5:8080 for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      console.log(process.env.PUBLIC_URL);\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on 192.168.1.5:8080. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to 192.168.1.5:8080, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not 192.168.1.5:8080. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nconst initial_state = {\r\n  userId: null,\r\n  isSignedIn: false,\r\n  phoneNumber: null,\r\n  loading: false,\r\n  address: null,\r\n  defaultAddress: null,\r\n  isAdmin: false,\r\n};\r\n\r\nexport default (state = initial_state, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SIGN_IN:\r\n      return {\r\n        ...state,\r\n        isSignedIn: true,\r\n        isAdmin: action.payload.isAdmin,\r\n        userId: action.payload.response.id,\r\n        phoneNumber: action.payload.response.phoneNumber,\r\n        address: action.payload.response.address,\r\n        loading: false,\r\n      };\r\n    case actionTypes.SIGN_OUT:\r\n      return {\r\n        ...state,\r\n        isSignedIn: false,\r\n        phoneNumber: null,\r\n        address: null,\r\n        userId: null,\r\n        isAdmin: false,\r\n        loading: false,\r\n      };\r\n    case actionTypes.AUTH_LOADING:\r\n      return { ...state, loading: true };\r\n    case actionTypes.CURRENT_USER:\r\n      console.log(action.payload);\r\n      return {\r\n        ...state,\r\n        isSignedIn: true,\r\n        loading: false,\r\n        userId: action.payload.response.id,\r\n        phoneNumber: action.payload.response.phoneNumber,\r\n        address: action.payload.response.address,\r\n        isAdmin: action.payload.isAdmin,\r\n      };\r\n    case actionTypes.SET_ADDRESS:\r\n      console.log(action.payload);\r\n      return {\r\n        ...state,\r\n        address: [...action.payload],\r\n        loading: false,\r\n      };\r\n    case actionTypes.FETCH_ADDRESS_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case actionTypes.ADD_ADDRESS:\r\n      return {\r\n        ...state,\r\n        address: [...state.address, action.payload],\r\n      };\r\n    case actionTypes.DELETE_ADDRESS:\r\n      const id = action.payload;\r\n      const addresses = state.address.filter((i) => i.id !== id);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n\r\n        address: addresses,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\n\r\nexport const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties,\r\n  };\r\n};\r\nconst initialState = {\r\n  orders: [],\r\n  loading: null,\r\n  purchased: false,\r\n  orderId: null,\r\n};\r\n\r\nconst purchaseInit = (state, action) => {\r\n  return updateObject(state, { purchasing: true });\r\n};\r\nconst purchaseReset = (state, action) => {\r\n  return updateObject(state, { purchased: false });\r\n};\r\n\r\nconst orderStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst orderSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    orderId: action.orderId,\r\n    purchased: true,\r\n  });\r\n};\r\n\r\nconst orderFail = (state, action) => {\r\n  return updateObject(state, { loading: false });\r\n};\r\n\r\nconst fetchOrdersStart = (state, action) => {\r\n  return updateObject(state, { loading: true });\r\n};\r\n\r\nconst fetchOrdersSuccess = (state, action) => {\r\n  console.log(action);\r\n  return updateObject(state, {\r\n    orders: action.orders,\r\n    loading: false,\r\n  });\r\n};\r\n\r\nconst fetchOrdersFail = (state, action) => {\r\n  return updateObject(state, { loading: false });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.PURCHASE_INIT:\r\n      return purchaseInit(state, action);\r\n    case actionTypes.PURCHASE_RESET:\r\n      return purchaseReset(state, action);\r\n    case actionTypes.CREATE_ORDER_START:\r\n      return orderStart(state, action);\r\n    case actionTypes.CREATE_ORDER_SUCCESS:\r\n      return orderSuccess(state, action);\r\n    case actionTypes.CREATE_ORDER_FAILED:\r\n      return orderFail(state, action);\r\n    case actionTypes.FETCH_ORDERS_START:\r\n      return fetchOrdersStart(state, action);\r\n    case actionTypes.FETCH_ORDERS_SUCCESS:\r\n      return fetchOrdersSuccess(state, action);\r\n    case actionTypes.FETCH_ORDERS_FAIL:\r\n      return fetchOrdersFail(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/tailwind.css\";\r\nimport App from \"./App\";\r\nimport { createStore, combineReducers, compose, applyMiddleware } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport cartBuilder from \"./store/reducer/cart\";\r\nimport category from \"./store/reducer/category\";\r\nimport products from \"./store/reducer/products\";\r\nimport search from \"./store/reducer/search\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport thunk from \"redux-thunk\";\r\nimport auth from \"./store/reducer/auth\";\r\nimport order from \"./store/reducer/order\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nconst queryClient = new QueryClient();\r\n// import createSageMiddleware from \"redux-saga\";\r\n// import rootSaga from \"./sagas\";\r\n\r\n// const sagaMiddleware = createSageMiddleware();\r\nconst middlewares = [thunk];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst rootReducer = combineReducers({\r\n  cartBuilder: cartBuilder,\r\n  categoryBuilder: category,\r\n  productBuilder: products,\r\n  authBuilder: auth,\r\n  searchBuilder: search,\r\n  orderBuilder: order,\r\n});\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(...middlewares))\r\n);\r\n// sagaMiddleware.run(rootSaga);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <QueryClientProvider client={queryClient}>\r\n      <App></App>\r\n    </QueryClientProvider>\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\nserviceWorker.register();\r\n"],"sourceRoot":""}